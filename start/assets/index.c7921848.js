function Qx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function eE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tE(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var S={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),Yx=Symbol.for("react.portal"),Xx=Symbol.for("react.fragment"),Jx=Symbol.for("react.strict_mode"),Zx=Symbol.for("react.profiler"),eA=Symbol.for("react.provider"),tA=Symbol.for("react.context"),nA=Symbol.for("react.forward_ref"),rA=Symbol.for("react.suspense"),iA=Symbol.for("react.memo"),sA=Symbol.for("react.lazy"),e1=Symbol.iterator;function oA(t){return t===null||typeof t!="object"?null:(t=e1&&t[e1]||t["@@iterator"],typeof t=="function"?t:null)}var nE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rE=Object.assign,iE={};function qo(t,e,n){this.props=t,this.context=e,this.refs=iE,this.updater=n||nE}qo.prototype.isReactComponent={};qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sE(){}sE.prototype=qo.prototype;function Bg(t,e,n){this.props=t,this.context=e,this.refs=iE,this.updater=n||nE}var zg=Bg.prototype=new sE;zg.constructor=Bg;rE(zg,qo.prototype);zg.isPureReactComponent=!0;var t1=Array.isArray,oE=Object.prototype.hasOwnProperty,jg={current:null},aE={key:!0,ref:!0,__self:!0,__source:!0};function lE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)oE.call(e,r)&&!aE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ql,type:t,key:s,ref:o,props:i,_owner:jg.current}}function aA(t,e){return{$$typeof:ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ql}function lA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n1=/\/+/g;function Wf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lA(""+t.key):e.toString(36)}function wc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ql:case Yx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Wf(o,0):r,t1(i)?(n="",t!=null&&(n=t.replace(n1,"$&/")+"/"),wc(i,e,n,"",function(u){return u})):i!=null&&(Wg(i)&&(i=aA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Wf(s,a);o+=wc(s,e,n,l,i)}else if(l=oA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Wf(s,a++),o+=wc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vu(t,e,n){if(t==null)return t;var r=[],i=0;return wc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function uA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},_c={transition:null},cA={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:_c,ReactCurrentOwner:jg};Se.Children={map:Vu,forEach:function(t,e,n){Vu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vu(t,function(){e++}),e},toArray:function(t){return Vu(t,function(e){return e})||[]},only:function(t){if(!Wg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=qo;Se.Fragment=Xx;Se.Profiler=Zx;Se.PureComponent=Bg;Se.StrictMode=Jx;Se.Suspense=rA;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cA;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)oE.call(e,l)&&!aE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ql,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:tA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eA,_context:t},t.Consumer=t};Se.createElement=lE;Se.createFactory=function(t){var e=lE.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:nA,render:t}};Se.isValidElement=Wg;Se.lazy=function(t){return{$$typeof:sA,_payload:{_status:-1,_result:t},_init:uA}};Se.memo=function(t,e){return{$$typeof:iA,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=_c.transition;_c.transition={};try{t()}finally{_c.transition=e}};Se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Se.useCallback=function(t,e){return nn.current.useCallback(t,e)};Se.useContext=function(t){return nn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return nn.current.useEffect(t,e)};Se.useId=function(){return nn.current.useId()};Se.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return nn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};Se.useRef=function(t){return nn.current.useRef(t)};Se.useState=function(t){return nn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return nn.current.useTransition()};Se.version="18.2.0";(function(t){t.exports=Se})(S);const rt=eE(S.exports),Eo=Qx({__proto__:null,default:rt},[S.exports]);var Zp={},Hg={exports:{}},Pn={},uE={exports:{}},cE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,X){var U=M.length;M.push(X);e:for(;0<U;){var J=U-1>>>1,R=M[J];if(0<i(R,X))M[J]=X,M[U]=R,U=J;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var X=M[0],U=M.pop();if(U!==X){M[0]=U;e:for(var J=0,R=M.length,O=R>>>1;J<O;){var D=2*(J+1)-1,te=M[D],B=D+1,ue=M[B];if(0>i(te,U))B<R&&0>i(ue,te)?(M[J]=ue,M[B]=U,J=B):(M[J]=te,M[D]=U,J=D);else if(B<R&&0>i(ue,U))M[J]=ue,M[B]=U,J=B;else break e}}return X}function i(M,X){var U=M.sortIndex-X.sortIndex;return U!==0?U:M.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,f=!1,m=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=M)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function _(M){if(m=!1,v(M),!f)if(n(l)!==null)f=!0,Te(C);else{var X=n(u);X!==null&&be(_,X.startTime-M)}}function C(M,X){f=!1,m&&(m=!1,y($),$=-1),p=!0;var U=h;try{for(v(X),d=n(l);d!==null&&(!(d.expirationTime>X)||M&&!ee());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var R=J(d.expirationTime<=X);X=t.unstable_now(),typeof R=="function"?d.callback=R:d===n(l)&&r(l),v(X)}else r(l);d=n(l)}if(d!==null)var O=!0;else{var D=n(u);D!==null&&be(_,D.startTime-X),O=!1}return O}finally{d=null,h=U,p=!1}}var I=!1,b=null,$=-1,Z=5,x=-1;function ee(){return!(t.unstable_now()-x<Z)}function pe(){if(b!==null){var M=t.unstable_now();x=M;var X=!0;try{X=b(!0,M)}finally{X?me():(I=!1,b=null)}}else I=!1}var me;if(typeof g=="function")me=function(){g(pe)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Pe=re.port2;re.port1.onmessage=pe,me=function(){Pe.postMessage(null)}}else me=function(){E(pe,0)};function Te(M){b=M,I||(I=!0,me())}function be(M,X){$=E(function(){M(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,Te(C))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var U=h;h=X;try{return M()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=h;h=M;try{return X()}finally{h=U}},t.unstable_scheduleCallback=function(M,X,U){var J=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=U+R,M={id:c++,callback:X,priorityLevel:M,startTime:U,expirationTime:R,sortIndex:-1},U>J?(M.sortIndex=U,e(u,M),n(l)===null&&M===n(u)&&(m?(y($),$=-1):m=!0,be(_,U-J))):(M.sortIndex=R,e(l,M),f||p||(f=!0,Te(C))),M},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(M){var X=h;return function(){var U=h;h=X;try{return M.apply(this,arguments)}finally{h=U}}}})(cE);(function(t){t.exports=cE})(uE);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE=S.exports,An=uE.exports;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hE=new Set,al={};function ks(t,e){To(t,e),To(t+"Capture",e)}function To(t,e){for(al[t]=e,t=0;t<e.length;t++)hE.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),em=Object.prototype.hasOwnProperty,dA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r1={},i1={};function hA(t){return em.call(i1,t)?!0:em.call(r1,t)?!1:dA.test(t)?i1[t]=!0:(r1[t]=!0,!1)}function fA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pA(t,e,n,r){if(e===null||typeof e>"u"||fA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var qg=/[\-:]([a-z])/g;function Gg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qg,Gg);Nt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qg,Gg);Nt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qg,Gg);Nt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kg(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pA(e,n,i,r)&&(n=null),r||i===null?hA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gr=dE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fu=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),Qg=Symbol.for("react.strict_mode"),tm=Symbol.for("react.profiler"),fE=Symbol.for("react.provider"),pE=Symbol.for("react.context"),Yg=Symbol.for("react.forward_ref"),nm=Symbol.for("react.suspense"),rm=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),ti=Symbol.for("react.lazy"),mE=Symbol.for("react.offscreen"),s1=Symbol.iterator;function da(t){return t===null||typeof t!="object"?null:(t=s1&&t[s1]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,Hf;function xa(t){if(Hf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hf=e&&e[1]||""}return`
`+Hf+t}var qf=!1;function Gf(t,e){if(!t||qf)return"";qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xa(t):""}function mA(t){switch(t.tag){case 5:return xa(t.type);case 16:return xa("Lazy");case 13:return xa("Suspense");case 19:return xa("SuspenseList");case 0:case 2:case 15:return t=Gf(t.type,!1),t;case 11:return t=Gf(t.type.render,!1),t;case 1:return t=Gf(t.type,!0),t;default:return""}}function im(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gs:return"Fragment";case qs:return"Portal";case tm:return"Profiler";case Qg:return"StrictMode";case nm:return"Suspense";case rm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pE:return(t.displayName||"Context")+".Consumer";case fE:return(t._context.displayName||"Context")+".Provider";case Yg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xg:return e=t.displayName||null,e!==null?e:im(t.type)||"Memo";case ti:e=t._payload,t=t._init;try{return im(t(e))}catch{}}return null}function gA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return im(e);case 8:return e===Qg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yA(t){var e=gE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bu(t){t._valueTracker||(t._valueTracker=yA(t))}function yE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sm(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function o1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vE(t,e){e=e.checked,e!=null&&Kg(t,"checked",e,!1)}function om(t,e){vE(t,e);var n=ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?am(t,e.type,n):e.hasOwnProperty("defaultValue")&&am(t,e.type,ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function am(t,e,n){(e!=="number"||Hc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Aa=Array.isArray;function ao(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ki(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Aa(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ki(n)}}function wE(t,e){var n=ki(e.value),r=ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _E(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function um(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_E(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zu,SE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zu=zu||document.createElement("div"),zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ll(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vA=["Webkit","ms","Moz","O"];Object.keys(za).forEach(function(t){vA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),za[e]=za[t]})});function EE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||za.hasOwnProperty(t)&&za[t]?(""+e).trim():e+"px"}function TE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wA=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cm(t,e){if(e){if(wA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function dm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hm=null;function Jg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fm=null,lo=null,uo=null;function c1(t){if(t=Ql(t)){if(typeof fm!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Xd(e),fm(t.stateNode,t.type,e))}}function RE(t){lo?uo?uo.push(t):uo=[t]:lo=t}function kE(){if(lo){var t=lo,e=uo;if(uo=lo=null,c1(t),e)for(t=0;t<e.length;t++)c1(e[t])}}function CE(t,e){return t(e)}function bE(){}var Kf=!1;function IE(t,e,n){if(Kf)return t(e,n);Kf=!0;try{return CE(t,e,n)}finally{Kf=!1,(lo!==null||uo!==null)&&(bE(),kE())}}function ul(t,e){var n=t.stateNode;if(n===null)return null;var r=Xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var pm=!1;if(Or)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){pm=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{pm=!1}function _A(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ja=!1,qc=null,Gc=!1,mm=null,SA={onError:function(t){ja=!0,qc=t}};function EA(t,e,n,r,i,s,o,a,l){ja=!1,qc=null,_A.apply(SA,arguments)}function TA(t,e,n,r,i,s,o,a,l){if(EA.apply(this,arguments),ja){if(ja){var u=qc;ja=!1,qc=null}else throw Error(P(198));Gc||(Gc=!0,mm=u)}}function Cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d1(t){if(Cs(t)!==t)throw Error(P(188))}function RA(t){var e=t.alternate;if(!e){if(e=Cs(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return d1(i),t;if(s===r)return d1(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function AE(t){return t=RA(t),t!==null?NE(t):null}function NE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NE(t);if(e!==null)return e;t=t.sibling}return null}var $E=An.unstable_scheduleCallback,h1=An.unstable_cancelCallback,kA=An.unstable_shouldYield,CA=An.unstable_requestPaint,st=An.unstable_now,bA=An.unstable_getCurrentPriorityLevel,Zg=An.unstable_ImmediatePriority,PE=An.unstable_UserBlockingPriority,Kc=An.unstable_NormalPriority,IA=An.unstable_LowPriority,LE=An.unstable_IdlePriority,Gd=null,cr=null;function xA(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Gd,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:$A,AA=Math.log,NA=Math.LN2;function $A(t){return t>>>=0,t===0?32:31-(AA(t)/NA|0)|0}var ju=64,Wu=4194304;function Na(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Na(a):(s&=o,s!==0&&(r=Na(s)))}else o=n&~i,o!==0?r=Na(o):s!==0&&(r=Na(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),i=1<<n,r|=t[n],e&=~i;return r}function PA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zn(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=PA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function gm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ME(){var t=ju;return ju<<=1,(ju&4194240)===0&&(ju=64),t}function Qf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function MA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ey(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function DE(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var OE,ty,UE,VE,FE,ym=!1,Hu=[],mi=null,gi=null,yi=null,cl=new Map,dl=new Map,ii=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f1(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(e.pointerId)}}function fa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ql(e),e!==null&&ty(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OA(t,e,n,r,i){switch(e){case"focusin":return mi=fa(mi,t,e,n,r,i),!0;case"dragenter":return gi=fa(gi,t,e,n,r,i),!0;case"mouseover":return yi=fa(yi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return cl.set(s,fa(cl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,dl.set(s,fa(dl.get(s)||null,t,e,n,r,i)),!0}return!1}function BE(t){var e=Qi(t.target);if(e!==null){var n=Cs(e);if(n!==null){if(e=n.tag,e===13){if(e=xE(n),e!==null){t.blockedOn=e,FE(t.priority,function(){UE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hm=r,n.target.dispatchEvent(r),hm=null}else return e=Ql(n),e!==null&&ty(e),t.blockedOn=n,!1;e.shift()}return!0}function p1(t,e,n){Sc(t)&&n.delete(e)}function UA(){ym=!1,mi!==null&&Sc(mi)&&(mi=null),gi!==null&&Sc(gi)&&(gi=null),yi!==null&&Sc(yi)&&(yi=null),cl.forEach(p1),dl.forEach(p1)}function pa(t,e){t.blockedOn===e&&(t.blockedOn=null,ym||(ym=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,UA)))}function hl(t){function e(i){return pa(i,t)}if(0<Hu.length){pa(Hu[0],t);for(var n=1;n<Hu.length;n++){var r=Hu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mi!==null&&pa(mi,t),gi!==null&&pa(gi,t),yi!==null&&pa(yi,t),cl.forEach(e),dl.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)BE(n),n.blockedOn===null&&ii.shift()}var co=Gr.ReactCurrentBatchConfig,Yc=!0;function VA(t,e,n,r){var i=Ne,s=co.transition;co.transition=null;try{Ne=1,ny(t,e,n,r)}finally{Ne=i,co.transition=s}}function FA(t,e,n,r){var i=Ne,s=co.transition;co.transition=null;try{Ne=4,ny(t,e,n,r)}finally{Ne=i,co.transition=s}}function ny(t,e,n,r){if(Yc){var i=vm(t,e,n,r);if(i===null)sp(t,e,r,Xc,n),f1(t,r);else if(OA(i,t,e,n,r))r.stopPropagation();else if(f1(t,r),e&4&&-1<DA.indexOf(t)){for(;i!==null;){var s=Ql(i);if(s!==null&&OE(s),s=vm(t,e,n,r),s===null&&sp(t,e,r,Xc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sp(t,e,r,null,n)}}var Xc=null;function vm(t,e,n,r){if(Xc=null,t=Jg(r),t=Qi(t),t!==null)if(e=Cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xc=t,null}function zE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bA()){case Zg:return 1;case PE:return 4;case Kc:case IA:return 16;case LE:return 536870912;default:return 16}default:return 16}}var di=null,ry=null,Ec=null;function jE(){if(Ec)return Ec;var t,e=ry,n=e.length,r,i="value"in di?di.value:di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ec=i.slice(t,1<r?1-r:void 0)}function Tc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qu(){return!0}function m1(){return!1}function Ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qu:m1,this.isPropagationStopped=m1,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iy=Ln(Go),Kl=Ze({},Go,{view:0,detail:0}),BA=Ln(Kl),Yf,Xf,ma,Kd=Ze({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ma&&(ma&&t.type==="mousemove"?(Yf=t.screenX-ma.screenX,Xf=t.screenY-ma.screenY):Xf=Yf=0,ma=t),Yf)},movementY:function(t){return"movementY"in t?t.movementY:Xf}}),g1=Ln(Kd),zA=Ze({},Kd,{dataTransfer:0}),jA=Ln(zA),WA=Ze({},Kl,{relatedTarget:0}),Jf=Ln(WA),HA=Ze({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),qA=Ln(HA),GA=Ze({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KA=Ln(GA),QA=Ze({},Go,{data:0}),y1=Ln(QA),YA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JA[t])?!!e[t]:!1}function sy(){return ZA}var eN=Ze({},Kl,{key:function(t){if(t.key){var e=YA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sy,charCode:function(t){return t.type==="keypress"?Tc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tN=Ln(eN),nN=Ze({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v1=Ln(nN),rN=Ze({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sy}),iN=Ln(rN),sN=Ze({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),oN=Ln(sN),aN=Ze({},Kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lN=Ln(aN),uN=[9,13,27,32],oy=Or&&"CompositionEvent"in window,Wa=null;Or&&"documentMode"in document&&(Wa=document.documentMode);var cN=Or&&"TextEvent"in window&&!Wa,WE=Or&&(!oy||Wa&&8<Wa&&11>=Wa),w1=String.fromCharCode(32),_1=!1;function HE(t,e){switch(t){case"keyup":return uN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function dN(t,e){switch(t){case"compositionend":return qE(e);case"keypress":return e.which!==32?null:(_1=!0,w1);case"textInput":return t=e.data,t===w1&&_1?null:t;default:return null}}function hN(t,e){if(Ks)return t==="compositionend"||!oy&&HE(t,e)?(t=jE(),Ec=ry=di=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WE&&e.locale!=="ko"?null:e.data;default:return null}}var fN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fN[t.type]:e==="textarea"}function GE(t,e,n,r){RE(r),e=Jc(e,"onChange"),0<e.length&&(n=new iy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ha=null,fl=null;function pN(t){iT(t,0)}function Qd(t){var e=Xs(t);if(yE(e))return t}function mN(t,e){if(t==="change")return e}var KE=!1;if(Or){var Zf;if(Or){var ep="oninput"in document;if(!ep){var E1=document.createElement("div");E1.setAttribute("oninput","return;"),ep=typeof E1.oninput=="function"}Zf=ep}else Zf=!1;KE=Zf&&(!document.documentMode||9<document.documentMode)}function T1(){Ha&&(Ha.detachEvent("onpropertychange",QE),fl=Ha=null)}function QE(t){if(t.propertyName==="value"&&Qd(fl)){var e=[];GE(e,fl,t,Jg(t)),IE(pN,e)}}function gN(t,e,n){t==="focusin"?(T1(),Ha=e,fl=n,Ha.attachEvent("onpropertychange",QE)):t==="focusout"&&T1()}function yN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qd(fl)}function vN(t,e){if(t==="click")return Qd(e)}function wN(t,e){if(t==="input"||t==="change")return Qd(e)}function _N(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:_N;function pl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!em.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function R1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k1(t,e){var n=R1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R1(n)}}function YE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?YE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XE(){for(var t=window,e=Hc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hc(t.document)}return e}function ay(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SN(t){var e=XE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&YE(n.ownerDocument.documentElement,n)){if(r!==null&&ay(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=k1(n,s);var o=k1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EN=Or&&"documentMode"in document&&11>=document.documentMode,Qs=null,wm=null,qa=null,_m=!1;function C1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_m||Qs==null||Qs!==Hc(r)||(r=Qs,"selectionStart"in r&&ay(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qa&&pl(qa,r)||(qa=r,r=Jc(wm,"onSelect"),0<r.length&&(e=new iy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qs)))}function Gu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ys={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},tp={},JE={};Or&&(JE=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Yd(t){if(tp[t])return tp[t];if(!Ys[t])return t;var e=Ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in JE)return tp[t]=e[n];return t}var ZE=Yd("animationend"),eT=Yd("animationiteration"),tT=Yd("animationstart"),nT=Yd("transitionend"),rT=new Map,b1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){rT.set(t,e),ks(e,[t])}for(var np=0;np<b1.length;np++){var rp=b1[np],TN=rp.toLowerCase(),RN=rp[0].toUpperCase()+rp.slice(1);Pi(TN,"on"+RN)}Pi(ZE,"onAnimationEnd");Pi(eT,"onAnimationIteration");Pi(tT,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(nT,"onTransitionEnd");To("onMouseEnter",["mouseout","mouseover"]);To("onMouseLeave",["mouseout","mouseover"]);To("onPointerEnter",["pointerout","pointerover"]);To("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kN=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function I1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TA(r,e,void 0,t),t.currentTarget=null}function iT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;I1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;I1(i,a,u),s=l}}}if(Gc)throw t=mm,Gc=!1,mm=null,t}function Fe(t,e){var n=e[km];n===void 0&&(n=e[km]=new Set);var r=t+"__bubble";n.has(r)||(sT(e,t,2,!1),n.add(r))}function ip(t,e,n){var r=0;e&&(r|=4),sT(n,t,r,e)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function ml(t){if(!t[Ku]){t[Ku]=!0,hE.forEach(function(n){n!=="selectionchange"&&(kN.has(n)||ip(n,!1,t),ip(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ku]||(e[Ku]=!0,ip("selectionchange",!1,e))}}function sT(t,e,n,r){switch(zE(e)){case 1:var i=VA;break;case 4:i=FA;break;default:i=ny}n=i.bind(null,e,n,t),i=void 0,!pm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sp(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}IE(function(){var u=s,c=Jg(n),d=[];e:{var h=rT.get(t);if(h!==void 0){var p=iy,f=t;switch(t){case"keypress":if(Tc(n)===0)break e;case"keydown":case"keyup":p=tN;break;case"focusin":f="focus",p=Jf;break;case"focusout":f="blur",p=Jf;break;case"beforeblur":case"afterblur":p=Jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=g1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iN;break;case ZE:case eT:case tT:p=qA;break;case nT:p=oN;break;case"scroll":p=BA;break;case"wheel":p=lN;break;case"copy":case"cut":case"paste":p=KA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=v1}var m=(e&4)!==0,E=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,v;g!==null;){v=g;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=ul(g,y),_!=null&&m.push(gl(g,_,v)))),E)break;g=g.return}0<m.length&&(h=new p(h,f,null,n,c),d.push({event:h,listeners:m}))}}if((e&7)===0){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==hm&&(f=n.relatedTarget||n.fromElement)&&(Qi(f)||f[Ur]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=n.relatedTarget||n.toElement,p=u,f=f?Qi(f):null,f!==null&&(E=Cs(f),f!==E||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=u),p!==f)){if(m=g1,_="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=v1,_="onPointerLeave",y="onPointerEnter",g="pointer"),E=p==null?h:Xs(p),v=f==null?h:Xs(f),h=new m(_,g+"leave",p,n,c),h.target=E,h.relatedTarget=v,_=null,Qi(c)===u&&(m=new m(y,g+"enter",f,n,c),m.target=v,m.relatedTarget=E,_=m),E=_,p&&f)t:{for(m=p,y=f,g=0,v=m;v;v=Os(v))g++;for(v=0,_=y;_;_=Os(_))v++;for(;0<g-v;)m=Os(m),g--;for(;0<v-g;)y=Os(y),v--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=Os(m),y=Os(y)}m=null}else m=null;p!==null&&x1(d,h,p,m,!1),f!==null&&E!==null&&x1(d,E,f,m,!0)}}e:{if(h=u?Xs(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=mN;else if(S1(h))if(KE)C=wN;else{C=yN;var I=gN}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=vN);if(C&&(C=C(t,u))){GE(d,C,n,c);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&am(h,"number",h.value)}switch(I=u?Xs(u):window,t){case"focusin":(S1(I)||I.contentEditable==="true")&&(Qs=I,wm=u,qa=null);break;case"focusout":qa=wm=Qs=null;break;case"mousedown":_m=!0;break;case"contextmenu":case"mouseup":case"dragend":_m=!1,C1(d,n,c);break;case"selectionchange":if(EN)break;case"keydown":case"keyup":C1(d,n,c)}var b;if(oy)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Ks?HE(t,n)&&($="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(WE&&n.locale!=="ko"&&(Ks||$!=="onCompositionStart"?$==="onCompositionEnd"&&Ks&&(b=jE()):(di=c,ry="value"in di?di.value:di.textContent,Ks=!0)),I=Jc(u,$),0<I.length&&($=new y1($,t,null,n,c),d.push({event:$,listeners:I}),b?$.data=b:(b=qE(n),b!==null&&($.data=b)))),(b=cN?dN(t,n):hN(t,n))&&(u=Jc(u,"onBeforeInput"),0<u.length&&(c=new y1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}iT(d,e)})}function gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ul(t,n),s!=null&&r.unshift(gl(t,s,i)),s=ul(t,e),s!=null&&r.push(gl(t,s,i))),t=t.return}return r}function Os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ul(n,s),l!=null&&o.unshift(gl(n,l,a))):i||(l=ul(n,s),l!=null&&o.push(gl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CN=/\r\n?/g,bN=/\u0000|\uFFFD/g;function A1(t){return(typeof t=="string"?t:""+t).replace(CN,`
`).replace(bN,"")}function Qu(t,e,n){if(e=A1(e),A1(t)!==e&&n)throw Error(P(425))}function Zc(){}var Sm=null,Em=null;function Tm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rm=typeof setTimeout=="function"?setTimeout:void 0,IN=typeof clearTimeout=="function"?clearTimeout:void 0,N1=typeof Promise=="function"?Promise:void 0,xN=typeof queueMicrotask=="function"?queueMicrotask:typeof N1<"u"?function(t){return N1.resolve(null).then(t).catch(AN)}:Rm;function AN(t){setTimeout(function(){throw t})}function op(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hl(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),ar="__reactFiber$"+Ko,yl="__reactProps$"+Ko,Ur="__reactContainer$"+Ko,km="__reactEvents$"+Ko,NN="__reactListeners$"+Ko,$N="__reactHandles$"+Ko;function Qi(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$1(t);t!==null;){if(n=t[ar])return n;t=$1(t)}return e}t=n,n=t.parentNode}return null}function Ql(t){return t=t[ar]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Xd(t){return t[yl]||null}var Cm=[],Js=-1;function Li(t){return{current:t}}function Be(t){0>Js||(t.current=Cm[Js],Cm[Js]=null,Js--)}function Oe(t,e){Js++,Cm[Js]=t.current,t.current=e}var Ci={},jt=Li(Ci),gn=Li(!1),us=Ci;function Ro(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function ed(){Be(gn),Be(jt)}function P1(t,e,n){if(jt.current!==Ci)throw Error(P(168));Oe(jt,e),Oe(gn,n)}function oT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,gA(t)||"Unknown",i));return Ze({},n,r)}function td(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,us=jt.current,Oe(jt,t),Oe(gn,gn.current),!0}function L1(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=oT(t,e,us),r.__reactInternalMemoizedMergedChildContext=t,Be(gn),Be(jt),Oe(jt,t)):Be(gn),Oe(gn,n)}var Cr=null,Jd=!1,ap=!1;function aT(t){Cr===null?Cr=[t]:Cr.push(t)}function PN(t){Jd=!0,aT(t)}function Mi(){if(!ap&&Cr!==null){ap=!0;var t=0,e=Ne;try{var n=Cr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cr=null,Jd=!1}catch(i){throw Cr!==null&&(Cr=Cr.slice(t+1)),$E(Zg,Mi),i}finally{Ne=e,ap=!1}}return null}var Zs=[],eo=0,nd=null,rd=0,Un=[],Vn=0,cs=null,br=1,Ir="";function Hi(t,e){Zs[eo++]=rd,Zs[eo++]=nd,nd=t,rd=e}function lT(t,e,n){Un[Vn++]=br,Un[Vn++]=Ir,Un[Vn++]=cs,cs=t;var r=br;t=Ir;var i=32-Zn(r)-1;r&=~(1<<i),n+=1;var s=32-Zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,br=1<<32-Zn(e)+i|n<<i|r,Ir=s+t}else br=1<<s|n<<i|r,Ir=t}function ly(t){t.return!==null&&(Hi(t,1),lT(t,1,0))}function uy(t){for(;t===nd;)nd=Zs[--eo],Zs[eo]=null,rd=Zs[--eo],Zs[eo]=null;for(;t===cs;)cs=Un[--Vn],Un[Vn]=null,Ir=Un[--Vn],Un[Vn]=null,br=Un[--Vn],Un[Vn]=null}var bn=null,kn=null,We=!1,Jn=null;function uT(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,kn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:br,overflow:Ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,kn=null,!0):!1;default:return!1}}function bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Im(t){if(We){var e=kn;if(e){var n=e;if(!M1(t,e)){if(bm(t))throw Error(P(418));e=vi(n.nextSibling);var r=bn;e&&M1(t,e)?uT(r,n):(t.flags=t.flags&-4097|2,We=!1,bn=t)}}else{if(bm(t))throw Error(P(418));t.flags=t.flags&-4097|2,We=!1,bn=t}}}function D1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Yu(t){if(t!==bn)return!1;if(!We)return D1(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tm(t.type,t.memoizedProps)),e&&(e=kn)){if(bm(t))throw cT(),Error(P(418));for(;e;)uT(t,e),e=vi(e.nextSibling)}if(D1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=bn?vi(t.stateNode.nextSibling):null;return!0}function cT(){for(var t=kn;t;)t=vi(t.nextSibling)}function ko(){kn=bn=null,We=!1}function cy(t){Jn===null?Jn=[t]:Jn.push(t)}var LN=Gr.ReactCurrentBatchConfig;function Yn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var id=Li(null),sd=null,to=null,dy=null;function hy(){dy=to=sd=null}function fy(t){var e=id.current;Be(id),t._currentValue=e}function xm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ho(t,e){sd=t,dy=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(pn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(dy!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(sd===null)throw Error(P(308));to=t,sd.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var Yi=null;function py(t){Yi===null?Yi=[t]:Yi.push(t)}function dT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,py(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ni=!1;function my(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Re&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vr(t,n)}return i=r.interleaved,i===null?(e.next=e,py(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vr(t,n)}function Rc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ey(t,n)}}function O1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function od(t,e,n,r){var i=t.updateQueue;ni=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=t,m=a;switch(h=e,p=n,m.tag){case 1:if(f=m.payload,typeof f=="function"){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,h=typeof f=="function"?f.call(p,d,h):f,h==null)break e;d=Ze({},d,h);break e;case 2:ni=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);hs|=o,t.lanes=o,t.memoizedState=d}}function U1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var fT=new dE.Component().refs;function Am(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zd={isMounted:function(t){return(t=t._reactInternals)?Cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),i=Si(t),s=$r(r,i);s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(er(e,t,i,r),Rc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),i=Si(t),s=$r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(er(e,t,i,r),Rc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=Si(t),i=$r(n,r);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,r),e!==null&&(er(e,t,r,n),Rc(e,t,r))}};function V1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!pl(n,r)||!pl(i,s):!0}function pT(t,e,n){var r=!1,i=Ci,s=e.contextType;return typeof s=="object"&&s!==null?s=Wn(s):(i=yn(e)?us:jt.current,r=e.contextTypes,s=(r=r!=null)?Ro(t,i):Ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function F1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zd.enqueueReplaceState(e,e.state,null)}function Nm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fT,my(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wn(s):(s=yn(e)?us:jt.current,i.context=Ro(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Am(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zd.enqueueReplaceState(i,i.state,null),od(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===fT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Xu(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B1(t){var e=t._init;return e(t._payload)}function mT(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Ei(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,v,_){return g===null||g.tag!==6?(g=pp(v,y.mode,_),g.return=y,g):(g=i(g,v),g.return=y,g)}function l(y,g,v,_){var C=v.type;return C===Gs?c(y,g,v.props.children,_,v.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ti&&B1(C)===g.type)?(_=i(g,v.props),_.ref=ga(y,g,v),_.return=y,_):(_=Ac(v.type,v.key,v.props,null,y.mode,_),_.ref=ga(y,g,v),_.return=y,_)}function u(y,g,v,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=mp(v,y.mode,_),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function c(y,g,v,_,C){return g===null||g.tag!==7?(g=rs(v,y.mode,_,C),g.return=y,g):(g=i(g,v),g.return=y,g)}function d(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=pp(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fu:return v=Ac(g.type,g.key,g.props,null,y.mode,v),v.ref=ga(y,null,g),v.return=y,v;case qs:return g=mp(g,y.mode,v),g.return=y,g;case ti:var _=g._init;return d(y,_(g._payload),v)}if(Aa(g)||da(g))return g=rs(g,y.mode,v,null),g.return=y,g;Xu(y,g)}return null}function h(y,g,v,_){var C=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(y,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fu:return v.key===C?l(y,g,v,_):null;case qs:return v.key===C?u(y,g,v,_):null;case ti:return C=v._init,h(y,g,C(v._payload),_)}if(Aa(v)||da(v))return C!==null?null:c(y,g,v,_,null);Xu(y,v)}return null}function p(y,g,v,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,a(g,y,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fu:return y=y.get(_.key===null?v:_.key)||null,l(g,y,_,C);case qs:return y=y.get(_.key===null?v:_.key)||null,u(g,y,_,C);case ti:var I=_._init;return p(y,g,v,I(_._payload),C)}if(Aa(_)||da(_))return y=y.get(v)||null,c(g,y,_,C,null);Xu(g,_)}return null}function f(y,g,v,_){for(var C=null,I=null,b=g,$=g=0,Z=null;b!==null&&$<v.length;$++){b.index>$?(Z=b,b=null):Z=b.sibling;var x=h(y,b,v[$],_);if(x===null){b===null&&(b=Z);break}t&&b&&x.alternate===null&&e(y,b),g=s(x,g,$),I===null?C=x:I.sibling=x,I=x,b=Z}if($===v.length)return n(y,b),We&&Hi(y,$),C;if(b===null){for(;$<v.length;$++)b=d(y,v[$],_),b!==null&&(g=s(b,g,$),I===null?C=b:I.sibling=b,I=b);return We&&Hi(y,$),C}for(b=r(y,b);$<v.length;$++)Z=p(b,y,$,v[$],_),Z!==null&&(t&&Z.alternate!==null&&b.delete(Z.key===null?$:Z.key),g=s(Z,g,$),I===null?C=Z:I.sibling=Z,I=Z);return t&&b.forEach(function(ee){return e(y,ee)}),We&&Hi(y,$),C}function m(y,g,v,_){var C=da(v);if(typeof C!="function")throw Error(P(150));if(v=C.call(v),v==null)throw Error(P(151));for(var I=C=null,b=g,$=g=0,Z=null,x=v.next();b!==null&&!x.done;$++,x=v.next()){b.index>$?(Z=b,b=null):Z=b.sibling;var ee=h(y,b,x.value,_);if(ee===null){b===null&&(b=Z);break}t&&b&&ee.alternate===null&&e(y,b),g=s(ee,g,$),I===null?C=ee:I.sibling=ee,I=ee,b=Z}if(x.done)return n(y,b),We&&Hi(y,$),C;if(b===null){for(;!x.done;$++,x=v.next())x=d(y,x.value,_),x!==null&&(g=s(x,g,$),I===null?C=x:I.sibling=x,I=x);return We&&Hi(y,$),C}for(b=r(y,b);!x.done;$++,x=v.next())x=p(b,y,$,x.value,_),x!==null&&(t&&x.alternate!==null&&b.delete(x.key===null?$:x.key),g=s(x,g,$),I===null?C=x:I.sibling=x,I=x);return t&&b.forEach(function(pe){return e(y,pe)}),We&&Hi(y,$),C}function E(y,g,v,_){if(typeof v=="object"&&v!==null&&v.type===Gs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fu:e:{for(var C=v.key,I=g;I!==null;){if(I.key===C){if(C=v.type,C===Gs){if(I.tag===7){n(y,I.sibling),g=i(I,v.props.children),g.return=y,y=g;break e}}else if(I.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ti&&B1(C)===I.type){n(y,I.sibling),g=i(I,v.props),g.ref=ga(y,I,v),g.return=y,y=g;break e}n(y,I);break}else e(y,I);I=I.sibling}v.type===Gs?(g=rs(v.props.children,y.mode,_,v.key),g.return=y,y=g):(_=Ac(v.type,v.key,v.props,null,y.mode,_),_.ref=ga(y,g,v),_.return=y,y=_)}return o(y);case qs:e:{for(I=v.key;g!==null;){if(g.key===I)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=i(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=mp(v,y.mode,_),g.return=y,y=g}return o(y);case ti:return I=v._init,E(y,g,I(v._payload),_)}if(Aa(v))return f(y,g,v,_);if(da(v))return m(y,g,v,_);Xu(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,v),g.return=y,y=g):(n(y,g),g=pp(v,y.mode,_),g.return=y,y=g),o(y)):n(y,g)}return E}var Co=mT(!0),gT=mT(!1),Yl={},dr=Li(Yl),vl=Li(Yl),wl=Li(Yl);function Xi(t){if(t===Yl)throw Error(P(174));return t}function gy(t,e){switch(Oe(wl,e),Oe(vl,t),Oe(dr,Yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:um(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=um(e,t)}Be(dr),Oe(dr,e)}function bo(){Be(dr),Be(vl),Be(wl)}function yT(t){Xi(wl.current);var e=Xi(dr.current),n=um(e,t.type);e!==n&&(Oe(vl,t),Oe(dr,n))}function yy(t){vl.current===t&&(Be(dr),Be(vl))}var Ye=Li(0);function ad(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lp=[];function vy(){for(var t=0;t<lp.length;t++)lp[t]._workInProgressVersionPrimary=null;lp.length=0}var kc=Gr.ReactCurrentDispatcher,up=Gr.ReactCurrentBatchConfig,ds=0,Xe=null,ft=null,_t=null,ld=!1,Ga=!1,_l=0,MN=0;function Lt(){throw Error(P(321))}function wy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function _y(t,e,n,r,i,s){if(ds=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kc.current=t===null||t.memoizedState===null?VN:FN,t=n(r,i),Ga){s=0;do{if(Ga=!1,_l=0,25<=s)throw Error(P(301));s+=1,_t=ft=null,e.updateQueue=null,kc.current=BN,t=n(r,i)}while(Ga)}if(kc.current=ud,e=ft!==null&&ft.next!==null,ds=0,_t=ft=Xe=null,ld=!1,e)throw Error(P(300));return t}function Sy(){var t=_l!==0;return _l=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Xe.memoizedState=_t=t:_t=_t.next=t,_t}function Hn(){if(ft===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=_t===null?Xe.memoizedState:_t.next;if(e!==null)_t=e,ft=t;else{if(t===null)throw Error(P(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},_t===null?Xe.memoizedState=_t=t:_t=_t.next=t}return _t}function Sl(t,e){return typeof e=="function"?e(t):e}function cp(t){var e=Hn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ds&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Xe.lanes|=c,hs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tr(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,hs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dp(t){var e=Hn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function vT(){}function wT(t,e){var n=Xe,r=Hn(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,pn=!0),r=r.queue,Ey(ET.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,El(9,ST.bind(null,n,r,i,e),void 0,null),Et===null)throw Error(P(349));(ds&30)!==0||_T(n,e,i)}return i}function _T(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ST(t,e,n,r){e.value=n,e.getSnapshot=r,TT(e)&&RT(t)}function ET(t,e,n){return n(function(){TT(e)&&RT(t)})}function TT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function RT(t){var e=Vr(t,1);e!==null&&er(e,t,1,-1)}function z1(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=UN.bind(null,Xe,t),[e.memoizedState,t]}function El(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kT(){return Hn().memoizedState}function Cc(t,e,n,r){var i=ir();Xe.flags|=t,i.memoizedState=El(1|e,n,void 0,r===void 0?null:r)}function eh(t,e,n,r){var i=Hn();r=r===void 0?null:r;var s=void 0;if(ft!==null){var o=ft.memoizedState;if(s=o.destroy,r!==null&&wy(r,o.deps)){i.memoizedState=El(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=El(1|e,n,s,r)}function j1(t,e){return Cc(8390656,8,t,e)}function Ey(t,e){return eh(2048,8,t,e)}function CT(t,e){return eh(4,2,t,e)}function bT(t,e){return eh(4,4,t,e)}function IT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xT(t,e,n){return n=n!=null?n.concat([t]):null,eh(4,4,IT.bind(null,e,t),n)}function Ty(){}function AT(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NT(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $T(t,e,n){return(ds&21)===0?(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n):(tr(n,e)||(n=ME(),Xe.lanes|=n,hs|=n,t.baseState=!0),e)}function DN(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=up.transition;up.transition={};try{t(!1),e()}finally{Ne=n,up.transition=r}}function PT(){return Hn().memoizedState}function ON(t,e,n){var r=Si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LT(t))MT(e,n);else if(n=dT(t,e,n,r),n!==null){var i=en();er(n,t,r,i),DT(n,e,r)}}function UN(t,e,n){var r=Si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LT(t))MT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tr(a,o)){var l=e.interleaved;l===null?(i.next=i,py(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=dT(t,e,i,r),n!==null&&(i=en(),er(n,t,r,i),DT(n,e,r))}}function LT(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function MT(t,e){Ga=ld=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DT(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ey(t,n)}}var ud={readContext:Wn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},VN={readContext:Wn,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:j1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cc(4194308,4,IT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cc(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ON.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:z1,useDebugValue:Ty,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=z1(!1),e=t[0];return t=DN.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=ir();if(We){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Et===null)throw Error(P(349));(ds&30)!==0||_T(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,j1(ET.bind(null,r,s,t),[t]),r.flags|=2048,El(9,ST.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ir(),e=Et.identifierPrefix;if(We){var n=Ir,r=br;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FN={readContext:Wn,useCallback:AT,useContext:Wn,useEffect:Ey,useImperativeHandle:xT,useInsertionEffect:CT,useLayoutEffect:bT,useMemo:NT,useReducer:cp,useRef:kT,useState:function(){return cp(Sl)},useDebugValue:Ty,useDeferredValue:function(t){var e=Hn();return $T(e,ft.memoizedState,t)},useTransition:function(){var t=cp(Sl)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:vT,useSyncExternalStore:wT,useId:PT,unstable_isNewReconciler:!1},BN={readContext:Wn,useCallback:AT,useContext:Wn,useEffect:Ey,useImperativeHandle:xT,useInsertionEffect:CT,useLayoutEffect:bT,useMemo:NT,useReducer:dp,useRef:kT,useState:function(){return dp(Sl)},useDebugValue:Ty,useDeferredValue:function(t){var e=Hn();return ft===null?e.memoizedState=t:$T(e,ft.memoizedState,t)},useTransition:function(){var t=dp(Sl)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:vT,useSyncExternalStore:wT,useId:PT,unstable_isNewReconciler:!1};function Io(t,e){try{var n="",r=e;do n+=mA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hp(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function $m(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zN=typeof WeakMap=="function"?WeakMap:Map;function OT(t,e,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dd||(dd=!0,zm=r),$m(t,e)},n}function UT(t,e,n){n=$r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$m(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$m(t,e),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=n2.bind(null,t,e,n),e.then(t,t))}function H1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q1(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$r(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var jN=Gr.ReactCurrentOwner,pn=!1;function Jt(t,e,n,r){e.child=t===null?gT(e,null,n,r):Co(e,t.child,n,r)}function G1(t,e,n,r,i){n=n.render;var s=e.ref;return ho(e,i),r=_y(t,e,n,r,s,i),n=Sy(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(We&&n&&ly(e),e.flags|=1,Jt(t,e,r,i),e.child)}function K1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ny(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,VT(t,e,s,r,i)):(t=Ac(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:pl,n(o,r)&&t.ref===e.ref)return Fr(t,e,i)}return e.flags|=1,t=Ei(s,r),t.ref=e.ref,t.return=e,e.child=t}function VT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(pl(s,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(pn=!0);else return e.lanes=t.lanes,Fr(t,e,i)}return Pm(t,e,n,r,i)}function FT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ro,Rn),Rn|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(ro,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Oe(ro,Rn),Rn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Oe(ro,Rn),Rn|=r;return Jt(t,e,i,n),e.child}function BT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pm(t,e,n,r,i){var s=yn(n)?us:jt.current;return s=Ro(e,s),ho(e,i),n=_y(t,e,n,r,s,i),r=Sy(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(We&&r&&ly(e),e.flags|=1,Jt(t,e,n,i),e.child)}function Q1(t,e,n,r,i){if(yn(n)){var s=!0;td(e)}else s=!1;if(ho(e,i),e.stateNode===null)bc(t,e),pT(e,n,r),Nm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wn(u):(u=yn(n)?us:jt.current,u=Ro(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&F1(e,o,r,u),ni=!1;var h=e.memoizedState;o.state=h,od(e,r,o,i),l=e.memoizedState,a!==r||h!==l||gn.current||ni?(typeof c=="function"&&(Am(e,n,c,r),l=e.memoizedState),(a=ni||V1(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Yn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=yn(n)?us:jt.current,l=Ro(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&F1(e,o,r,l),ni=!1,h=e.memoizedState,o.state=h,od(e,r,o,i);var f=e.memoizedState;a!==d||h!==f||gn.current||ni?(typeof p=="function"&&(Am(e,n,p,r),f=e.memoizedState),(u=ni||V1(e,n,u,r,h,f,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Lm(t,e,n,r,s,i)}function Lm(t,e,n,r,i,s){BT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&L1(e,n,!1),Fr(t,e,s);r=e.stateNode,jN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Co(e,t.child,null,s),e.child=Co(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=r.state,i&&L1(e,n,!0),e.child}function zT(t){var e=t.stateNode;e.pendingContext?P1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&P1(t,e.context,!1),gy(t,e.containerInfo)}function Y1(t,e,n,r,i){return ko(),cy(i),e.flags|=256,Jt(t,e,n,r),e.child}var Mm={dehydrated:null,treeContext:null,retryLane:0};function Dm(t){return{baseLanes:t,cachePool:null,transitions:null}}function jT(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Oe(Ye,i&1),t===null)return Im(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rh(o,r,0,null),t=rs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dm(n),e.memoizedState=Mm,t):Ry(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return WN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ei(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ei(a,s):(s=rs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Dm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Mm,r}return s=t.child,t=s.sibling,r=Ei(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ry(t,e){return e=rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ju(t,e,n,r){return r!==null&&cy(r),Co(e,t.child,null,n),t=Ry(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=hp(Error(P(422))),Ju(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=rh({mode:"visible",children:r.children},i,0,null),s=rs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Co(e,t.child,null,o),e.child.memoizedState=Dm(o),e.memoizedState=Mm,s);if((e.mode&1)===0)return Ju(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(P(419)),r=hp(s,r,void 0),Ju(t,e,o,r)}if(a=(o&t.childLanes)!==0,pn||a){if(r=Et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vr(t,i),er(r,t,i,-1))}return Ay(),r=hp(Error(P(421))),Ju(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=r2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,kn=vi(i.nextSibling),bn=e,We=!0,Jn=null,t!==null&&(Un[Vn++]=br,Un[Vn++]=Ir,Un[Vn++]=cs,br=t.id,Ir=t.overflow,cs=e),e=Ry(e,r.children),e.flags|=4096,e)}function X1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xm(t.return,e,n)}function fp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function WT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=Ye.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X1(t,n,e);else if(t.tag===19)X1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(Ye,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ad(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ad(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fp(e,!0,n,null,s);break;case"together":fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bc(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HN(t,e,n){switch(e.tag){case 3:zT(e),ko();break;case 5:yT(e);break;case 1:yn(e.type)&&td(e);break;case 4:gy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Oe(id,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Ye,Ye.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?jT(t,e,n):(Oe(Ye,Ye.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);Oe(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return WT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,FT(t,e,n)}return Fr(t,e,n)}var HT,Om,qT,GT;HT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Om=function(){};qT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xi(dr.current);var s=null;switch(n){case"input":i=sm(t,i),r=sm(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=lm(t,i),r=lm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zc)}cm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(al.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(al.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};GT=function(t,e,n,r){n!==r&&(e.flags|=4)};function ya(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qN(t,e,n){var r=e.pendingProps;switch(uy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return yn(e.type)&&ed(),Mt(e),null;case 3:return r=e.stateNode,bo(),Be(gn),Be(jt),vy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Jn!==null&&(Hm(Jn),Jn=null))),Om(t,e),Mt(e),null;case 5:yy(e);var i=Xi(wl.current);if(n=e.type,t!==null&&e.stateNode!=null)qT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Mt(e),null}if(t=Xi(dr.current),Yu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ar]=e,r[yl]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<$a.length;i++)Fe($a[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":o1(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":l1(r,s),Fe("invalid",r)}cm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Qu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Qu(r.textContent,a,t),i=["children",""+a]):al.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Bu(r),a1(r,s,!0);break;case"textarea":Bu(r),u1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_E(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[yl]=r,HT(t,e,!1,!1),e.stateNode=t;e:{switch(o=dm(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<$a.length;i++)Fe($a[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":o1(t,r),i=sm(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":l1(t,r),i=lm(t,r),Fe("invalid",t);break;default:i=r}cm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?TE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&SE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ll(t,l):typeof l=="number"&&ll(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(al.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fe("scroll",t):l!=null&&Kg(t,s,l,o))}switch(n){case"input":Bu(t),a1(t,r,!1);break;case"textarea":Bu(t),u1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ki(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ao(t,!!r.multiple,s,!1):r.defaultValue!=null&&ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)GT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Xi(wl.current),Xi(dr.current),Yu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(s=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:Qu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return Mt(e),null;case 13:if(Be(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&kn!==null&&(e.mode&1)!==0&&(e.flags&128)===0)cT(),ko(),e.flags|=98560,s=!1;else if(s=Yu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[ar]=e}else ko(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Mt(e),s=!1}else Jn!==null&&(Hm(Jn),Jn=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Ye.current&1)!==0?pt===0&&(pt=3):Ay())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return bo(),Om(t,e),t===null&&ml(e.stateNode.containerInfo),Mt(e),null;case 10:return fy(e.type._context),Mt(e),null;case 17:return yn(e.type)&&ed(),Mt(e),null;case 19:if(Be(Ye),s=e.memoizedState,s===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ya(s,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=ad(t),o!==null){for(e.flags|=128,ya(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>xo&&(e.flags|=128,r=!0,ya(s,!1),e.lanes=4194304)}else{if(!r)if(t=ad(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ya(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return Mt(e),null}else 2*st()-s.renderingStartTime>xo&&n!==1073741824&&(e.flags|=128,r=!0,ya(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=Ye.current,Oe(Ye,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return xy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Rn&1073741824)!==0&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function GN(t,e){switch(uy(e),e.tag){case 1:return yn(e.type)&&ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),Be(gn),Be(jt),vy(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return yy(e),null;case 13:if(Be(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Ye),null;case 4:return bo(),null;case 10:return fy(e.type._context),null;case 22:case 23:return xy(),null;case 24:return null;default:return null}}var Zu=!1,Ut=!1,KN=typeof WeakSet=="function"?WeakSet:Set,j=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function Um(t,e,n){try{n()}catch(r){tt(t,e,r)}}var J1=!1;function QN(t,e){if(Sm=Yc,t=XE(),ay(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Em={focusedElem:t,selectionRange:n},Yc=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var f=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var m=f.memoizedProps,E=f.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Yn(e.type,m),E);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(_){tt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return f=J1,J1=!1,f}function Ka(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Um(e,n,s)}i=i.next}while(i!==r)}}function th(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KT(t){var e=t.alternate;e!==null&&(t.alternate=null,KT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[yl],delete e[km],delete e[NN],delete e[$N])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QT(t){return t.tag===5||t.tag===3||t.tag===4}function Z1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zc));else if(r!==4&&(t=t.child,t!==null))for(Fm(t,e,n),t=t.sibling;t!==null;)Fm(t,e,n),t=t.sibling}function Bm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bm(t,e,n),t=t.sibling;t!==null;)Bm(t,e,n),t=t.sibling}var Ct=null,Xn=!1;function Jr(t,e,n){for(n=n.child;n!==null;)YT(t,e,n),n=n.sibling}function YT(t,e,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Gd,n)}catch{}switch(n.tag){case 5:Ut||no(n,e);case 6:var r=Ct,i=Xn;Ct=null,Jr(t,e,n),Ct=r,Xn=i,Ct!==null&&(Xn?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Xn?(t=Ct,n=n.stateNode,t.nodeType===8?op(t.parentNode,n):t.nodeType===1&&op(t,n),hl(t)):op(Ct,n.stateNode));break;case 4:r=Ct,i=Xn,Ct=n.stateNode.containerInfo,Xn=!0,Jr(t,e,n),Ct=r,Xn=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&Um(n,e,o),i=i.next}while(i!==r)}Jr(t,e,n);break;case 1:if(!Ut&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Jr(t,e,n),Ut=r):Jr(t,e,n);break;default:Jr(t,e,n)}}function ew(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KN),e.forEach(function(r){var i=i2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,Xn=!1;break e;case 3:Ct=a.stateNode.containerInfo,Xn=!0;break e;case 4:Ct=a.stateNode.containerInfo,Xn=!0;break e}a=a.return}if(Ct===null)throw Error(P(160));YT(s,o,i),Ct=null,Xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XT(e,t),e=e.sibling}function XT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),rr(t),r&4){try{Ka(3,t,t.return),th(3,t)}catch(m){tt(t,t.return,m)}try{Ka(5,t,t.return)}catch(m){tt(t,t.return,m)}}break;case 1:Kn(e,t),rr(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(Kn(e,t),rr(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var i=t.stateNode;try{ll(i,"")}catch(m){tt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&vE(i,s),dm(a,o);var u=dm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?TE(i,d):c==="dangerouslySetInnerHTML"?SE(i,d):c==="children"?ll(i,d):Kg(i,c,d,u)}switch(a){case"input":om(i,s);break;case"textarea":wE(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ao(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?ao(i,!!s.multiple,s.defaultValue,!0):ao(i,!!s.multiple,s.multiple?[]:"",!1))}i[yl]=s}catch(m){tt(t,t.return,m)}}break;case 6:if(Kn(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){tt(t,t.return,m)}}break;case 3:if(Kn(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hl(e.containerInfo)}catch(m){tt(t,t.return,m)}break;case 4:Kn(e,t),rr(t);break;case 13:Kn(e,t),rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(by=st())),r&4&&ew(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(u=Ut)||c,Kn(e,t),Ut=u):Kn(e,t),rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(j=t,c=t.child;c!==null;){for(d=j=c;j!==null;){switch(h=j,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ka(4,h,h.return);break;case 1:no(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(m){tt(r,n,m)}}break;case 5:no(h,h.return);break;case 22:if(h.memoizedState!==null){nw(d);continue}}p!==null?(p.return=h,j=p):nw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EE("display",o))}catch(m){tt(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){tt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Kn(e,t),rr(t),r&4&&ew(t);break;case 21:break;default:Kn(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QT(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ll(i,""),r.flags&=-33);var s=Z1(t);Bm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Z1(t);Fm(t,a,o);break;default:throw Error(P(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YN(t,e,n){j=t,JT(t)}function JT(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=Zu;var u=Ut;if(Zu=o,(Ut=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?rw(i):l!==null?(l.return=o,j=l):rw(i);for(;s!==null;)j=s,JT(s),s=s.sibling;j=i,Zu=a,Ut=u}tw(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,j=s):tw(t)}}function tw(t){for(;j!==null;){var e=j;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Ut||th(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}U1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&hl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ut||e.flags&512&&Vm(e)}catch(h){tt(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function nw(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function rw(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{th(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{Vm(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{Vm(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var XN=Math.ceil,cd=Gr.ReactCurrentDispatcher,ky=Gr.ReactCurrentOwner,Bn=Gr.ReactCurrentBatchConfig,Re=0,Et=null,ct=null,xt=0,Rn=0,ro=Li(0),pt=0,Tl=null,hs=0,nh=0,Cy=0,Qa=null,hn=null,by=0,xo=1/0,kr=null,dd=!1,zm=null,_i=null,ec=!1,hi=null,hd=0,Ya=0,jm=null,Ic=-1,xc=0;function en(){return(Re&6)!==0?st():Ic!==-1?Ic:Ic=st()}function Si(t){return(t.mode&1)===0?1:(Re&2)!==0&&xt!==0?xt&-xt:LN.transition!==null?(xc===0&&(xc=ME()),xc):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:zE(t.type)),t)}function er(t,e,n,r){if(50<Ya)throw Ya=0,jm=null,Error(P(185));Gl(t,n,r),((Re&2)===0||t!==Et)&&(t===Et&&((Re&2)===0&&(nh|=n),pt===4&&si(t,xt)),vn(t,r),n===1&&Re===0&&(e.mode&1)===0&&(xo=st()+500,Jd&&Mi()))}function vn(t,e){var n=t.callbackNode;LA(t,e);var r=Qc(t,t===Et?xt:0);if(r===0)n!==null&&h1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&h1(n),e===1)t.tag===0?PN(iw.bind(null,t)):aT(iw.bind(null,t)),xN(function(){(Re&6)===0&&Mi()}),n=null;else{switch(DE(r)){case 1:n=Zg;break;case 4:n=PE;break;case 16:n=Kc;break;case 536870912:n=LE;break;default:n=Kc}n=oR(n,ZT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZT(t,e){if(Ic=-1,xc=0,(Re&6)!==0)throw Error(P(327));var n=t.callbackNode;if(fo()&&t.callbackNode!==n)return null;var r=Qc(t,t===Et?xt:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=fd(t,r);else{e=r;var i=Re;Re|=2;var s=tR();(Et!==t||xt!==e)&&(kr=null,xo=st()+500,ns(t,e));do try{e2();break}catch(a){eR(t,a)}while(1);hy(),cd.current=s,Re=i,ct!==null?e=0:(Et=null,xt=0,e=pt)}if(e!==0){if(e===2&&(i=gm(t),i!==0&&(r=i,e=Wm(t,i))),e===1)throw n=Tl,ns(t,0),si(t,r),vn(t,st()),n;if(e===6)si(t,r);else{if(i=t.current.alternate,(r&30)===0&&!JN(i)&&(e=fd(t,r),e===2&&(s=gm(t),s!==0&&(r=s,e=Wm(t,s))),e===1))throw n=Tl,ns(t,0),si(t,r),vn(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:qi(t,hn,kr);break;case 3:if(si(t,r),(r&130023424)===r&&(e=by+500-st(),10<e)){if(Qc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rm(qi.bind(null,t,hn,kr),e);break}qi(t,hn,kr);break;case 4:if(si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XN(r/1960))-r,10<r){t.timeoutHandle=Rm(qi.bind(null,t,hn,kr),r);break}qi(t,hn,kr);break;case 5:qi(t,hn,kr);break;default:throw Error(P(329))}}}return vn(t,st()),t.callbackNode===n?ZT.bind(null,t):null}function Wm(t,e){var n=Qa;return t.current.memoizedState.isDehydrated&&(ns(t,e).flags|=256),t=fd(t,e),t!==2&&(e=hn,hn=n,e!==null&&Hm(e)),t}function Hm(t){hn===null?hn=t:hn.push.apply(hn,t)}function JN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e){for(e&=~Cy,e&=~nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function iw(t){if((Re&6)!==0)throw Error(P(327));fo();var e=Qc(t,0);if((e&1)===0)return vn(t,st()),null;var n=fd(t,e);if(t.tag!==0&&n===2){var r=gm(t);r!==0&&(e=r,n=Wm(t,r))}if(n===1)throw n=Tl,ns(t,0),si(t,e),vn(t,st()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,hn,kr),vn(t,st()),null}function Iy(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(xo=st()+500,Jd&&Mi())}}function fs(t){hi!==null&&hi.tag===0&&(Re&6)===0&&fo();var e=Re;Re|=1;var n=Bn.transition,r=Ne;try{if(Bn.transition=null,Ne=1,t)return t()}finally{Ne=r,Bn.transition=n,Re=e,(Re&6)===0&&Mi()}}function xy(){Rn=ro.current,Be(ro)}function ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IN(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(uy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ed();break;case 3:bo(),Be(gn),Be(jt),vy();break;case 5:yy(r);break;case 4:bo();break;case 13:Be(Ye);break;case 19:Be(Ye);break;case 10:fy(r.type._context);break;case 22:case 23:xy()}n=n.return}if(Et=t,ct=t=Ei(t.current,null),xt=Rn=e,pt=0,Tl=null,Cy=nh=hs=0,hn=Qa=null,Yi!==null){for(e=0;e<Yi.length;e++)if(n=Yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yi=null}return t}function eR(t,e){do{var n=ct;try{if(hy(),kc.current=ud,ld){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ld=!1}if(ds=0,_t=ft=Xe=null,Ga=!1,_l=0,ky.current=null,n===null||n.return===null){pt=1,Tl=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if((c.mode&1)===0&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=H1(o);if(p!==null){p.flags&=-257,q1(p,o,a,s,e),p.mode&1&&W1(s,u,e),e=p,l=u;var f=e.updateQueue;if(f===null){var m=new Set;m.add(l),e.updateQueue=m}else f.add(l);break e}else{if((e&1)===0){W1(s,u,e),Ay();break e}l=Error(P(426))}}else if(We&&a.mode&1){var E=H1(o);if(E!==null){(E.flags&65536)===0&&(E.flags|=256),q1(E,o,a,s,e),cy(Io(l,a));break e}}s=l=Io(l,a),pt!==4&&(pt=2),Qa===null?Qa=[s]:Qa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=OT(s,l,e);O1(s,y);break e;case 1:a=l;var g=s.type,v=s.stateNode;if((s.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(_i===null||!_i.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=UT(s,a,e);O1(s,_);break e}}s=s.return}while(s!==null)}rR(n)}catch(C){e=C,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(1)}function tR(){var t=cd.current;return cd.current=ud,t===null?ud:t}function Ay(){(pt===0||pt===3||pt===2)&&(pt=4),Et===null||(hs&268435455)===0&&(nh&268435455)===0||si(Et,xt)}function fd(t,e){var n=Re;Re|=2;var r=tR();(Et!==t||xt!==e)&&(kr=null,ns(t,e));do try{ZN();break}catch(i){eR(t,i)}while(1);if(hy(),Re=n,cd.current=r,ct!==null)throw Error(P(261));return Et=null,xt=0,pt}function ZN(){for(;ct!==null;)nR(ct)}function e2(){for(;ct!==null&&!kA();)nR(ct)}function nR(t){var e=sR(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?rR(t):ct=e,ky.current=null}function rR(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=qN(n,e,Rn),n!==null){ct=n;return}}else{if(n=GN(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ct=null;return}}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);pt===0&&(pt=5)}function qi(t,e,n){var r=Ne,i=Bn.transition;try{Bn.transition=null,Ne=1,t2(t,e,n,r)}finally{Bn.transition=i,Ne=r}return null}function t2(t,e,n,r){do fo();while(hi!==null);if((Re&6)!==0)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(MA(t,s),t===Et&&(ct=Et=null,xt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ec||(ec=!0,oR(Kc,function(){return fo(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Bn.transition,Bn.transition=null;var o=Ne;Ne=1;var a=Re;Re|=4,ky.current=null,QN(t,n),XT(n,t),SN(Em),Yc=!!Sm,Em=Sm=null,t.current=n,YN(n),CA(),Re=a,Ne=o,Bn.transition=s}else t.current=n;if(ec&&(ec=!1,hi=t,hd=i),s=t.pendingLanes,s===0&&(_i=null),xA(n.stateNode),vn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dd)throw dd=!1,t=zm,zm=null,t;return(hd&1)!==0&&t.tag!==0&&fo(),s=t.pendingLanes,(s&1)!==0?t===jm?Ya++:(Ya=0,jm=t):Ya=0,Mi(),null}function fo(){if(hi!==null){var t=DE(hd),e=Bn.transition,n=Ne;try{if(Bn.transition=null,Ne=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,hd=0,(Re&6)!==0)throw Error(P(331));var i=Re;for(Re|=4,j=t.current;j!==null;){var s=j,o=s.child;if((j.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:Ka(8,c,s)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var h=c.sibling,p=c.return;if(KT(c),c===u){j=null;break}if(h!==null){h.return=p,j=h;break}j=p}}}var f=s.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var E=m.sibling;m.sibling=null,m=E}while(m!==null)}}j=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Ka(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,j=y;break e}j=s.return}}var g=t.current;for(j=g;j!==null;){o=j;var v=o.child;if((o.subtreeFlags&2064)!==0&&v!==null)v.return=o,j=v;else e:for(o=g;j!==null;){if(a=j,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:th(9,a)}}catch(C){tt(a,a.return,C)}if(a===o){j=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,j=_;break e}j=a.return}}if(Re=i,Mi(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Gd,t)}catch{}r=!0}return r}finally{Ne=n,Bn.transition=e}}return!1}function sw(t,e,n){e=Io(n,e),e=OT(t,e,1),t=wi(t,e,1),e=en(),t!==null&&(Gl(t,1,e),vn(t,e))}function tt(t,e,n){if(t.tag===3)sw(t,t,n);else for(;e!==null;){if(e.tag===3){sw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){t=Io(n,t),t=UT(e,t,1),e=wi(e,t,1),t=en(),e!==null&&(Gl(e,1,t),vn(e,t));break}}e=e.return}}function n2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(xt&n)===n&&(pt===4||pt===3&&(xt&130023424)===xt&&500>st()-by?ns(t,0):Cy|=n),vn(t,e)}function iR(t,e){e===0&&((t.mode&1)===0?e=1:(e=Wu,Wu<<=1,(Wu&130023424)===0&&(Wu=4194304)));var n=en();t=Vr(t,e),t!==null&&(Gl(t,e,n),vn(t,n))}function r2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iR(t,n)}function i2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),iR(t,n)}var sR;sR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)pn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return pn=!1,HN(t,e,n);pn=(t.flags&131072)!==0}else pn=!1,We&&(e.flags&1048576)!==0&&lT(e,rd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bc(t,e),t=e.pendingProps;var i=Ro(e,jt.current);ho(e,n),i=_y(null,e,r,t,i,n);var s=Sy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,td(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,my(e),i.updater=Zd,e.stateNode=i,i._reactInternals=e,Nm(e,r,t,n),e=Lm(null,e,r,!0,s,n)):(e.tag=0,We&&s&&ly(e),Jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=o2(r),t=Yn(r,t),i){case 0:e=Pm(null,e,r,t,n);break e;case 1:e=Q1(null,e,r,t,n);break e;case 11:e=G1(null,e,r,t,n);break e;case 14:e=K1(null,e,r,Yn(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Pm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Q1(t,e,r,i,n);case 3:e:{if(zT(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hT(t,e),od(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Io(Error(P(423)),e),e=Y1(t,e,r,n,i);break e}else if(r!==i){i=Io(Error(P(424)),e),e=Y1(t,e,r,n,i);break e}else for(kn=vi(e.stateNode.containerInfo.firstChild),bn=e,We=!0,Jn=null,n=gT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),r===i){e=Fr(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return yT(e),t===null&&Im(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Tm(r,i)?o=null:s!==null&&Tm(r,s)&&(e.flags|=32),BT(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&Im(e),null;case 13:return jT(t,e,n);case 4:return gy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Co(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),G1(t,e,r,i,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Oe(id,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!gn.current){e=Fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$r(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ho(e,n),i=Wn(i),r=r(i),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,i=Yn(r,e.pendingProps),i=Yn(r.type,i),K1(t,e,r,i,n);case 15:return VT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),bc(t,e),e.tag=1,yn(r)?(t=!0,td(e)):t=!1,ho(e,n),pT(e,r,i),Nm(e,r,i,n),Lm(null,e,r,!0,t,n);case 19:return WT(t,e,n);case 22:return FT(t,e,n)}throw Error(P(156,e.tag))};function oR(t,e){return $E(t,e)}function s2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new s2(t,e,n,r)}function Ny(t){return t=t.prototype,!(!t||!t.isReactComponent)}function o2(t){if(typeof t=="function")return Ny(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yg)return 11;if(t===Xg)return 14}return 2}function Ei(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ac(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ny(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gs:return rs(n.children,i,s,e);case Qg:o=8,i|=8;break;case tm:return t=Fn(12,n,e,i|2),t.elementType=tm,t.lanes=s,t;case nm:return t=Fn(13,n,e,i),t.elementType=nm,t.lanes=s,t;case rm:return t=Fn(19,n,e,i),t.elementType=rm,t.lanes=s,t;case mE:return rh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fE:o=10;break e;case pE:o=9;break e;case Yg:o=11;break e;case Xg:o=14;break e;case ti:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Fn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function rs(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function rh(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=mE,t.lanes=n,t.stateNode={isHidden:!1},t}function pp(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function mp(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function a2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $y(t,e,n,r,i,s,o,a,l){return t=new a2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},my(s),t}function l2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aR(t){if(!t)return Ci;t=t._reactInternals;e:{if(Cs(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(yn(n))return oT(t,n,e)}return e}function lR(t,e,n,r,i,s,o,a,l){return t=$y(n,r,!0,t,i,s,o,a,l),t.context=aR(null),n=t.current,r=en(),i=Si(n),s=$r(r,i),s.callback=e!=null?e:null,wi(n,s,i),t.current.lanes=i,Gl(t,i,r),vn(t,r),t}function ih(t,e,n,r){var i=e.current,s=en(),o=Si(i);return n=aR(n),e.context===null?e.context=n:e.pendingContext=n,e=$r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(i,e,o),t!==null&&(er(t,i,o,s),Rc(t,i,o)),o}function pd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ow(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Py(t,e){ow(t,e),(t=t.alternate)&&ow(t,e)}function u2(){return null}var uR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ly(t){this._internalRoot=t}sh.prototype.render=Ly.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));ih(t,e,null,null)};sh.prototype.unmount=Ly.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fs(function(){ih(null,t,null,null)}),e[Ur]=null}};function sh(t){this._internalRoot=t}sh.prototype.unstable_scheduleHydration=function(t){if(t){var e=VE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&BE(t)}};function My(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aw(){}function c2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=pd(o);s.call(u)}}var o=lR(e,r,t,0,null,!1,!1,"",aw);return t._reactRootContainer=o,t[Ur]=o.current,ml(t.nodeType===8?t.parentNode:t),fs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=pd(l);a.call(u)}}var l=$y(t,0,!1,null,null,!1,!1,"",aw);return t._reactRootContainer=l,t[Ur]=l.current,ml(t.nodeType===8?t.parentNode:t),fs(function(){ih(e,l,n,r)}),l}function ah(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=pd(o);a.call(l)}}ih(e,o,t,i)}else o=c2(n,e,t,i,r);return pd(o)}OE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Na(e.pendingLanes);n!==0&&(ey(e,n|1),vn(e,st()),(Re&6)===0&&(xo=st()+500,Mi()))}break;case 13:fs(function(){var r=Vr(t,1);if(r!==null){var i=en();er(r,t,1,i)}}),Py(t,1)}};ty=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=en();er(e,t,134217728,n)}Py(t,134217728)}};UE=function(t){if(t.tag===13){var e=Si(t),n=Vr(t,e);if(n!==null){var r=en();er(n,t,e,r)}Py(t,e)}};VE=function(){return Ne};FE=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};fm=function(t,e,n){switch(e){case"input":if(om(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xd(r);if(!i)throw Error(P(90));yE(r),om(r,i)}}}break;case"textarea":wE(t,n);break;case"select":e=n.value,e!=null&&ao(t,!!n.multiple,e,!1)}};CE=Iy;bE=fs;var d2={usingClientEntryPoint:!1,Events:[Ql,Xs,Xd,RE,kE,Iy]},va={findFiberByHostInstance:Qi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},h2={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AE(t),t===null?null:t.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||u2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Gd=tc.inject(h2),cr=tc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d2;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!My(e))throw Error(P(200));return l2(t,e,null,n)};Pn.createRoot=function(t,e){if(!My(t))throw Error(P(299));var n=!1,r="",i=uR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$y(t,1,!1,null,null,n,!1,r,i),t[Ur]=e.current,ml(t.nodeType===8?t.parentNode:t),new Ly(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=AE(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return fs(t)};Pn.hydrate=function(t,e,n){if(!oh(e))throw Error(P(200));return ah(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!My(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=uR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lR(e,null,t,1,n!=null?n:null,i,!1,s,o),t[Ur]=e.current,ml(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sh(e)};Pn.render=function(t,e,n){if(!oh(e))throw Error(P(200));return ah(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!oh(t))throw Error(P(40));return t._reactRootContainer?(fs(function(){ah(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};Pn.unstable_batchedUpdates=Iy;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oh(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return ah(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Pn})(Hg);const f2=eE(Hg.exports);var lw=Hg.exports;Zp.createRoot=lw.createRoot,Zp.hydrateRoot=lw.hydrateRoot;/**
 * @remix-run/router v1.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},md.apply(this,arguments)}var fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fi||(fi={}));const uw="popstate";function p2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return qm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:g2(i)}return y2(e,n,null,t)}function m2(){return Math.random().toString(36).substr(2,8)}function cw(t){return{usr:t.state,key:t.key}}function qm(t,e,n,r){return n===void 0&&(n=null),md({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qo(e):e,{state:n,key:e&&e.key||r||m2()})}function g2(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function y2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=fi.Pop,l=null;function u(){a=fi.Pop,l&&l({action:a,location:h.location})}function c(p,f){a=fi.Push;let m=qm(h.location,p,f);n&&n(m,p);let E=cw(m),y=h.createHref(m);try{o.pushState(E,"",y)}catch{i.location.assign(y)}s&&l&&l({action:a,location:m})}function d(p,f){a=fi.Replace;let m=qm(h.location,p,f);n&&n(m,p);let E=cw(m),y=h.createHref(m);o.replaceState(E,"",y),s&&l&&l({action:a,location:m})}let h={get action(){return a},get location(){return t(i,o)},listen(p){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uw,u),l=p,()=>{i.removeEventListener(uw,u),l=null}},createHref(p){return e(i,p)},push:c,replace:d,go(p){return o.go(p)}};return h}var dw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dw||(dw={}));function v2(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Qo(e):e,i=dR(r.pathname||"/",n);if(i==null)return null;let s=cR(t);w2(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=I2(s[a],i);return o}function cR(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(Nn(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=is([r,o.relativePath]),l=n.concat(o);i.children&&i.children.length>0&&(Nn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),cR(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:C2(a,i.index),routesMeta:l})}),e}function w2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:b2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _2=/^:\w+$/,S2=3,E2=2,T2=1,R2=10,k2=-2,hw=t=>t==="*";function C2(t,e){let n=t.split("/"),r=n.length;return n.some(hw)&&(r+=k2),e&&(r+=E2),n.filter(i=>!hw(i)).reduce((i,s)=>i+(_2.test(s)?S2:s===""?T2:R2),r)}function b2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function I2(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=x2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:is([i,c.pathname]),pathnameBase:M2(is([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=is([i,c.pathnameBase]))}return s}function x2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=A2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=N2(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function A2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),hR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function N2(t,e){try{return decodeURIComponent(t)}catch(n){return hR(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function dR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qo(t):t;return{pathname:n?n.startsWith("/")?n:P2(n,e):e,search:D2(r),hash:O2(i)}}function P2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function L2(t,e,n,r){r===void 0&&(r=!1);let i=typeof t=="string"?Qo(t):md({},t),s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=$2(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const is=t=>t.join("/").replace(/\/\/+/g,"/"),M2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),D2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,O2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class U2{constructor(e,n,r){this.status=e,this.statusText=n||"",this.data=r}}function V2(t){return t instanceof U2}var lh={exports:{}},uh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2=S.exports,B2=Symbol.for("react.element"),z2=Symbol.for("react.fragment"),j2=Object.prototype.hasOwnProperty,W2=F2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H2={key:!0,ref:!0,__self:!0,__source:!0};function fR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)j2.call(e,r)&&!H2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B2,type:t,key:s,ref:o,props:i,_owner:W2.current}}uh.Fragment=z2;uh.jsx=fR;uh.jsxs=fR;(function(t){t.exports=uh})(lh);const Tt=lh.exports.Fragment,w=lh.exports.jsx,z=lh.exports.jsxs,q2=Object.freeze(Object.defineProperty({__proto__:null,Fragment:Tt,jsx:w,jsxs:z},Symbol.toStringTag,{value:"Module"}));/**
 * React Router v6.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gm.apply(this,arguments)}function G2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const K2=typeof Object.is=="function"?Object.is:G2,{useState:Q2,useEffect:Y2,useLayoutEffect:X2,useDebugValue:J2}=Eo;function Z2(t,e,n){const r=e(),[{inst:i},s]=Q2({inst:{value:r,getSnapshot:e}});return X2(()=>{i.value=r,i.getSnapshot=e,gp(i)&&s({inst:i})},[t,r,e]),Y2(()=>(gp(i)&&s({inst:i}),t(()=>{gp(i)&&s({inst:i})})),[t]),J2(r),r}function gp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!K2(n,r)}catch{return!0}}function e$(t,e,n){return e()}const t$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n$=!t$,r$=n$?e$:Z2;"useSyncExternalStore"in Eo&&(t=>t.useSyncExternalStore)(Eo);const i$=S.exports.createContext(null),s$=S.exports.createContext(null),pR=S.exports.createContext(null),mR=S.exports.createContext(null),ch=S.exports.createContext(null),Yo=S.exports.createContext({outlet:null,matches:[]}),gR=S.exports.createContext(null);function dh(){return S.exports.useContext(ch)!=null}function hh(){return dh()||Nn(!1),S.exports.useContext(ch).location}function o$(t){return t.filter((e,n)=>n===0||!e.route.index&&e.pathnameBase!==t[n-1].pathnameBase)}function a$(){dh()||Nn(!1);let{basename:t,navigator:e}=S.exports.useContext(mR),{matches:n}=S.exports.useContext(Yo),{pathname:r}=hh(),i=JSON.stringify(o$(n).map(a=>a.pathnameBase)),s=S.exports.useRef(!1);return S.exports.useEffect(()=>{s.current=!0}),S.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=L2(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:is([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const l$=S.exports.createContext(null);function u$(t){let e=S.exports.useContext(Yo).outlet;return e&&w(l$.Provider,{value:t,children:e})}function Ht(){let{matches:t}=S.exports.useContext(Yo),e=t[t.length-1];return e?e.params:{}}function c$(t,e){dh()||Nn(!1);let n=S.exports.useContext(pR),{matches:r}=S.exports.useContext(Yo),i=r[r.length-1],s=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let a=hh(),l;if(e){var u;let f=typeof e=="string"?Qo(e):e;o==="/"||((u=f.pathname)==null?void 0:u.startsWith(o))||Nn(!1),l=f}else l=a;let c=l.pathname||"/",d=o==="/"?c:c.slice(o.length)||"/",h=v2(t,{pathname:d}),p=p$(h&&h.map(f=>Object.assign({},f,{params:Object.assign({},s,f.params),pathname:is([o,f.pathname]),pathnameBase:f.pathnameBase==="/"?o:is([o,f.pathnameBase])})),r,n||void 0);return e?w(ch.Provider,{value:{location:Gm({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:fi.Pop},children:p}):p}function d$(){let t=g$(),e=V2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return z(Tt,{children:[w("h2",{children:"Unhandled Thrown Error!"}),w("h3",{style:{fontStyle:"italic"},children:e}),n?w("pre",{style:i,children:n}):null,w("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),z("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",w("code",{style:s,children:"errorElement"})," props on\xA0",w("code",{style:s,children:"<Route>"})]})]})}class h$ extends S.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?w(gR.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function f$(t){let{routeContext:e,match:n,children:r}=t,i=S.exports.useContext(i$);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),w(Yo.Provider,{value:e,children:r})}function p$(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Nn(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=n?o.route.errorElement||w(d$,{}):null,c=()=>w(f$,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))},children:l?u:o.route.element!==void 0?o.route.element:s});return n&&(o.route.errorElement||a===0)?w(h$,{location:n.location,component:u,error:l,children:c()}):c()},null)}var Km;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Km||(Km={}));function m$(t){let e=S.exports.useContext(pR);return e||Nn(!1),e}function g$(){var t;let e=S.exports.useContext(gR),n=m$(Km.UseRouteError),r=S.exports.useContext(Yo),i=r.matches[r.matches.length-1];return e||(r||Nn(!1),i.route.id||Nn(!1),(t=n.errors)==null?void 0:t[i.route.id])}function y$(t){return u$(t.context)}function Xt(t){Nn(!1)}function v$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=fi.Pop,navigator:s,static:o=!1}=t;dh()&&Nn(!1);let a=e.replace(/^\/*/,"/"),l=S.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Qo(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:p="default"}=r,f=S.exports.useMemo(()=>{let m=dR(u,a);return m==null?null:{pathname:m,search:c,hash:d,state:h,key:p}},[a,u,c,d,h,p]);return f==null?null:w(mR.Provider,{value:l,children:w(ch.Provider,{children:n,value:{location:f,navigationType:i}})})}function w$(t){let{children:e,location:n}=t,r=S.exports.useContext(s$),i=r&&!e?r.router.routes:Qm(e);return c$(i,n)}var fw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(fw||(fw={}));new Promise(()=>{});function Qm(t,e){e===void 0&&(e=[]);let n=[];return S.exports.Children.forEach(t,(r,i)=>{if(!S.exports.isValidElement(r))return;if(r.type===S.exports.Fragment){n.push.apply(n,Qm(r.props.children,e));return}r.type!==Xt&&Nn(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=Qm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _$(t){let{basename:e,children:n,window:r}=t,i=S.exports.useRef();i.current==null&&(i.current=p2({window:r,v5Compat:!0}));let s=i.current,[o,a]=S.exports.useState({action:s.action,location:s.location});return S.exports.useLayoutEffect(()=>s.listen(a),[s]),w(v$,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const S$="_filled_1v5h4_1",E$="_primary_1v5h4_5",T$="_transparent_1v5h4_14",R$="_contained_1v5h4_24",k$="_outlined_1v5h4_44",C$="_error_1v5h4_71",b$="_success_1v5h4_83",I$="_fullWidth_1v5h4_96",x$="_button_1v5h4_100",A$="_header_1v5h4_112",Tn={filled:S$,primary:E$,transparent:T$,contained:R$,outlined:k$,error:C$,success:b$,fullWidth:I$,button:x$,header:A$},Qe=({type:t,disabled:e=!1,width:n,height:r,margin:i,children:s,onClick:o,color:a="transparent",variant:l="filled",rounded:u=!1,fullWidth:c=!1,startIcon:d,endIcon:h,header:p=!1})=>{const f=y=>{switch(y){case"filled":return Tn.filled;case"contained":return Tn.contained;case"outlined":return Tn.outlined;default:return Tn.filled}},m=y=>{switch(y){case"primary":return Tn.primary;case"transparent":return Tn.transparent;case"error":return Tn.error;case"success":return Tn.success;default:return Tn.transparent}},E=y=>y?Tn.fullWidth:Tn.cutomWidth;return z("button",{type:t,disabled:e,onClick:o,style:{width:`${n}`,height:`${r}`,margin:`${i}`,borderRadius:`${u?"24px":"0px"}`},className:`${f(l)} ${m(a)} ${E(c)} ${Tn.button} ${p&&Tn.header}`,children:[d,s,h]})},yR=""+new URL("logo.921103be.svg",import.meta.url).href,N$="_container_wwh47_1",$$={container:N$},ht=()=>{const t=a$();return{toStart:()=>{t("/")},toLogin:()=>{t("/login")},toRegist:()=>{t("/regist")},toReset:()=>{t("/reset")},toComplete:m=>{t("/reset/complete",{state:m})},toProfile:m=>{t(`/${m}/profile`)},toHome:(m,E)=>{E?t(`/${m}/home`,{state:E}):t(`/${m}/home`)},toPrivate:m=>{t(`/${m}/private`)},toPrivateRoom:(m,E)=>{t(`/${m}/private/${E}`)},toGroup:m=>{t(`/${m}/group`)},toGroupRoom:(m,E,y)=>{t(`/${m}/group/${E}`,{state:y})},toJoin:m=>{t(`/${m}/group/join`)},toCreate:m=>{t(`/${m}/group/create`)},toRedirect:m=>{t(".",{replace:!0,state:m})}}},P$=()=>{const{toLogin:t,toRegist:e}=ht();return z("div",{className:$$.container,children:[w("img",{src:yR,alt:"logo",width:"600px"}),w(Qe,{type:"button",color:"primary",variant:"contained",rounded:!0,onClick:e,height:"50px",width:"150px",children:"Get Started"}),w(Qe,{type:"button",color:"transparent",variant:"filled",onClick:t,height:"30px",width:"150px",children:"Sign In >"})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const f=u<<6&192|d;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},M$=function(t){const e=vR(t);return wR.encodeByteArray(e,!0)},_R=function(t){return M$(t).replace(/\./g,"")},D$=function(t){try{return wR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function V$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function F$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B$(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function z$(){return typeof indexedDB=="object"}function j$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="FirebaseError";class yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=W$,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?H$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yr(i,a,r)}}function H$(t,e){return t.replace(q$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const q$=/\{\$([^}]+)}/g;function G$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pw(s)&&pw(o)){if(!gd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function La(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function K$(t,e){const n=new Q$(t,e);return n.subscribe.bind(n)}class Q${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yp),i.error===void 0&&(i.error=yp),i.complete===void 0&&(i.complete=yp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new O$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z$(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J$(t){return t===Gi?void 0:t}function Z$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const tP={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},nP=Ce.INFO,rP={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},iP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dy{constructor(e){this.name=e,this._logLevel=nP,this._logHandler=iP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const sP=(t,e)=>e.some(n=>t instanceof n);let mw,gw;function oP(){return mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aP(){return gw||(gw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SR=new WeakMap,Ym=new WeakMap,ER=new WeakMap,vp=new WeakMap,Oy=new WeakMap;function lP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ti(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SR.set(n,t)}).catch(()=>{}),Oy.set(e,t),e}function uP(t){if(Ym.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ym.set(t,e)}let Xm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ym.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ER.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cP(t){Xm=t(Xm)}function dP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wp(this),e,...n);return ER.set(r,e.sort?e.sort():[e]),Ti(r)}:aP().includes(t)?function(...e){return t.apply(wp(this),e),Ti(SR.get(this))}:function(...e){return Ti(t.apply(wp(this),e))}}function hP(t){return typeof t=="function"?dP(t):(t instanceof IDBTransaction&&uP(t),sP(t,oP())?new Proxy(t,Xm):t)}function Ti(t){if(t instanceof IDBRequest)return lP(t);if(vp.has(t))return vp.get(t);const e=hP(t);return e!==t&&(vp.set(t,e),Oy.set(e,t)),e}const wp=t=>Oy.get(t);function fP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ti(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ti(o.result),l.oldVersion,l.newVersion,Ti(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const pP=["get","getKey","getAll","getAllKeys","count"],mP=["put","add","delete","clear"],_p=new Map;function yw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_p.get(e))return _p.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _p.set(e,s),s}cP(t=>({...t,get:(e,n,r)=>yw(e,n)||t.get(e,n,r),has:(e,n)=>!!yw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jm="@firebase/app",vw="0.7.33";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Dy("@firebase/app"),vP="@firebase/app-compat",wP="@firebase/analytics-compat",_P="@firebase/analytics",SP="@firebase/app-check-compat",EP="@firebase/app-check",TP="@firebase/auth",RP="@firebase/auth-compat",kP="@firebase/database",CP="@firebase/database-compat",bP="@firebase/functions",IP="@firebase/functions-compat",xP="@firebase/installations",AP="@firebase/installations-compat",NP="@firebase/messaging",$P="@firebase/messaging-compat",PP="@firebase/performance",LP="@firebase/performance-compat",MP="@firebase/remote-config",DP="@firebase/remote-config-compat",OP="@firebase/storage",UP="@firebase/storage-compat",VP="@firebase/firestore",FP="@firebase/firestore-compat",BP="firebase",zP="9.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="[DEFAULT]",jP={[Jm]:"fire-core",[vP]:"fire-core-compat",[_P]:"fire-analytics",[wP]:"fire-analytics-compat",[EP]:"fire-app-check",[SP]:"fire-app-check-compat",[TP]:"fire-auth",[RP]:"fire-auth-compat",[kP]:"fire-rtdb",[CP]:"fire-rtdb-compat",[bP]:"fire-fn",[IP]:"fire-fn-compat",[xP]:"fire-iid",[AP]:"fire-iid-compat",[NP]:"fire-fcm",[$P]:"fire-fcm-compat",[PP]:"fire-perf",[LP]:"fire-perf-compat",[MP]:"fire-rc",[DP]:"fire-rc-compat",[OP]:"fire-gcs",[UP]:"fire-gcs-compat",[VP]:"fire-fst",[FP]:"fire-fst-compat","fire-js":"fire-js",[BP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Map,Zm=new Map;function WP(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ms(t){const e=t.name;if(Zm.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,t);for(const n of yd.values())WP(n,t);return!0}function fh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gs=new Xl("app","Firebase",HP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=zP;function GP(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:TR,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw gs.create("bad-app-name",{appName:String(r)});const i=yd.get(r);if(i){if(gd(t,i.options)&&gd(n,i.config))return i;throw gs.create("duplicate-app",{appName:r})}const s=new eP(r);for(const a of Zm.values())s.addComponent(a);const o=new qP(t,n,s);return yd.set(r,o),o}function Uy(t=TR){const e=yd.get(t);if(!e)throw gs.create("no-app",{appName:t});return e}function hr(t,e,n){var r;let i=(r=jP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(a.join(" "));return}ms(new bi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firebase-heartbeat-database",QP=1,Rl="firebase-heartbeat-store";let Sp=null;function RR(){return Sp||(Sp=fP(KP,QP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Rl)}}}).catch(t=>{throw gs.create("idb-open",{originalErrorMessage:t.message})})),Sp}async function YP(t){var e;try{return(await RR()).transaction(Rl).objectStore(Rl).get(kR(t))}catch(n){if(n instanceof yr)ps.warn(n.message);else{const r=gs.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});ps.warn(r.message)}}}async function ww(t,e){var n;try{const i=(await RR()).transaction(Rl,"readwrite");return await i.objectStore(Rl).put(e,kR(t)),i.done}catch(r){if(r instanceof yr)ps.warn(r.message);else{const i=gs.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});ps.warn(i.message)}}}function kR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=1024,JP=30*24*60*60*1e3;class ZP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_w();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=JP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_w(),{heartbeatsToSend:n,unsentEntries:r}=eL(this._heartbeatsCache.heartbeats),i=_R(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _w(){return new Date().toISOString().substring(0,10)}function eL(t,e=XP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Sw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z$()?j$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await YP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sw(t){return _R(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){ms(new bi("platform-logger",e=>new gP(e),"PRIVATE")),ms(new bi("heartbeat",e=>new ZP(e),"PRIVATE")),hr(Jm,vw,t),hr(Jm,vw,"esm2017"),hr("fire-js","")}nL("");var rL="firebase",iL="9.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(rL,iL,"app");function Vy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CR(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sL=CR,bR=new Xl("auth","Firebase",CR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Dy("@firebase/auth");function Nc(t,...e){Ew.logLevel<=Ce.ERROR&&Ew.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw Fy(t,...e)}function fr(t,...e){return Fy(t,...e)}function oL(t,e,n){const r=Object.assign(Object.assign({},sL()),{[e]:n});return new Xl("auth","Firebase",r).create(e,{appName:t.name})}function Fy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bR.create(t,...e)}function ie(t,e,...n){if(!t)throw Fy(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nc(e),new Error(e)}function Br(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Map;function Ar(t){Br(t instanceof Function,"Expected a class definition");let e=Tw.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tw.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t,e){const n=fh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(gd(s,e!=null?e:{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}function lL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uL(){return Rw()==="http:"||Rw()==="https:"}function Rw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uL()||V$()||"connection"in navigator)?navigator.onLine:!0}function dL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=U$()||F$()}get(){return cL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new Zl(3e4,6e4);function Jo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bs(t,e,n,r,i={}){return xR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Jl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),IR.fetch()(AR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function xR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hL),e);try{const i=new pL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw nc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw nc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw nc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oL(t,c,u);nr(t,c)}}catch(i){if(i instanceof yr)throw i;nr(t,"network-request-failed")}}async function eu(t,e,n,r,i={}){const s=await bs(t,e,n,r,i);return"mfaPendingCredential"in s&&nr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function AR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?By(t.config,i):`${t.config.apiScheme}://${i}`}class pL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),fL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e){return bs(t,"POST","/v1/accounts:delete",e)}async function gL(t,e){return bs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yL(t,e=!1){const n=et(t),r=await n.getIdToken(e),i=zy(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xa(Ep(i.auth_time)),issuedAtTime:Xa(Ep(i.iat)),expirationTime:Xa(Ep(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ep(t){return Number(t)*1e3}function zy(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const s=D$(r);return s?JSON.parse(s):(Nc("Failed to decode base64 JWT payload"),null)}catch(s){return Nc("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function vL(t){const e=zy(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yr&&wL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ao(t,gL(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?TL(s.providerUserInfo):[],a=EL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new NR(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function SL(t){const e=et(t);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TL(t){return t.map(e=>{var{providerId:n}=e,r=Vy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e){const n=await xR(t,{},async()=>{const r=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=AR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",IR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await RL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new kl;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ss{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Vy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _L(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new NR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yL(this,e)}reload(){return SL(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ao(this,mL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,f=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:_,isAnonymous:C,providerData:I,stsTokenManager:b}=n;ie(v&&b,e,"internal-error");const $=kl.fromJSON(this.name,b);ie(typeof v=="string",e,"internal-error"),Zr(d,e.name),Zr(h,e.name),ie(typeof _=="boolean",e,"internal-error"),ie(typeof C=="boolean",e,"internal-error"),Zr(p,e.name),Zr(f,e.name),Zr(m,e.name),Zr(E,e.name),Zr(y,e.name),Zr(g,e.name);const Z=new ss({uid:v,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:C,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:$,createdAt:y,lastLoginAt:g});return I&&Array.isArray(I)&&(Z.providerData=I.map(x=>Object.assign({},x))),E&&(Z._redirectEventId=E),Z}static async _fromIdTokenResponse(e,n,r=!1){const i=new kl;i.updateFromServerResponse(n);const s=new ss({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vd(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$R.type="NONE";const kw=$R;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t,e,n){return`firebase:${t}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$c(this.userKey,i.apiKey,s),this.fullPersistenceKey=$c("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new po(Ar(kw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ar(kw);const o=$c(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ss._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new po(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new po(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OR(e))return"Blackberry";if(UR(e))return"Webos";if(jy(e))return"Safari";if((e.includes("chrome/")||LR(e))&&!e.includes("edge/"))return"Chrome";if(DR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PR(t=Wt()){return/firefox\//i.test(t)}function jy(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LR(t=Wt()){return/crios\//i.test(t)}function MR(t=Wt()){return/iemobile/i.test(t)}function DR(t=Wt()){return/android/i.test(t)}function OR(t=Wt()){return/blackberry/i.test(t)}function UR(t=Wt()){return/webos/i.test(t)}function ph(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kL(t=Wt()){var e;return ph(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CL(){return B$()&&document.documentMode===10}function VR(t=Wt()){return ph(t)||DR(t)||UR(t)||OR(t)||/windows phone/i.test(t)||MR(t)}function bL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t,e=[]){let n;switch(t){case"Browser":n=Cw(Wt());break;case"Worker":n=`${Cw(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bw(this),this.idTokenSubscription=new bw(this),this.beforeStateQueue=new IL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bR,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await vd(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?et(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ar(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function mh(t){return et(t)}class bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=K$(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function AL(t,e){return bs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e){return eu(t,"POST","/v1/accounts:signInWithPassword",Jo(t,e))}async function $L(t,e){return bs(t,"POST","/v1/accounts:sendOobCode",Jo(t,e))}async function PL(t,e){return $L(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e){return eu(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}async function ML(t,e){return eu(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Wy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return NL(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return LL(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return AL(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return ML(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t,e){return eu(t,"POST","/v1/accounts:signInWithIdp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="http://localhost";class ys extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Vy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:DL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UL(t){const e=Pa(La(t)).link,n=e?Pa(La(e)).deep_link_id:null,r=Pa(La(t)).deep_link_id;return(r?Pa(La(r)).link:null)||r||n||e||t}class Hy{constructor(e){var n,r,i,s,o,a;const l=Pa(La(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=OL((i=l.mode)!==null&&i!==void 0?i:null);ie(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=UL(e);try{return new Hy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return Cl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hy.parseLink(n);return ie(r,"argument-error"),Cl._fromEmailAndCode(e,r.code,r.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends BR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends tu{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ys._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends tu{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends tu{constructor(){super("twitter.com")}static credential(e,n){return ys._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e){return eu(t,"POST","/v1/accounts:signUp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ss._fromIdTokenResponse(e,r,i),o=Iw(r);return new vs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Iw(r);return new vs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wd(e,n,r,i)}}function zR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(t,s,e,r):s})}async function FL(t,e,n=!1){const r=await Ao(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await Ao(t,zR(i,s,e,t),n);ie(o.idToken,i,"internal-error");const a=zy(o.idToken);ie(a,i,"internal-error");const{sub:l}=a;return ie(t.uid===l,i,"user-mismatch"),vs._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&nr(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e,n=!1){const r="signIn",i=await zR(t,r,e),s=await vs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function zL(t,e){return jR(mh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e,n){var r;ie(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ie(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ie(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ie(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e,n){const r=et(t),i={requestType:"PASSWORD_RESET",email:e};n&&jL(r,i,n),await PL(r,i)}async function HL(t,e,n){const r=mh(t),i=await VL(r,{returnSecureToken:!0,email:e,password:n}),s=await vs._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function qL(t,e,n){return zL(et(t),Zo.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e){return bs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=et(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ao(r,GL(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t,e){return et(t).setPersistence(e)}function QL(t,e,n,r){return et(t).onAuthStateChanged(e,n,r)}function YL(t){return et(t).signOut()}const _d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_d,"1"),this.storage.removeItem(_d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){const t=Wt();return jy(t)||ph(t)}const JL=1e3,ZL=10;class HR extends WR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=XL()&&bL(),this.fallbackToPolling=VR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);CL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},JL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HR.type="LOCAL";const eM=HR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR extends WR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qR.type="SESSION";const qy=qR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await tM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Gy("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function rM(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function iM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oM(){return GR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebaseLocalStorageDb",aM=1,Sd="firebaseLocalStorage",QR="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yh(t,e){return t.transaction([Sd],e?"readwrite":"readonly").objectStore(Sd)}function lM(){const t=indexedDB.deleteDatabase(KR);return new nu(t).toPromise()}function tg(){const t=indexedDB.open(KR,aM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sd,{keyPath:QR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sd)?e(r):(r.close(),await lM(),e(await tg()))})})}async function Aw(t,e,n){const r=yh(t,!0).put({[QR]:e,value:n});return new nu(r).toPromise()}async function uM(t,e){const n=yh(t,!1).get(e),r=await new nu(n).toPromise();return r===void 0?null:r.value}function Nw(t,e){const n=yh(t,!0).delete(e);return new nu(n).toPromise()}const cM=800,dM=3;class YR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(oM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await iM(),!this.activeServiceWorker)return;this.sender=new nM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await Aw(e,_d,"1"),await Nw(e,_d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Aw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yh(i,!1).getAll();return new nu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YR.type="LOCAL";const hM=YR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function pM(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fM().appendChild(r)})}function mM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t,e){return e?Ar(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yM(t){return jR(t.auth,new Ky(t),t.bypassAuthState)}function vM(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),BL(n,new Ky(t),t.bypassAuthState)}async function wM(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),FL(n,new Ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yM;case"linkViaPopup":case"linkViaRedirect":return wM;case"reauthViaPopup":case"reauthViaRedirect":return vM;default:nr(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new Zl(2e3,1e4);class io extends XR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=Gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,_M.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="pendingRedirect",Pc=new Map;class EM extends XR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const r=await TM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TM(t,e){const n=CM(e),r=kM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function RM(t,e){Pc.set(t._key(),e)}function kM(t){return Ar(t._redirectPersistence)}function CM(t){return $c(SM,t.config.apiKey,t.name)}async function bM(t,e,n=!1){const r=mh(t),i=gM(r,e),o=await new EM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=10*60*1e3;class xM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IM&&this.cachedEventUids.clear(),this.cachedEventUids.has($w(e))}saveEventToCache(e){this.cachedEventUids.add($w(e)),this.lastProcessedEventTime=Date.now()}}function $w(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(t,e={}){return bs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PM=/^https?/;async function LM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NM(t);for(const n of e)try{if(MM(n))return}catch{}nr(t,"unauthorized-domain")}function MM(t){const e=eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PM.test(n))return!1;if($M.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new Zl(3e4,6e4);function Pw(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OM(t){return new Promise((e,n)=>{var r,i,s;function o(){Pw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pw(),n(fr(t,"network-request-failed"))},timeout:DM.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pr().gapi)===null||s===void 0)&&s.load)o();else{const a=mM("iframefcb");return pr()[a]=()=>{gapi.load?o():n(fr(t,"network-request-failed"))},pM(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function UM(t){return Lc=Lc||OM(t),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new Zl(5e3,15e3),FM="__/auth/iframe",BM="emulator/auth/iframe",zM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WM(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?By(e,BM):`https://${t.config.authDomain}/${FM}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},i=jM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jl(r).slice(1)}`}async function HM(t){const e=await UM(t),n=pr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:WM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fr(t,"network-request-failed"),a=pr().setTimeout(()=>{s(o)},VM.get());function l(){pr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GM=500,KM=600,QM="_blank",YM="http://localhost";class Lw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XM(t,e,n,r=GM,i=KM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},qM),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Wt().toLowerCase();n&&(a=LR(u)?QM:n),PR(u)&&(e=e||YM,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,f])=>`${h}${p}=${f},`,"");if(kL(u)&&a!=="_self")return JM(e||"",a),new Lw(null);const d=window.open(e||"",a,c);ie(d,t,"popup-blocked");try{d.focus()}catch{}return new Lw(d)}function JM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="__/auth/handler",eD="emulator/auth/handler";function Mw(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:i};if(e instanceof BR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",G$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof tu){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${tD(t)}?${Jl(a).slice(1)}`}function tD({config:t}){return t.emulator?By(t,eD):`https://${t.authDomain}/${ZM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class nD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qy,this._completeRedirectFn=bM,this._overrideRedirectResult=RM}async _openPopup(e,n,r,i){var s;Br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Mw(e,n,r,eg(),i);return XM(e,o,Gy())}async _openRedirect(e,n,r,i){return await this._originValidation(e),rM(Mw(e,n,r,eg(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HM(e),r=new xM(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tp,{type:Tp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Tp];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VR()||jy()||ph()}}const rD=nD;var Dw="@firebase/auth",Ow="0.20.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function oD(t){ms(new bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{ie(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ie(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FR(t)},c=new xL(a,l,u);return lL(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ms(new bi("auth-internal",e=>{const n=mh(e.getProvider("auth").getImmediate());return(r=>new iD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(Dw,Ow,sD(t)),hr(Dw,Ow,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t=Uy()){const e=fh(t,"auth");return e.isInitialized()?e.getImmediate():aL(t,{popupRedirectResolver:rD,persistence:[hM,eM,qy]})}oD("Browser");var lD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K,Qy=Qy||{},le=lD||self;function Ed(){}function vh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ru(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function uD(t){return Object.prototype.hasOwnProperty.call(t,Rp)&&t[Rp]||(t[Rp]=++cD)}var Rp="closure_uid_"+(1e9*Math.random()>>>0),cD=0;function dD(t,e,n){return t.call.apply(t.bind,arguments)}function hD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Bt=dD:Bt=hD,Bt.apply(null,arguments)}function rc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Pt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Di(){this.s=this.s,this.o=this.o}var fD=0;Di.prototype.s=!1;Di.prototype.na=function(){!this.s&&(this.s=!0,this.M(),fD!=0)&&uD(this)};Di.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Yy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Uw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(vh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var pD=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{le.addEventListener("test",Ed,e),le.removeEventListener("test",Ed,e)}catch{}return t}();function Td(t){return/^[\s\xa0]*$/.test(t)}var Vw=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function kp(t,e){return t<e?-1:t>e?1:0}function wh(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function lr(t){return wh().indexOf(t)!=-1}function Xy(t){return Xy[" "](t),t}Xy[" "]=Ed;function mD(t){var e=vD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var gD=lr("Opera"),No=lr("Trident")||lr("MSIE"),ek=lr("Edge"),ng=ek||No,tk=lr("Gecko")&&!(wh().toLowerCase().indexOf("webkit")!=-1&&!lr("Edge"))&&!(lr("Trident")||lr("MSIE"))&&!lr("Edge"),yD=wh().toLowerCase().indexOf("webkit")!=-1&&!lr("Edge");function nk(){var t=le.document;return t?t.documentMode:void 0}var Rd;e:{var Cp="",bp=function(){var t=wh();if(tk)return/rv:([^\);]+)(\)|;)/.exec(t);if(ek)return/Edge\/([\d\.]+)/.exec(t);if(No)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(yD)return/WebKit\/(\S+)/.exec(t);if(gD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(bp&&(Cp=bp?bp[1]:""),No){var Ip=nk();if(Ip!=null&&Ip>parseFloat(Cp)){Rd=String(Ip);break e}}Rd=Cp}var vD={};function wD(){return mD(function(){let t=0;const e=Vw(String(Rd)).split("."),n=Vw("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=kp(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||kp(i[2].length==0,s[2].length==0)||kp(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var rg;if(le.document&&No){var Fw=nk();rg=Fw||parseInt(Rd,10)||void 0}else rg=void 0;var _D=rg;function bl(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(tk){e:{try{Xy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:SD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bl.X.h.call(this)}}Pt(bl,zt);var SD={2:"touch",3:"pen",4:"mouse"};bl.prototype.h=function(){bl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var iu="closure_listenable_"+(1e6*Math.random()|0),ED=0;function TD(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++ED,this.ba=this.ea=!1}function _h(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Jy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function rk(t){const e={};for(const n in t)e[n]=t[n];return e}const Bw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ik(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Bw.length;s++)n=Bw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sh(t){this.src=t,this.g={},this.h=0}Sh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=sg(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new TD(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function ig(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ZR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(_h(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function sg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Zy="closure_lm_"+(1e6*Math.random()|0),xp={};function sk(t,e,n,r,i){if(r&&r.once)return ak(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sk(t,e[s],n,r,i);return null}return n=nv(n),t&&t[iu]?t.N(e,n,ru(r)?!!r.capture:!!r,i):ok(t,e,n,!1,r,i)}function ok(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ru(i)?!!i.capture:!!i,a=tv(t);if(a||(t[Zy]=a=new Sh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=RD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pD||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(uk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function RD(){function t(n){return e.call(t.src,t.listener,n)}const e=kD;return t}function ak(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ak(t,e[s],n,r,i);return null}return n=nv(n),t&&t[iu]?t.O(e,n,ru(r)?!!r.capture:!!r,i):ok(t,e,n,!0,r,i)}function lk(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)lk(t,e[s],n,r,i);else r=ru(r)?!!r.capture:!!r,n=nv(n),t&&t[iu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=sg(s,n,r,i),-1<n&&(_h(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=tv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sg(e,n,r,i)),(n=-1<t?e[t]:null)&&ev(n))}function ev(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[iu])ig(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(uk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tv(e))?(ig(n,t),n.h==0&&(n.src=null,e[Zy]=null)):_h(t)}}}function uk(t){return t in xp?xp[t]:xp[t]="on"+t}function kD(t,e){if(t.ba)t=!0;else{e=new bl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&ev(t),t=n.call(r,e)}return t}function tv(t){return t=t[Zy],t instanceof Sh?t:null}var Ap="__closure_events_fn_"+(1e9*Math.random()>>>0);function nv(t){return typeof t=="function"?t:(t[Ap]||(t[Ap]=function(e){return t.handleEvent(e)}),t[Ap])}function Rt(){Di.call(this),this.i=new Sh(this),this.P=this,this.I=null}Pt(Rt,Di);Rt.prototype[iu]=!0;Rt.prototype.removeEventListener=function(t,e,n,r){lk(this,t,e,n,r)};function At(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;e=new zt(r,t),ik(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ic(o,r,!0,e)&&i}if(o=e.g=t,i=ic(o,r,!0,e)&&i,i=ic(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ic(o,r,!1,e)&&i}Rt.prototype.M=function(){if(Rt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_h(n[r]);delete t.g[e],t.h--}}this.I=null};Rt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ic(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&ig(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var rv=le.JSON.stringify;function CD(){var t=hk;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class bD{constructor(){this.h=this.g=null}add(e,n){const r=ck.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ck=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ID,t=>t.reset());class ID{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xD(t){le.setTimeout(()=>{throw t},0)}function dk(t,e){og||AD(),ag||(og(),ag=!0),hk.add(t,e)}var og;function AD(){var t=le.Promise.resolve(void 0);og=function(){t.then(ND)}}var ag=!1,hk=new bD;function ND(){for(var t;t=CD();){try{t.h.call(t.g)}catch(n){xD(n)}var e=ck;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ag=!1}function Eh(t,e){Rt.call(this),this.h=t||1,this.g=e||le,this.j=Bt(this.kb,this),this.l=Date.now()}Pt(Eh,Rt);K=Eh.prototype;K.ca=!1;K.R=null;K.kb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),At(this,"tick"),this.ca&&(iv(this),this.start()))}};K.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function iv(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}K.M=function(){Eh.X.M.call(this),iv(this),delete this.g};function sv(t,e,n){if(typeof t=="function")n&&(t=Bt(t,n));else if(t&&typeof t.handleEvent=="function")t=Bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function fk(t){t.g=sv(()=>{t.g=null,t.i&&(t.i=!1,fk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class $D extends Di{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fk(this)}M(){super.M(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Il(t){Di.call(this),this.h=t,this.g={}}Pt(Il,Di);var zw=[];function pk(t,e,n,r){Array.isArray(n)||(n&&(zw[0]=n.toString()),n=zw);for(var i=0;i<n.length;i++){var s=sk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function mk(t){Jy(t.g,function(e,n){this.g.hasOwnProperty(n)&&ev(e)},t),t.g={}}Il.prototype.M=function(){Il.X.M.call(this),mk(this)};Il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Th(){this.g=!0}Th.prototype.Aa=function(){this.g=!1};function PD(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function LD(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function so(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+DD(t,n)+(r?" "+r:"")})}function MD(t,e){t.info(function(){return"TIMEOUT: "+e})}Th.prototype.info=function(){};function DD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return rv(n)}catch{return e}}var Is={},jw=null;function Rh(){return jw=jw||new Rt}Is.Oa="serverreachability";function gk(t){zt.call(this,Is.Oa,t)}Pt(gk,zt);function xl(t){const e=Rh();At(e,new gk(e))}Is.STAT_EVENT="statevent";function yk(t,e){zt.call(this,Is.STAT_EVENT,t),this.stat=e}Pt(yk,zt);function Zt(t){const e=Rh();At(e,new yk(e,t))}Is.Pa="timingevent";function vk(t,e){zt.call(this,Is.Pa,t),this.size=e}Pt(vk,zt);function su(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var kh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},wk={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ov(){}ov.prototype.h=null;function Ww(t){return t.h||(t.h=t.i())}function _k(){}var ou={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function av(){zt.call(this,"d")}Pt(av,zt);function lv(){zt.call(this,"c")}Pt(lv,zt);var lg;function Ch(){}Pt(Ch,ov);Ch.prototype.g=function(){return new XMLHttpRequest};Ch.prototype.i=function(){return{}};lg=new Ch;function au(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Il(this),this.O=OD,t=ng?125:void 0,this.T=new Eh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Sk}function Sk(){this.i=null,this.g="",this.h=!1}var OD=45e3,ug={},kd={};K=au.prototype;K.setTimeout=function(t){this.O=t};function cg(t,e,n){t.K=1,t.v=Ih(zr(e)),t.s=n,t.P=!0,Ek(t,null)}function Ek(t,e){t.F=Date.now(),lu(t),t.A=zr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Ak(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Sk,t.g=Xk(t.l,n?e:null,!t.s),0<t.N&&(t.L=new $D(Bt(t.Ka,t,t.g),t.N)),pk(t.S,t.g,"readystatechange",t.hb),e=t.H?rk(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),xl(),PD(t.j,t.u,t.A,t.m,t.U,t.s)}K.hb=function(t){t=t.target;const e=this.L;e&&Nr(t)==3?e.l():this.Ka(t)};K.Ka=function(t){try{if(t==this.g)e:{const c=Nr(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||ng||this.g&&(this.h.h||this.g.fa()||Kw(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?xl(3):xl(2)),bh(this);var n=this.g.aa();this.Y=n;t:if(Tk(this)){var r=Kw(this.g);t="";var i=r.length,s=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),Ja(this);var o="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,LD(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Td(a)){var u=a;break t}}u=null}if(n=u)so(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dg(this,n);else{this.i=!1,this.o=3,Zt(12),Ji(this),Ja(this);break e}}this.P?(Rk(this,c,o),ng&&this.i&&c==3&&(pk(this.S,this.T,"tick",this.gb),this.T.start())):(so(this.j,this.m,o,null),dg(this,o)),c==4&&Ji(this),this.i&&!this.I&&(c==4?Gk(this.l,this):(this.i=!1,lu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Zt(12)):(this.o=0,Zt(13)),Ji(this),Ja(this)}}}catch{}finally{}};function Tk(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Rk(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=UD(t,n),i==kd){e==4&&(t.o=4,Zt(14),r=!1),so(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ug){t.o=4,Zt(15),so(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else so(t.j,t.m,i,null),dg(t,i);Tk(t)&&i!=kd&&i!=ug&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Zt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),mv(e),e.K=!0,Zt(11))):(so(t.j,t.m,n,"[Invalid Chunked Response]"),Ji(t),Ja(t))}K.gb=function(){if(this.g){var t=Nr(this.g),e=this.g.fa();this.C<e.length&&(bh(this),Rk(this,t,e),this.i&&t!=4&&lu(this))}};function UD(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?kd:(n=Number(e.substring(n,r)),isNaN(n)?ug:(r+=1,r+n>e.length?kd:(e=e.substr(r,n),t.C=r+n,e)))}K.cancel=function(){this.I=!0,Ji(this)};function lu(t){t.V=Date.now()+t.O,kk(t,t.O)}function kk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=su(Bt(t.fb,t),e)}function bh(t){t.B&&(le.clearTimeout(t.B),t.B=null)}K.fb=function(){this.B=null;const t=Date.now();0<=t-this.V?(MD(this.j,this.A),this.K!=2&&(xl(),Zt(17)),Ji(this),this.o=2,Ja(this)):kk(this,this.V-t)};function Ja(t){t.l.G==0||t.I||Gk(t.l,t)}function Ji(t){bh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,iv(t.T),mk(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function dg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||hg(n.h,t))){if(!t.J&&hg(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Id(n),Nh(n);else break e;pv(n),Zt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=su(Bt(n.bb,n),6e3));if(1>=Pk(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Zi(n,11)}else if((t.J||n.g==t)&&Id(n),!Td(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const f=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var s=r.h;s.g||f.indexOf("spdy")==-1&&f.indexOf("quic")==-1&&f.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(uv(s,s.h),s.h=null))}if(r.D){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,He(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=Yk(r,r.H?r.ka:null,r.V),o.J){Lk(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(bh(a),lu(a)),r.g=o}else Hk(r);0<n.i.length&&$h(n)}else u[0]!="stop"&&u[0]!="close"||Zi(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Zi(n,7):fv(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}xl(4)}catch{}}function VD(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(vh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function FD(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ck(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(vh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=FD(t),r=VD(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var bk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function os(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof os){this.h=e!==void 0?e:t.h,Cd(this,t.j),this.s=t.s,this.g=t.g,bd(this,t.m),this.l=t.l,e=t.i;var n=new Al;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Hw(this,n),this.o=t.o}else t&&(n=String(t).match(bk))?(this.h=!!e,Cd(this,n[1]||"",!0),this.s=Ma(n[2]||""),this.g=Ma(n[3]||"",!0),bd(this,n[4]),this.l=Ma(n[5]||"",!0),Hw(this,n[6]||"",!0),this.o=Ma(n[7]||"")):(this.h=!!e,this.i=new Al(null,this.h))}os.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Da(e,qw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Da(e,qw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Da(n,n.charAt(0)=="/"?WD:jD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Da(n,qD)),t.join("")};function zr(t){return new os(t)}function Cd(t,e,n){t.j=n?Ma(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Hw(t,e,n){e instanceof Al?(t.i=e,GD(t.i,t.h)):(n||(e=Da(e,HD)),t.i=new Al(e,t.h))}function He(t,e,n){t.i.set(e,n)}function Ih(t){return He(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ma(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Da(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,zD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var qw=/[#\/\?@]/g,jD=/[#\?:]/g,WD=/[#\?]/g,HD=/[#\?@]/g,qD=/#/g;function Al(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Oi(t){t.g||(t.g=new Map,t.h=0,t.i&&BD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}K=Al.prototype;K.add=function(t,e){Oi(this),this.i=null,t=ea(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ik(t,e){Oi(t),e=ea(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xk(t,e){return Oi(t),e=ea(t,e),t.g.has(e)}K.forEach=function(t,e){Oi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};K.oa=function(){Oi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};K.W=function(t){Oi(this);let e=[];if(typeof t=="string")xk(this,t)&&(e=e.concat(this.g.get(ea(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};K.set=function(t,e){return Oi(this),this.i=null,t=ea(this,t),xk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};K.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function Ak(t,e,n){Ik(t,e),0<n.length&&(t.i=null,t.g.set(ea(t,e),Yy(n)),t.h+=n.length)}K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ea(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function GD(t,e){e&&!t.j&&(Oi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Ik(this,r),Ak(this,i,n))},t)),t.j=e}var KD=class{constructor(t,e){this.h=t,this.g=e}};function Nk(t){this.l=t||QD,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ga&&le.g.Ga()&&le.g.Ga().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var QD=10;function $k(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Pk(t){return t.h?1:t.g?t.g.size:0}function hg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uv(t,e){t.g?t.g.add(e):t.h=e}function Lk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Nk.prototype.cancel=function(){if(this.i=Mk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Mk(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Yy(t.i)}function cv(){}cv.prototype.stringify=function(t){return le.JSON.stringify(t,void 0)};cv.prototype.parse=function(t){return le.JSON.parse(t,void 0)};function YD(){this.g=new cv}function XD(t,e,n){const r=n||"";try{Ck(t,function(i,s){let o=i;ru(i)&&(o=rv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function JD(t,e){const n=new Th;if(le.Image){const r=new Image;r.onload=rc(sc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rc(sc,n,r,"TestLoadImage: error",!1,e),r.onabort=rc(sc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rc(sc,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function sc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function uu(t){this.l=t.$b||null,this.j=t.ib||!1}Pt(uu,ov);uu.prototype.g=function(){return new xh(this.l,this.j)};uu.prototype.i=function(t){return function(){return t}}({});function xh(t,e){Rt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=dv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pt(xh,Rt);var dv=0;K=xh.prototype;K.open=function(t,e){if(this.readyState!=dv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Nl(this)};K.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||le).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))};K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cu(this)),this.readyState=dv};K.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Dk(this)}else t.text().then(this.Ua.bind(this),this.ga.bind(this))};function Dk(t){t.j.read().then(t.Sa.bind(t)).catch(t.ga.bind(t))}K.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cu(this):Nl(this),this.readyState==3&&Dk(this)}};K.Ua=function(t){this.g&&(this.response=this.responseText=t,cu(this))};K.Ta=function(t){this.g&&(this.response=t,cu(this))};K.ga=function(){this.g&&cu(this)};function cu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Nl(t)}K.setRequestHeader=function(t,e){this.v.append(t,e)};K.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};K.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Nl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ZD=le.JSON.parse;function dt(t){Rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ok,this.K=this.L=!1}Pt(dt,Rt);var Ok="",eO=/^https?$/i,tO=["POST","PUT"];K=dt.prototype;K.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lg.g(),this.C=this.u?Ww(this.u):Ww(lg),this.g.onreadystatechange=Bt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Gw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=le.FormData&&t instanceof le.FormData,!(0<=ZR(tO,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fk(this),0<this.B&&((this.K=nO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.qa,this)):this.A=sv(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Gw(this,s)}};function nO(t){return No&&wD()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}K.qa=function(){typeof Qy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))};function Gw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Uk(t),Ah(t)}function Uk(t){t.D||(t.D=!0,At(t,"complete"),At(t,"error"))}K.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),Ah(this))};K.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ah(this,!0)),dt.X.M.call(this)};K.Ha=function(){this.s||(this.F||this.v||this.l?Vk(this):this.eb())};K.eb=function(){Vk(this)};function Vk(t){if(t.h&&typeof Qy<"u"&&(!t.C[1]||Nr(t)!=4||t.aa()!=2)){if(t.v&&Nr(t)==4)sv(t.Ha,0,t);else if(At(t,"readystatechange"),Nr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(bk)[1]||null;if(!i&&le.self&&le.self.location){var s=le.self.location.protocol;i=s.substr(0,s.length-1)}r=!eO.test(i?i.toLowerCase():"")}n=r}if(n)At(t,"complete"),At(t,"success");else{t.m=6;try{var o=2<Nr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",Uk(t)}}finally{Ah(t)}}}}function Ah(t,e){if(t.g){Fk(t);const n=t.g,r=t.C[0]?Ed:null;t.g=null,t.C=null,e||At(t,"ready");try{n.onreadystatechange=r}catch{}}}function Fk(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}function Nr(t){return t.g?t.g.readyState:0}K.aa=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}};K.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};K.Ra=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ZD(e)}};function Kw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Ok:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}K.Ea=function(){return this.m};K.Na=function(){return typeof this.j=="string"?this.j:String(this.j)};function Bk(t){let e="";return Jy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function hv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):He(t,e,n))}function wa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zk(t){this.Ca=0,this.i=[],this.j=new Th,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=wa("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=wa("baseRetryDelayMs",5e3,t),this.ab=wa("retryDelaySeedMs",1e4,t),this.Za=wa("forwardChannelMaxRetries",2,t),this.ta=wa("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Yb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Nk(t&&t.concurrentRequestLimit),this.Fa=new YD,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=t&&t.Wb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}K=zk.prototype;K.ma=8;K.G=1;function fv(t){if(jk(t),t.G==3){var e=t.U++,n=zr(t.F);He(n,"SID",t.I),He(n,"RID",e),He(n,"TYPE","terminate"),du(t,n),e=new au(t,t.j,e,void 0),e.K=2,e.v=Ih(zr(n)),n=!1,le.navigator&&le.navigator.sendBeacon&&(n=le.navigator.sendBeacon(e.v.toString(),"")),!n&&le.Image&&(new Image().src=e.v,n=!0),n||(e.g=Xk(e.l,null),e.g.da(e.v)),e.F=Date.now(),lu(e)}Qk(t)}function Nh(t){t.g&&(mv(t),t.g.cancel(),t.g=null)}function jk(t){Nh(t),t.u&&(le.clearTimeout(t.u),t.u=null),Id(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function $h(t){$k(t.h)||t.m||(t.m=!0,dk(t.Ja,t),t.C=0)}function rO(t,e){return Pk(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Ya?0:t.Za)?!1:(t.m=su(Bt(t.Ja,t,e),Kk(t,t.C)),t.C++,!0)}K.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new au(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=rk(s),ik(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Wk(this,i,e),n=zr(this.F),He(n,"RID",t),He(n,"CVER",22),this.D&&He(n,"X-HTTP-Session-Id",this.D),du(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Bk(s)))+"&"+e:this.o&&hv(n,this.o,s)),uv(this.h,i),this.Xa&&He(n,"TYPE","init"),this.O?(He(n,"$req",e),He(n,"SID","null"),i.Z=!0,cg(i,n,null)):cg(i,n,e),this.G=2}}else this.G==3&&(t?Qw(this,t):this.i.length==0||$k(this.h)||Qw(this))};function Qw(t,e){var n;e?n=e.m:n=t.U++;const r=zr(t.F);He(r,"SID",t.I),He(r,"RID",n),He(r,"AID",t.T),du(t,r),t.o&&t.s&&hv(r,t.o,t.s),n=new au(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Wk(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),uv(t.h,n),cg(n,r,e)}function du(t,e){t.ia&&Jy(t.ia,function(n,r){He(e,r,n)}),t.l&&Ck({},function(n,r){He(e,r,n)})}function Wk(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Bt(t.l.Qa,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{XD(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Hk(t){t.g||t.u||(t.Z=1,dk(t.Ia,t),t.A=0)}function pv(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=su(Bt(t.Ia,t),Kk(t,t.A)),t.A++,!0)}K.Ia=function(){if(this.u=null,qk(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=su(Bt(this.cb,this),t)}};K.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Zt(10),Nh(this),qk(this))};function mv(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function qk(t){t.g=new au(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=zr(t.sa);He(e,"RID","rpc"),He(e,"SID",t.I),He(e,"CI",t.L?"0":"1"),He(e,"AID",t.T),He(e,"TYPE","xmlhttp"),du(t,e),t.o&&t.s&&hv(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ih(zr(e)),n.s=null,n.P=!0,Ek(n,t)}K.bb=function(){this.v!=null&&(this.v=null,Nh(this),pv(this),Zt(19))};function Id(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function Gk(t,e){var n=null;if(t.g==e){Id(t),mv(t),t.g=null;var r=2}else if(hg(t.h,e))n=e.D,Lk(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Rh(),At(r,new vk(r,n)),$h(t)}else Hk(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&rO(t,e)||r==2&&pv(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Zi(t,5);break;case 4:Zi(t,10);break;case 3:Zi(t,6);break;default:Zi(t,2)}}}function Kk(t,e){let n=t.Wa+Math.floor(Math.random()*t.ab);return t.l||(n*=2),n*e}function Zi(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Bt(t.jb,t);n||(n=new os("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||Cd(n,"https"),Ih(n)),JD(n.toString(),r)}else Zt(2);t.G=0,t.l&&t.l.va(e),Qk(t),jk(t)}K.jb=function(t){t?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function Qk(t){if(t.G=0,t.la=[],t.l){const e=Mk(t.h);(e.length!=0||t.i.length!=0)&&(Uw(t.la,e),Uw(t.la,t.i),t.h.i.length=0,Yy(t.i),t.i.length=0),t.l.ua()}}function Yk(t,e,n){var r=n instanceof os?zr(n):new os(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),bd(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new os(null,void 0);r&&Cd(s,r),e&&(s.g=e),i&&bd(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&He(r,n,e),He(r,"VER",t.ma),du(t,r),r}function Xk(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new dt(new uu({ib:!0})):new dt(t.ra),e.L=t.H,e}function Jk(){}K=Jk.prototype;K.xa=function(){};K.wa=function(){};K.va=function(){};K.ua=function(){};K.Qa=function(){};function xd(){if(No&&!(10<=Number(_D)))throw Error("Environmental error: no available transport.")}xd.prototype.g=function(t,e){return new $n(t,e)};function $n(t,e){Rt.call(this),this.g=new zk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Xb)&&!Td(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Td(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ta(this)}Pt($n,Rt);$n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Zt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Yk(t,null,t.V),$h(t)};$n.prototype.close=function(){fv(this.g)};$n.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=rv(t),t=n);e.i.push(new KD(e.$a++,t)),e.G==3&&$h(e)};$n.prototype.M=function(){this.g.l=null,delete this.j,fv(this.g),delete this.g,$n.X.M.call(this)};function Zk(t){av.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Pt(Zk,av);function eC(){lv.call(this),this.status=1}Pt(eC,lv);function ta(t){this.g=t}Pt(ta,Jk);ta.prototype.xa=function(){At(this.g,"a")};ta.prototype.wa=function(t){At(this.g,new Zk(t))};ta.prototype.va=function(t){At(this.g,new eC)};ta.prototype.ua=function(){At(this.g,"b")};xd.prototype.createWebChannel=xd.prototype.g;$n.prototype.send=$n.prototype.u;$n.prototype.open=$n.prototype.m;$n.prototype.close=$n.prototype.close;kh.NO_ERROR=0;kh.TIMEOUT=8;kh.HTTP_ERROR=6;wk.COMPLETE="complete";_k.EventType=ou;ou.OPEN="a";ou.CLOSE="b";ou.ERROR="c";ou.MESSAGE="d";Rt.prototype.listen=Rt.prototype.N;dt.prototype.listenOnce=dt.prototype.O;dt.prototype.getLastError=dt.prototype.Na;dt.prototype.getLastErrorCode=dt.prototype.Ea;dt.prototype.getStatus=dt.prototype.aa;dt.prototype.getResponseJson=dt.prototype.Ra;dt.prototype.getResponseText=dt.prototype.fa;dt.prototype.send=dt.prototype.da;var iO=function(){return new xd},sO=function(){return Rh()},Np=kh,oO=wk,aO=Is,Yw={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lO=uu,oc=_k,uO=dt;const Xw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na="9.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Dy("@firebase/firestore");function Jw(){return ws.logLevel}function Q(t,...e){if(ws.logLevel<=Ce.DEBUG){const n=e.map(gv);ws.debug(`Firestore (${na}): ${t}`,...n)}}function jr(t,...e){if(ws.logLevel<=Ce.ERROR){const n=e.map(gv);ws.error(`Firestore (${na}): ${t}`,...n)}}function Zw(t,...e){if(ws.logLevel<=Ce.WARN){const n=e.map(gv);ws.warn(`Firestore (${na}): ${t}`,...n)}}function gv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Ue(t,e){t||ce()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class hO{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new cO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new cn(e)}}class fO{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ue(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class pO{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new fO(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gO{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.A=n.token,new mO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function $o(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new mt(0,0))}static max(){return new we(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $l.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $l?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends $l{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const vO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends $l{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return vO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(qe.fromString(e))}static fromName(e){return new ne(qe.fromString(e).popFirst(5))}static empty(){return new ne(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new qe(e.slice()))}}function wO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Ii(i,ne.empty(),e)}function _O(t){return new Ii(t.readTime,t.key,-1)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(we.min(),ne.empty(),-1)}static max(){return new Ii(we.max(),ne.empty(),-1)}}function SO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==EO)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function fu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yv.at=-1;class yt{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:bt.RED,this.left=i!=null?i:bt.EMPTY,this.right=s!=null?s:bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(t,e,n,r,i){return this}insert(t,e,n){return new bt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(e){return new t_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class t_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new gt(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new $t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const RO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=RO.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Po(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iC(t){const e=t.mapValue.fields.__previous_value__;return rC(e)?iC(e):e}function Pl(t){const e=xi(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ll{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}function Ph(t){return t==null}function Ad(t){return t===0&&1/t==-1/0}function CO(t){return typeof t=="number"&&Number.isInteger(t)&&!Ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rC(t)?4:bO(t)?9007199254740991:10:ce()}function gr(t,e){if(t===e)return!0;const n=_s(t);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pl(t).isEqual(Pl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=xi(r.timestampValue),o=xi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Po(r.bytesValue).isEqual(Po(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=lt(r.doubleValue),o=lt(i.doubleValue);return s===o?Ad(s)===Ad(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(e_(s)!==e_(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!gr(s[a],o[a])))return!1;return!0}(t,e);default:return ce()}}function Ml(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function Lo(t,e){if(t===e)return 0;const n=_s(t),r=_s(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=lt(i.integerValue||i.doubleValue),a=lt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return n_(t.timestampValue,e.timestampValue);case 4:return n_(Pl(t),Pl(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Po(i),a=Po(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Ae(o[l],a[l]);if(u!==0)return u}return Ae(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Ae(lt(i.latitude),lt(s.latitude));return o!==0?o:Ae(lt(i.longitude),lt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Lo(o[l],a[l]);if(u)return u}return Ae(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===lc.mapValue&&s===lc.mapValue)return 0;if(i===lc.mapValue)return 1;if(s===lc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Ae(a[c],u[c]);if(d!==0)return d;const h=Lo(o[a[c]],l[u[c]]);if(h!==0)return h}return Ae(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ce()}}function n_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=xi(t),r=xi(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function go(t){return fg(t)}function fg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=xi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Po(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ne.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=fg(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${fg(r.fields[a])}`;return s+"}"}(t.mapValue):ce();var e,n}function pg(t){return!!t&&"integerValue"in t}function vv(t){return!!t&&"arrayValue"in t}function r_(t){return!!t&&"nullValue"in t}function i_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mc(t){return!!t&&"mapValue"in t}function Za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Za(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Za(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Za(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fn(Za(this.value))}}function sC(t){const e=[];return xs(t.fields,(n,r)=>{const i=new Vt([n]);if(Mc(r)){const s=sC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new It(e,0,we.min(),we.min(),fn.empty(),0)}static newFoundDocument(e,n,r){return new It(e,1,n,we.min(),r,0)}static newNoDocument(e,n){return new It(e,2,n,we.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,we.min(),fn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function s_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new IO(t,e,n,r,i,s,o)}function wv(t){const e=fe(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+go(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.ht=n}return e.ht}function xO(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${go(r.value)}`;var r}).join(", ")}]`),Ph(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>go(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>go(n)).join(",")),`Target(${e})`}function _v(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!OO(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!gr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a_(t.startAt,e.startAt)&&a_(t.endAt,e.endAt)}function mg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class mn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new AO(e,n,r):n==="array-contains"?new PO(e,r):n==="in"?new LO(e,r):n==="not-in"?new MO(e,r):n==="array-contains-any"?new DO(e,r):new mn(e,n,r)}static lt(e,n,r){return n==="in"?new NO(e,r):new $O(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Lo(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.ft(Lo(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class AO extends mn{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.ft(n)}}class NO extends mn{constructor(e,n){super(e,"in",n),this.keys=oC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $O extends mn{constructor(e,n){super(e,"not-in",n),this.keys=oC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class PO extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vv(n)&&Ml(n.arrayValue,this.value)}}class LO extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ml(this.value.arrayValue,n)}}class MO extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ml(this.value.arrayValue,n)}}class DO extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ml(this.value.arrayValue,r))}}class Nd{constructor(e,n){this.position=e,this.inclusive=n}}class yo{constructor(e,n="asc"){this.field=e,this.dir=n}}function OO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function o_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Lo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function a_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function UO(t,e,n,r,i,s,o,a){return new pu(t,e,n,r,i,s,o,a)}function Lh(t){return new pu(t)}function l_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function lC(t){for(const e of t.filters)if(e.dt())return e.field;return null}function VO(t){return t.collectionGroup!==null}function Dl(t){const e=fe(t);if(e._t===null){e._t=[];const n=lC(e),r=aC(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new yo(n)),e._t.push(new yo(Vt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new yo(Vt.keyField(),s))}}}return e._t}function Wr(t){const e=fe(t);if(!e.wt)if(e.limitType==="F")e.wt=s_(e.path,e.collectionGroup,Dl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Dl(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new yo(s.field,o))}const r=e.endAt?new Nd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Nd(e.startAt.position,e.startAt.inclusive):null;e.wt=s_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function gg(t,e,n){return new pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mh(t,e){return _v(Wr(t),Wr(e))&&t.limitType===e.limitType}function uC(t){return`${wv(Wr(t))}|lt:${t.limitType}`}function yg(t){return`Query(target=${xO(Wr(t))}; limitType=${t.limitType})`}function Sv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=o_(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Dl(n),r)||n.endAt&&!function(i,s,o){const a=o_(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Dl(n),r))}(t,e)}function FO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cC(t){return(e,n)=>{let r=!1;for(const i of Dl(t)){const s=BO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function BO(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Lo(a,l):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function hC(t){return{integerValue:""+t}}function zO(t,e){return CO(e)?hC(e):dC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function jO(t,e,n){return t instanceof Ol?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ul?pC(t,e):t instanceof Vl?mC(t,e):function(r,i){const s=fC(r,i),o=u_(s)+u_(r.yt);return pg(s)&&pg(r.yt)?hC(o):dC(r.It,o)}(t,e)}function WO(t,e,n){return t instanceof Ul?pC(t,e):t instanceof Vl?mC(t,e):n}function fC(t,e){return t instanceof $d?pg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ol extends Dh{}class Ul extends Dh{constructor(e){super(),this.elements=e}}function pC(t,e){const n=gC(e);for(const r of t.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vl extends Dh{constructor(e){super(),this.elements=e}}function mC(t,e){let n=gC(e);for(const r of t.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}class $d extends Dh{constructor(e,n){super(),this.It=e,this.yt=n}}function u_(t){return lt(t.integerValue||t.doubleValue)}function gC(t){return vv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.field=e,this.transform=n}}function qO(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ul&&r instanceof Ul||n instanceof Vl&&r instanceof Vl?$o(n.elements,r.elements,gr):n instanceof $d&&r instanceof $d?gr(n.yt,r.yt):n instanceof Ol&&r instanceof Ol}(t.transform,e.transform)}class GO{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Oh{}function yC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ev(t.key,jn.none()):new mu(t.key,t.data,jn.none());{const n=t.data,r=fn.empty();let i=new gt(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ui(t.key,r,new zn(i.toArray()),jn.none())}}function KO(t,e,n){t instanceof mu?function(r,i,s){const o=r.value.clone(),a=d_(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ui?function(r,i,s){if(!Dc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=d_(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(vC(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function el(t,e,n,r){return t instanceof mu?function(i,s,o,a){if(!Dc(i.precondition,s))return o;const l=i.value.clone(),u=h_(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ui?function(i,s,o,a){if(!Dc(i.precondition,s))return o;const l=h_(i.fieldTransforms,a,s),u=s.data;return u.setAll(vC(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Dc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function QO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=fC(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function c_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&$o(n,r,(i,s)=>qO(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mu extends Oh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ui extends Oh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d_(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,WO(o,a,n[i]))}return r}function h_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,jO(s,o,e))}return r}class Ev extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YO extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ee;function JO(t){switch(t){default:return ce();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function wC(t){if(t===void 0)return jr("GRPC error has no .code"),A.UNKNOWN;switch(t){case at.OK:return A.OK;case at.CANCELLED:return A.CANCELLED;case at.UNKNOWN:return A.UNKNOWN;case at.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case at.INTERNAL:return A.INTERNAL;case at.UNAVAILABLE:return A.UNAVAILABLE;case at.UNAUTHENTICATED:return A.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case at.NOT_FOUND:return A.NOT_FOUND;case at.ALREADY_EXISTS:return A.ALREADY_EXISTS;case at.PERMISSION_DENIED:return A.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case at.ABORTED:return A.ABORTED;case at.OUT_OF_RANGE:return A.OUT_OF_RANGE;case at.UNIMPLEMENTED:return A.UNIMPLEMENTED;case at.DATA_LOSS:return A.DATA_LOSS;default:return ce()}}(Ee=at||(at={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new yt(ne.comparator);function Hr(){return ZO}const _C=new yt(ne.comparator);function Oa(...t){let e=_C;for(const n of t)e=e.insert(n.key,n);return e}function SC(t){let e=_C;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function es(){return tl()}function EC(){return tl()}function tl(){return new ra(t=>t.toString(),(t,e)=>t.isEqual(e))}const eU=new yt(ne.comparator),tU=new gt(ne.comparator);function _e(...t){let e=tU;for(const n of t)e=e.add(n);return e}const nU=new gt(Ae);function TC(){return nU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n)),new Uh(we.min(),r,TC(),Hr(),_e())}}class gu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new gu($t.EMPTY_BYTE_STRING,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class RC{constructor(e,n){this.targetId=e,this.At=n}}class kC{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class f_{constructor(){this.Rt=0,this.bt=m_(),this.Pt=$t.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=_e(),n=_e(),r=_e();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new gu(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=m_()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class rU{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Hr(),this.qt=p_(),this.Kt=new gt(Ae)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(mg(s))if(r===0){const o=new ne(s.path);this.jt(n,o,It.newNoDocument(o,we.min()))}else Ue(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&mg(a.target)){const l=new ne(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,It.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=_e();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Uh(e,n,this.Kt,this.Ut,r);return this.Ut=Hr(),this.qt=p_(),this.Kt=new gt(Ae),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new f_,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new gt(Ae),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new f_),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function p_(){return new yt(ne.comparator)}function m_(){return new yt(ne.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),sU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class oU{constructor(e,n){this.databaseId=e,this.gt=n}}function Pd(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CC(t,e){return t.gt?e.toBase64():e.toUint8Array()}function aU(t,e){return Pd(t,e.toTimestamp())}function Lr(t){return Ue(!!t),we.fromTimestamp(function(e){const n=xi(e);return new mt(n.seconds,n.nanos)}(t))}function Tv(t,e){return function(n){return new qe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function bC(t){const e=qe.fromString(t);return Ue(AC(e)),e}function vg(t,e){return Tv(t.databaseId,e.path)}function $p(t,e){const n=bC(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(IC(n))}function wg(t,e){return Tv(t.databaseId,e)}function lU(t){const e=bC(t);return e.length===4?qe.emptyPath():IC(e)}function _g(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IC(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function g_(t,e,n){return{name:vg(t,e),fields:n.value.mapValue.fields}}function uU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.gt?(Ue(u===void 0||typeof u=="string"),$t.fromBase64String(u||"")):(Ue(u===void 0||u instanceof Uint8Array),$t.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?A.UNKNOWN:wC(l.code);return new Y(u,l.message||"")}(o);n=new kC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$p(t,r.document.name),s=Lr(r.document.updateTime),o=new fn({mapValue:{fields:r.document.fields}}),a=It.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Oc(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$p(t,r.document),s=r.readTime?Lr(r.readTime):we.min(),o=It.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Oc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$p(t,r.document),s=r.removedTargetIds||[];n=new Oc([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new XO(i),o=r.targetId;n=new RC(o,s)}}return n}function cU(t,e){let n;if(e instanceof mu)n={update:g_(t,e.key,e.value)};else if(e instanceof Ev)n={delete:vg(t,e.key)};else if(e instanceof Ui)n={update:g_(t,e.key,e.data),updateMask:_U(e.fieldMask)};else{if(!(e instanceof YO))return ce();n={verify:vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ol)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ul)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Vl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $d)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:aU(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce()}(t,e.precondition)),n}function dU(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Lr(r.updateTime):Lr(i);return s.isEqual(we.min())&&(s=Lr(i)),new GO(s,r.transformResults||[])}(n,e))):[]}function hU(t,e){return{documents:[wg(t,e.path)]}}function fU(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=wg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(d){if(d.op==="=="){if(i_(d.value))return{unaryFilter:{field:Us(d.field),op:"IS_NAN"}};if(r_(d.value))return{unaryFilter:{field:Us(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(i_(d.value))return{unaryFilter:{field:Us(d.field),op:"IS_NOT_NAN"}};if(r_(d.value))return{unaryFilter:{field:Us(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(d.field),op:yU(d.op),value:d.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Us(c.field),direction:gU(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.gt||Ph(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function pU(t){let e=lU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=xC(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new yo(oo(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Ph(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Nd(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new Nd(h,d)}(n.endAt)),UO(e,i,o,s,a,"F",l,u)}function mU(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ce()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function xC(t){return t?t.unaryFilter!==void 0?[wU(t)]:t.fieldFilter!==void 0?[vU(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>xC(e)).reduce((e,n)=>e.concat(n)):ce():[]}function gU(t){return iU[t]}function yU(t){return sU[t]}function Us(t){return{fieldPath:t.canonicalString()}}function oo(t){return Vt.fromServerFormat(t.fieldPath)}function vU(t){return mn.create(oo(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(t.fieldFilter.op),t.fieldFilter.value)}function wU(t){switch(t.unaryFilter.op){case"IS_NAN":const e=oo(t.unaryFilter.field);return mn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=oo(t.unaryFilter.field);return mn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=oo(t.unaryFilter.field);return mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=oo(t.unaryFilter.field);return mn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}function _U(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=yC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(n,r)=>c_(n,r))&&$o(this.baseMutations,e.baseMutations,(n,r)=>c_(n,r))}}class Rv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=eU;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Rv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,i,s=we.min(),o=we.min(),a=$t.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.re=e}}function RU(t){const e=pU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.Ye=new CU}addToCollectionParentIndex(e,n){return this.Ye.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Ii.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class CU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Mo(0)}static vn(){return new Mo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.changes=new ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&el(r.mutation,i,zn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Oa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hr();const o=tl(),a=tl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ui)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),el(c.mutation,u,c.mutation.getFieldMask(),mt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new IU(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=tl();let i=new yt((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||zn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=EC();c.forEach(h=>{if(!s.has(h)){const p=yC(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(es());let a=-1,l=s;return o.next(u=>L.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?L.resolve():this.getBaseDocument(e,c,d).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(c=>({batchId:a,changes:SC(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Oa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Oa();return this.indexManager.getCollectionParents(e,i).next(o=>L.forEach(o,a=>{const l=function(u,c){return new pu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,It.newInvalidDocument(u)))});let o=Oa();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&el(u.mutation,l,zn.empty(),mt.now()),Sv(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):L.resolve(It.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return L.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Lr(r.createTime)}),L.resolve()}getNamedQuery(e,n){return L.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:RU(r.bundledQuery),readTime:Lr(r.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.overlays=new yt(ne.comparator),this.es=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=es();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=es(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new yt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=es(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return L.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new EU(n,r));let s=this.es.get(n);s===void 0&&(s=_e(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.ns=new gt(wt.ss),this.rs=new gt(wt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new wt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new wt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new ne(new qe([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ne(new qe([])),r=new wt(n,e),i=new wt(n,e+1);let s=_e();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ne.comparator(e.key,n.key)||Ae(e._s,n._s)}static os(e,n){return Ae(e._s,n._s)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new gt(wt.ss)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new SU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(Ae);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),L.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new wt(new ne(s),0);let a=new gt(Ae);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),L.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return L.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new wt(n,0),i=this.gs.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.Es=e,this.docs=new yt(ne.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),L.resolve(r)}getAllFromCollection(e,n,r){let i=Hr();const s=new ne(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||SO(_O(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,i){ce()}As(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LU(this)}getSize(e){return L.resolve(this.size)}}class LU extends bU{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.persistence=e,this.Rs=new ra(n=>wv(n),_v),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.bs=0,this.Ps=new kv,this.targetCount=0,this.vs=Mo.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),L.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Dn(n),L.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new yv(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new MU(this),this.indexManager=new kU,this.remoteDocumentCache=function(r){return new PU(r)}(r=>this.referenceDelegate.xs(r)),this.It=new TU(n),this.Ns=new AU(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new $U(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new OU(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return L.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class OU extends TO{constructor(e){super(),this.currentSequenceNumber=e}}class Cv{constructor(e){this.persistence=e,this.Fs=new kv,this.$s=null}static Bs(e){return new Cv(e)}get Ls(){if(this.$s)return this.$s;throw ce()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),L.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Ls,r=>{const i=ne.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return L.or([()=>L.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new bv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Mi(e,n,i,r)).next(s=>s||this.Oi(e,n))}ki(e,n){if(l_(n))return L.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gg(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,gg(n,null,"F")):this.Bi(e,u,n,l)}))})))}Mi(e,n,r,i){return l_(n)||i.isEqual(we.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Oi(e,n):(Jw()<=Ce.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yg(n)),this.Bi(e,o,n,wO(i,-1)))})}Fi(e,n){let r=new gt(cC(e));return n.forEach((i,s)=>{Sv(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return Jw()<=Ce.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",yg(n)),this.Ni.getDocumentsMatchingQuery(e,n,Ii.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new yt(Ae),this.qi=new ra(s=>wv(s),_v),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xU(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function FU(t,e,n,r){return new VU(t,e,n,r)}async function NC(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function BU(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=L.resolve();return d.forEach(p=>{h=h.next(()=>u.getEntry(a,p)).next(f=>{const m=l.docVersions.get(p);Ue(m!==null),f.version.compareTo(m)<0&&(c.applyToRemoteDocument(f,l),f.isValidDocument()&&(f.setReadTime(l.commitVersion),u.addEntry(f)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=_e();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $C(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function zU(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken($t.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(f,m,E){return f.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,p,c)&&a.push(n.Cs.updateTargetData(s,p))});let l=Hr(),u=_e();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(jU(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(we.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ui=i,s))}function jU(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function WU(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HU(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new as(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Sg(t,e,n){const r=fe(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!fu(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function y_(t,e,n){const r=fe(t);let i=we.min(),s=_e();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=fe(a),d=c.qi.get(u);return d!==void 0?L.resolve(c.Ui.get(d)):c.Cs.getTargetData(l,u)}(r,o,Wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:_e())).next(a=>(qU(r,FO(e),a),{documents:a,Hi:s})))}function qU(t,e,n){let r=we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class v_{constructor(){this.activeTargetIds=TC()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GU{constructor(){this.Lr=new v_,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new v_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ao(e,n);Q("RestConnection","Sending: ",o,r);const a={};return this.ho(a,i,s),this.lo(e,o,a,r).then(l=>(Q("RestConnection","Received: ",l),l),l=>{throw Zw("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+na,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=QU[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((s,o)=>{const a=new uO;a.listenOnce(oO.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Np.NO_ERROR:const u=a.getResponseJson();Q("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Np.TIMEOUT:Q("Connection",'RPC "'+e+'" timed out'),o(new Y(A.DEADLINE_EXCEEDED,"Request time out"));break;case Np.HTTP_ERROR:const c=a.getStatus();if(Q("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(p){const f=p.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(f)>=0?f:A.UNKNOWN}(d.status);o(new Y(h,d.message))}else o(new Y(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Y(A.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Q("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=iO(),o=sO(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new lO({})),this.ho(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");Q("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new YU({Hr:f=>{d?Q("Connection","Not sending because WebChannel is closed:",f):(c||(Q("Connection","Opening WebChannel transport."),u.open(),c=!0),Q("Connection","WebChannel sending:",f),u.send(f))},Jr:()=>u.close()}),p=(f,m,E)=>{f.listen(m,y=>{try{E(y)}catch(g){setTimeout(()=>{throw g},0)}})};return p(u,oc.EventType.OPEN,()=>{d||Q("Connection","WebChannel transport opened.")}),p(u,oc.EventType.CLOSE,()=>{d||(d=!0,Q("Connection","WebChannel transport closed"),h.io())}),p(u,oc.EventType.ERROR,f=>{d||(d=!0,Zw("Connection","WebChannel transport errored:",f),h.io(new Y(A.UNAVAILABLE,"The operation could not be completed")))}),p(u,oc.EventType.MESSAGE,f=>{var m;if(!d){const E=f.data[0];Ue(!!E);const y=E,g=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(g){Q("Connection","WebChannel received error:",g);const v=g.status;let _=function(I){const b=at[I];if(b!==void 0)return wC(b)}(v),C=g.message;_===void 0&&(_=A.INTERNAL,C="Unknown error status: "+v+" with message "+g.message),d=!0,h.io(new Y(_,C)),u.close()}else Q("Connection","WebChannel received:",E),h.ro(E)}}),p(o,aO.STAT_EVENT,f=>{f.stat===Yw.PROXY?Q("Connection","Detected buffering proxy"):f.stat===Yw.NOPROXY&&Q("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){return new oU(t,!0)}class PC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new PC(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new Y(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JU extends LC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=uU(this.It,e),r=function(i){if(!("targetChange"in i))return we.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?Lr(s.readTime):we.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=_g(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=mg(a)?{documents:hU(i,a)}:{query:fU(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=CC(i,s.resumeToken):s.snapshotVersion.compareTo(we.min())>0&&(o.readTime=Pd(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=mU(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=_g(this.It),n.removeTarget=e,this.Bo(n)}}class ZU extends LC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=dU(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.Zo(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=_g(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cU(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Y(A.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(A.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(A.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class t4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(jr(n),this.ou=!1):Q("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(o=>{r.enqueueAndForget(async()=>{As(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=fe(a);l._u.add(4),await yu(l),l.gu.set("Unknown"),l._u.delete(4),await Fh(l)}(this))})}),this.gu=new t4(r,i)}}async function Fh(t){if(As(t))for(const e of t.wu)await e(!0)}async function yu(t){for(const e of t.wu)await e(!1)}function MC(t,e){const n=fe(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Av(n)?xv(n):ia(n).ko()&&Iv(n,e))}function DC(t,e){const n=fe(t),r=ia(n);n.du.delete(e),r.ko()&&OC(n,e),n.du.size===0&&(r.ko()?r.Fo():As(n)&&n.gu.set("Unknown"))}function Iv(t,e){t.yu.Ot(e.targetId),ia(t).zo(e)}function OC(t,e){t.yu.Ot(e),ia(t).Ho(e)}function xv(t){t.yu=new rU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),ia(t).start(),t.gu.uu()}function Av(t){return As(t)&&!ia(t).No()&&t.du.size>0}function As(t){return fe(t)._u.size===0}function UC(t){t.yu=void 0}async function r4(t){t.du.forEach((e,n)=>{Iv(t,e)})}async function i4(t,e){UC(t),Av(t)?(t.gu.hu(e),xv(t)):t.gu.set("Unknown")}async function s4(t,e,n){if(t.gu.set("Online"),e instanceof kC&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ld(t,r)}else if(e instanceof Oc?t.yu.Gt(e):e instanceof RC?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(we.min()))try{const r=await $C(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken($t.EMPTY_BYTE_STRING,l.snapshotVersion)),OC(i,a);const u=new as(l.target,a,1,l.sequenceNumber);Iv(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await Ld(t,r)}}async function Ld(t,e,n){if(!fu(e))throw e;t._u.add(1),await yu(t),t.gu.set("Offline"),n||(n=()=>$C(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await Fh(t)})}function VC(t,e){return e().catch(n=>Ld(t,n,e))}async function Bh(t){const e=fe(t),n=Ai(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;o4(e);)try{const i=await WU(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,a4(e,i)}catch(i){await Ld(e,i)}FC(e)&&BC(e)}function o4(t){return As(t)&&t.fu.length<10}function a4(t,e){t.fu.push(e);const n=Ai(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function FC(t){return As(t)&&!Ai(t).No()&&t.fu.length>0}function BC(t){Ai(t).start()}async function l4(t){Ai(t).eu()}async function u4(t){const e=Ai(t);for(const n of t.fu)e.Xo(n.mutations)}async function c4(t,e,n){const r=t.fu.shift(),i=Rv.from(r,e,n);await VC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bh(t)}async function d4(t,e){e&&Ai(t).Yo&&await async function(n,r){if(i=r.code,JO(i)&&i!==A.ABORTED){const s=n.fu.shift();Ai(n).Oo(),await VC(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Bh(n)}var i}(t,e),FC(t)&&BC(t)}async function __(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=As(n);n._u.add(3),await yu(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await Fh(n)}async function h4(t,e){const n=fe(t);e?(n._u.delete(2),await Fh(n)):e||(n._u.add(2),await yu(n),n.gu.set("Unknown"))}function ia(t){return t.pu||(t.pu=function(e,n,r){const i=fe(e);return i.su(),new JU(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:r4.bind(null,t),Zr:i4.bind(null,t),Wo:s4.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),Av(t)?xv(t):t.gu.set("Unknown")):(await t.pu.stop(),UC(t))})),t.pu}function Ai(t){return t.Iu||(t.Iu=function(e,n,r){const i=fe(e);return i.su(),new ZU(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:l4.bind(null,t),Zr:d4.bind(null,t),tu:u4.bind(null,t),Zo:c4.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await Bh(t)):(await t.Iu.stop(),t.fu.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Nv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(t,e){if(jr("AsyncQueue",`${e}: ${t}`),fu(t))return new Y(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.Tu=new yt(ne.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):ce():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Do{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Do(e,n,vo.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.Au=void 0,this.listeners=[]}}class p4{constructor(){this.queries=new ra(e=>uC(e),Mh),this.onlineState="Unknown",this.Ru=new Set}}async function Pv(t,e){const n=fe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new f4),i)try{s.Au=await n.onListen(r)}catch(o){const a=$v(o,`Initialization of query '${yg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&Mv(n)}async function Lv(t,e){const n=fe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function m4(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&Mv(n)}function g4(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Mv(t){t.Ru.forEach(e=>{e.next()})}class Dv{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Do(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.key=e}}class jC{constructor(e){this.key=e}}class y4{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=_e(),this.mutatedKeys=_e(),this.Ku=cC(e),this.Gu=new vo(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new S_,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=Sv(this.query,d)?d:null,f=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;h&&p?h.data.isEqual(p.data)?f!==m&&(r.track({type:3,doc:p}),E=!0):this.zu(h,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.Ku(p,l)>0||u&&this.Ku(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),E=!0):h&&!p&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(p?(o=o.add(p),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:a,mutatedKeys:s}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((u,c)=>function(d,h){const p=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return p(d)-p(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.qu.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new Do(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new S_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=_e(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new jC(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new zC(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=_e();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Do.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class v4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class w4{constructor(e){this.key=e,this.ec=!1}}class _4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new ra(a=>uC(a),Mh),this.ic=new Map,this.rc=new Set,this.oc=new yt(ne.comparator),this.uc=new Map,this.cc=new kv,this.ac={},this.hc=new Map,this.lc=Mo.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function S4(t,e){const n=N4(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await HU(n.localStore,Wr(e));n.isPrimaryClient&&MC(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await E4(n,e,r,a==="current")}return i}async function E4(t,e,n,r){t.dc=(c,d,h)=>async function(p,f,m,E){let y=f.view.ju(m);y.$i&&(y=await y_(p.localStore,f.query,!1).then(({documents:_})=>f.view.ju(_,y)));const g=E&&E.targetChanges.get(f.targetId),v=f.view.applyChanges(y,p.isPrimaryClient,g);return T_(p,f.targetId,v.Yu),v.snapshot}(t,c,d,h);const i=await y_(t.localStore,e,!0),s=new y4(e,i.Hi),o=s.ju(i.documents),a=gu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);T_(t,n,l.Yu);const u=new v4(e,n,s);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),l.snapshot}async function T4(t,e){const n=fe(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Mh(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Sg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),DC(n.remoteStore,r.targetId),Eg(n,r.targetId)}).catch(hu)):(Eg(n,r.targetId),await Sg(n.localStore,r.targetId,!0))}async function R4(t,e,n){const r=$4(t);try{const i=await function(s,o){const a=fe(s),l=mt.now(),u=o.reduce((h,p)=>h.add(p.key),_e());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Hr(),f=_e();return a.Gi.getEntries(h,u).next(m=>{p=m,p.forEach((E,y)=>{y.isValidDocument()||(f=f.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(m=>{c=m;const E=[];for(const y of o){const g=QO(y,c.get(y.key).overlayedDocument);g!=null&&E.push(new Ui(y.key,g,sC(g.value.mapValue),jn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,E,o)}).next(m=>{d=m;const E=m.applyToLocalDocumentSet(c,f);return a.documentOverlayCache.saveOverlays(h,m.batchId,E)})}).then(()=>({batchId:d.batchId,changes:SC(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new yt(Ae)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await vu(r,i.changes),await Bh(r.remoteStore)}catch(i){const s=$v(i,"Failed to persist write");n.reject(s)}}async function WC(t,e){const n=fe(t);try{const r=await zU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Ue(o.ec):i.removedDocuments.size>0&&(Ue(o.ec),o.ec=!1))}),await vu(n,r,e)}catch(r){await hu(r)}}function E_(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=fe(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&Mv(a)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k4(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new yt(ne.comparator);o=o.insert(s,It.newNoDocument(s,we.min()));const a=_e().add(s),l=new Uh(we.min(),new Map,new gt(Ae),o,a);await WC(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Ov(r)}else await Sg(r.localStore,e,!1).then(()=>Eg(r,e,n)).catch(hu)}async function C4(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await BU(n.localStore,e);qC(n,r,null),HC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vu(n,i)}catch(i){await hu(i)}}async function b4(t,e,n){const r=fe(t);try{const i=await function(s,o){const a=fe(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Ue(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);qC(r,e,n),HC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vu(r,i)}catch(i){await hu(i)}}function HC(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function qC(t,e,n){const r=fe(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||GC(t,r)})}function GC(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(DC(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Ov(t))}function T_(t,e,n){for(const r of n)r instanceof zC?(t.cc.addReference(r.key,e),I4(t,r)):r instanceof jC?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||GC(t,r.key)):ce()}function I4(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.rc.add(r),Ov(t))}function Ov(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new ne(qe.fromString(e)),r=t.lc.next();t.uc.set(r,new w4(n)),t.oc=t.oc.insert(n,r),MC(t.remoteStore,new as(Wr(Lh(n.path)),r,2,yv.at))}}async function vu(t,e,n){const r=fe(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=bv.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.Wo(i),await async function(a,l){const u=fe(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>L.forEach(l,d=>L.forEach(d.Si,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>L.forEach(d.Di,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!fu(c))throw c;Q("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ui.get(d),p=h.snapshotVersion,f=h.withLastLimboFreeSnapshotVersion(p);u.Ui=u.Ui.insert(d,f)}}}(r.localStore,s))}async function x4(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await NC(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new Y(A.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vu(n,r.ji)}}function A4(t,e){const n=fe(t),r=n.uc.get(e);if(r&&r.ec)return _e().add(r.key);{let i=_e();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function N4(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k4.bind(null,e),e.nc.Wo=m4.bind(null,e.eventManager),e.nc._c=g4.bind(null,e.eventManager),e}function $4(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,e),e}class P4{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return FU(this.persistence,new UU,e.initialUser,this.It)}gc(e){return new DU(Cv.Bs,this.It)}mc(e){return new GU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class L4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x4.bind(null,this.syncEngine),await h4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new p4}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new XU(i));var i;return function(s,o,a,l){return new e4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>E_(this.syncEngine,a,0),o=w_.C()?new w_:new KU,new n4(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new _4(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=fe(e);Q("RemoteStore","RemoteStore shutting down."),n._u.add(5),await yu(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=tC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$v(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function D4(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await NC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function O4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U4(t);Q("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>__(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>__(e.remoteStore,s)),t.onlineComponents=e}async function U4(t){return t.offlineComponents||(Q("FirestoreClient","Using default OfflineComponentProvider"),await D4(t,new P4)),t.offlineComponents}async function KC(t){return t.onlineComponents||(Q("FirestoreClient","Using default OnlineComponentProvider"),await O4(t,new L4)),t.onlineComponents}function V4(t){return KC(t).then(e=>e.syncEngine)}async function Md(t){const e=await KC(t),n=e.eventManager;return n.onListen=S4.bind(null,e.syncEngine),n.onUnlisten=T4.bind(null,e.syncEngine),n}function F4(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Uv({next:d=>{s.enqueueAndForget(()=>Lv(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new Y(A.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new Y(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Dv(Lh(o.path),u,{includeMetadataChanges:!0,Nu:!0});return Pv(i,c)}(await Md(t),t.asyncQueue,e,n,r)),r.promise}function B4(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Uv({next:d=>{s.enqueueAndForget(()=>Lv(i,c)),d.fromCache&&a.source==="server"?l.reject(new Y(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Dv(o,u,{includeMetadataChanges:!0,Nu:!0});return Pv(i,c)}(await Md(t),t.asyncQueue,e,n,r)),r.promise}const R_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e,n){if(!n)throw new Y(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z4(t,e,n,r){if(e===!0&&r===!0)throw new Y(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k_(t){if(!ne.isDocumentKey(t))throw new Y(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C_(t){if(ne.isDocumentKey(t))throw new Y(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function In(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vv(t);throw new Y(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new dO;switch(n.type){case"gapi":const r=n.client;return new pO(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=R_.get(e);n&&(Q("ComponentProvider","Removing Datastore"),R_.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class sa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class Ri extends sa{constructor(e,n,r){super(e,n,Lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ne(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function Ft(t,e,...n){if(t=et(t),QC("collection","path",e),t instanceof Fv){const r=qe.fromString(e,...n);return C_(r),new Ri(t,null,r)}{if(!(t instanceof tn||t instanceof Ri))throw new Y(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return C_(r),new Ri(t.firestore,null,r)}}function qn(t,e,...n){if(t=et(t),arguments.length===1&&(e=tC.R()),QC("doc","path",e),t instanceof Fv){const r=qe.fromString(e,...n);return k_(r),new tn(t,null,new ne(r))}{if(!(t instanceof tn||t instanceof Ri))throw new Y(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return k_(r),new tn(t.firestore,t instanceof Ri?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new PC(this,"async_queue_retry"),this.jc=()=>{const n=Pp();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Pp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Pp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new Pr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!fu(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{this.qc=r,this.Kc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=Nv.createAndSchedule(this,e,n,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&ce()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function I_(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class qr extends Fv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new j4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||YC(this),this._firestoreClient.terminate()}}function W4(t,e){const n=typeof t=="object"?t:Uy(),r=typeof t=="string"?t:e||"(default)";return fh(n,"firestore").getImmediate({identifier:r})}function zh(t){return t._firestoreClient||YC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YC(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new kO(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new M4(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo($t.fromBase64String(e))}catch(n){throw new Y(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oo($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=/^__.*__$/;class q4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class XC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class zv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new zv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Dd(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(JC(this.na)&&H4.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class G4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||Vh(e)}fa(e,n,r,i=!1){return new zv({na:e,methodName:n,la:r,path:Vt.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function jv(t){const e=t._freezeSettings(),n=Vh(t._databaseId);return new G4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZC(t,e,n,r,i,s={}){const o=t.fa(s.merge||s.mergeFields?2:0,e,n,i);Hv("Data must be an object, but it was:",o,r);const a=eb(r,o);let l,u;if(s.merge)l=new zn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Tg(e,d,n);if(!o.contains(h))throw new Y(A.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);nb(c,h)||c.push(h)}l=new zn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new q4(new fn(a),l,u)}class Hh extends Wh{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}class Wv extends Wh{_toFieldTransform(e){return new HO(e.path,new Ol)}isEqual(e){return e instanceof Wv}}function K4(t,e,n,r){const i=t.fa(1,e,n);Hv("Data must be an object, but it was:",i,r);const s=[],o=fn.empty();xs(r,(l,u)=>{const c=qv(e,l,n);u=et(u);const d=i.ua(c);if(u instanceof Hh)s.push(c);else{const h=qh(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new zn(s);return new XC(o,a,i.fieldTransforms)}function Q4(t,e,n,r,i,s){const o=t.fa(1,e,n),a=[Tg(e,r,n)],l=[i];if(s.length%2!=0)throw new Y(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Tg(e,s[h])),l.push(s[h+1]);const u=[],c=fn.empty();for(let h=a.length-1;h>=0;--h)if(!nb(u,a[h])){const p=a[h];let f=l[h];f=et(f);const m=o.ua(p);if(f instanceof Hh)u.push(p);else{const E=qh(f,m);E!=null&&(u.push(p),c.set(p,E))}}const d=new zn(u);return new XC(c,d,o.fieldTransforms)}function qh(t,e){if(tb(t=et(t)))return Hv("Unsupported field value:",e,t),eb(t,e);if(t instanceof Wh)return function(n,r){if(!JC(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=qh(o,r.ca(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=et(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zO(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=mt.fromDate(n);return{timestampValue:Pd(r.It,i)}}if(n instanceof mt){const i=new mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pd(r.It,i)}}if(n instanceof Bv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oo)return{bytesValue:CC(r.It,n._byteString)};if(n instanceof tn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${Vv(n)}`)}(t,e)}function eb(t,e){const n={};return nC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(t,(r,i)=>{const s=qh(i,e.ia(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Bv||t instanceof Oo||t instanceof tn||t instanceof Wh)}function Hv(t,e,n){if(!tb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Vv(n);throw r==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function Tg(t,e,n){if((e=et(e))instanceof jh)return e._internalPath;if(typeof e=="string")return qv(t,e);throw Dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y4=new RegExp("[~\\*/\\[\\]]");function qv(t,e,n){if(e.search(Y4)>=0)throw Dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jh(...e.split("."))._internalPath}catch{throw Dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y(A.INVALID_ARGUMENT,a+t+l)}function nb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X4 extends rb{data(){return super.data()}}function Gv(t,e){return typeof e=="string"?qv(t,e):e instanceof jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ib extends rb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uc extends ib{data(e={}){return super.data(e)}}class sb{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ua(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uc(this._firestore,this._userDataWriter,r.key,r,new Ua(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Uc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ua(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Uc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ua(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:J4(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z4{}function Lp(t,...e){for(const n of e)t=n._apply(t);return t}class e3 extends Z4{constructor(e,n){super(),this.wa=e,this.ya=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Y(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Y(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new yo(i,s);return function(a,l){if(aC(a)===null){const u=lC(a);u!==null&&t3(a,u,l.field)}}(r,o),o}(e._query,this.wa,this.ya);return new sa(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new pu(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function x_(t,e="asc"){const n=e,r=Gv("orderBy",t);return new e3(r,n)}function t3(t,e,n){if(!n.isEqual(e))throw new Y(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){const r={};return xs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Bv(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const n=xi(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Ue(AC(r));const i=new Ll(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){t=In(t,tn);const e=In(t.firestore,qr);return F4(zh(e),t._key).then(n=>ub(e,t,n))}class Kv extends n3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Qv(t){t=In(t,sa);const e=In(t.firestore,qr),n=zh(e),r=new Kv(e);return ob(t._query),B4(n,t._query).then(i=>new sb(e,r,t,i))}function wu(t,e,n){t=In(t,tn);const r=In(t.firestore,qr),i=ab(t.converter,e,n);return Gh(r,[ZC(jv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jn.none())])}function r3(t,e,n,...r){t=In(t,tn);const i=In(t.firestore,qr),s=jv(i);let o;return o=typeof(e=et(e))=="string"||e instanceof jh?Q4(s,"updateDoc",t._key,e,n,r):K4(s,"updateDoc",t._key,e),Gh(i,[o.toMutation(t._key,jn.exists(!0))])}function Yv(t){return Gh(In(t.firestore,qr),[new Ev(t._key,jn.none())])}function Uo(t,e){const n=In(t.firestore,qr),r=qn(t),i=ab(t.converter,e);return Gh(n,[ZC(jv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}function pi(t,...e){var n,r,i;t=et(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||I_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(I_(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof tn)u=In(t.firestore,qr),c=Lh(t._key.path),l={next:d=>{e[o]&&e[o](ub(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=In(t,sa);u=In(d.firestore,qr),c=d._query;const h=new Kv(u);l={next:p=>{e[o]&&e[o](new sb(u,h,d,p))},error:e[o+1],complete:e[o+2]},ob(t._query)}return function(d,h,p,f){const m=new Uv(f),E=new Dv(h,m,p);return d.asyncQueue.enqueueAndForget(async()=>Pv(await Md(d),E)),()=>{m.Rc(),d.asyncQueue.enqueueAndForget(async()=>Lv(await Md(d),E))}}(zh(u),c,a,l)}function Gh(t,e){return function(n,r){const i=new Pr;return n.asyncQueue.enqueueAndForget(async()=>R4(await V4(n),r,i)),i.promise}(zh(t),e)}function ub(t,e,n){const r=n.docs.get(e._key),i=new Kv(t);return new ib(t,i,e._key,r,new Ua(n.hasPendingWrites,n.fromCache),e.converter)}function Kh(){return new Wv("serverTimestamp")}(function(t,e=!0){(function(n){na=n})(Xo),ms(new bi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new qr(new hO(n.getProvider("auth-internal")),new gO(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Y(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),hr(Xw,"3.5.0",t),hr(Xw,"3.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="firebasestorage.googleapis.com",db="storageBucket",i3=2*60*1e3,s3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends yr{constructor(e,n){super(Mp(e),`Firebase Storage: ${n} (${Mp(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}_codeEquals(e){return Mp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Mp(t){return"storage/"+t}function Xv(){const t="An unknown error occurred, please check the error payload for server response.";return new ot("unknown",t)}function o3(t){return new ot("object-not-found","Object '"+t+"' does not exist.")}function a3(t){return new ot("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function l3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot("unauthenticated",t)}function u3(){return new ot("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function c3(t){return new ot("unauthorized","User does not have permission to access '"+t+"'.")}function d3(){return new ot("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function h3(){return new ot("canceled","User canceled the upload/download.")}function f3(t){return new ot("invalid-url","Invalid URL '"+t+"'.")}function p3(t){return new ot("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function m3(){return new ot("no-default-bucket","No default bucket found. Did you set the '"+db+"' property when initializing the app?")}function g3(){return new ot("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function y3(){return new ot("no-download-url","The given file does not have any download URLs.")}function Rg(t){return new ot("invalid-argument",t)}function hb(){return new ot("app-deleted","The Firebase app was deleted.")}function v3(t){return new ot("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nl(t,e){return new ot("invalid-format","String does not match format '"+t+"': "+e)}function _a(t){throw new ot("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cn.makeFromUrl(e,n)}catch{return new Cn(e,"")}if(r.path==="")return r;throw p3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),f={bucket:1,path:3},m=n===cb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${E}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:p,indices:f,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<v.length;_++){const C=v[_],I=C.regex.exec(e);if(I){const b=I[C.indices.bucket];let $=I[C.indices.path];$||($=""),r=new Cn(b,$),C.postModify(r);break}}if(r==null)throw f3(e);return r}}class w3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function h(){s&&clearTimeout(s)}function p(E,...y){if(u){h();return}if(E){h(),c.call(null,E,...y);return}if(l()||o){h(),c.call(null,E,...y);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,d(v)}let f=!1;function m(E){f||(f=!0,h(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function S3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){return t!==void 0}function T3(t){return typeof t=="object"&&!Array.isArray(t)}function Jv(t){return typeof t=="string"||t instanceof String}function A_(t){return Zv()&&t instanceof Blob}function Zv(){return typeof Blob<"u"}function N_(t,e,n,r){if(r<e)throw Rg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Rg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function fb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ls||(ls={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,r,i,s,o,a,l,u,c,d){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new uc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ls.NO_ERROR,l=s.getStatus();if(!a||this.isRetryStatusCode_(l)){const c=s.getErrorCode()===ls.ABORT;r(!1,new uc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new uc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());E3(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Xv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?hb():h3();o(l)}else{const l=d3();o(l)}};this.canceled_?n(!1,new uc(!1,null,!0)):this.backoffId_=_3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&S3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s}}class uc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function k3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function C3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function b3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function I3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function x3(t,e,n,r,i,s){const o=fb(t.urlParams),a=t.url+o,l=Object.assign({},t.headers);return b3(l,e),k3(l,n),C3(l,s),I3(l,r),new R3(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function N3(...t){const e=A3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Zv())return new Blob(t);throw new ot("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function $3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dp{constructor(e,n){this.data=e,this.contentType=n||null}}function L3(t,e){switch(t){case ur.RAW:return new Dp(pb(e));case ur.BASE64:case ur.BASE64URL:return new Dp(mb(t,e));case ur.DATA_URL:return new Dp(D3(e),O3(e))}throw Xv()}function pb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function M3(t){let e;try{e=decodeURIComponent(t)}catch{throw nl(ur.DATA_URL,"Malformed data URL.")}return pb(e)}function mb(t,e){switch(t){case ur.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw nl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ur.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw nl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=P3(e)}catch{throw nl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class gb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw nl(ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=U3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function D3(t){const e=new gb(t);return e.base64?mb(ur.BASE64,e.rest):M3(e.rest)}function O3(t){return new gb(t).contentType}function U3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){let r=0,i="";A_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(A_(this.data_)){const r=this.data_,i=$3(r,e,n);return i===null?null:new ci(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ci(r,!0)}}static getBlob(...e){if(Zv()){const n=e.map(r=>r instanceof ci?r.data_:r);return new ci(N3.apply(null,n))}else{const n=e.map(o=>Jv(o)?L3(ur.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ci(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){let e;try{e=JSON.parse(t)}catch{return null}return T3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function F3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function vb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t,e){return e}class Qt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||B3}}let cc=null;function z3(t){return!Jv(t)||t.length<2?t:vb(t)}function wb(){if(cc)return cc;const t=[];t.push(new Qt("bucket")),t.push(new Qt("generation")),t.push(new Qt("metageneration")),t.push(new Qt("name","fullPath",!0));function e(s,o){return z3(o)}const n=new Qt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Qt("size");return i.xform=r,t.push(i),t.push(new Qt("timeCreated")),t.push(new Qt("updated")),t.push(new Qt("md5Hash",null,!0)),t.push(new Qt("cacheControl",null,!0)),t.push(new Qt("contentDisposition",null,!0)),t.push(new Qt("contentEncoding",null,!0)),t.push(new Qt("contentLanguage",null,!0)),t.push(new Qt("contentType",null,!0)),t.push(new Qt("metadata","customMetadata",!0)),cc=t,cc}function j3(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Cn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function W3(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return j3(r,t),r}function _b(t,e,n){const r=yb(e);return r===null?null:W3(t,r,n)}function H3(t,e,n,r){const i=yb(e);if(i===null||!Jv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),p=e0(h,n,r),f=fb({alt:"media",token:u});return p+f})[0]}function q3(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Sb{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){if(!t)throw Xv()}function G3(t,e){function n(r,i){const s=_b(t,i,e);return Eb(s!==null),s}return n}function K3(t,e){function n(r,i){const s=_b(t,i,e);return Eb(s!==null),H3(s,i,t.host,t._protocol)}return n}function Tb(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=u3():i=l3():n.getStatus()===402?i=a3(t.bucket):n.getStatus()===403?i=c3(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function Q3(t){const e=Tb(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=o3(t.path)),s.serverResponse=i.serverResponse,s}return n}function Y3(t,e,n){const r=e.fullServerUrl(),i=e0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Sb(i,s,K3(t,n),o);return a.errorHandler=Q3(e),a}function X3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function J3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=X3(null,e)),r}function Z3(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let _=0;_<2;_++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=J3(e,r,i),c=q3(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=ci.getBlob(d,r,h);if(p===null)throw g3();const f={name:u.fullPath},m=e0(s,t.host,t._protocol),E="POST",y=t.maxUploadRetryTime,g=new Sb(m,E,G3(t,n),y);return g.urlParams=f,g.headers=o,g.body=p.uploadData(),g.errorHandler=Tb(e),g}class eV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ls.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ls.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ls.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw _a("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _a("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _a("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _a("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _a("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tV extends eV{initXhr(){this.xhr_.responseType="text"}}function Rb(){return new tV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this._service=e,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ss(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vb(this._location.path)}get storage(){return this._service}get parent(){const e=V3(this._location.path);if(e===null)return null;const n=new Cn(this._location.bucket,e);return new Ss(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw v3(e)}}function nV(t,e,n){t._throwIfRoot("uploadBytes");const r=Z3(t.storage,t._location,wb(),new ci(e,!0),n);return t.storage.makeRequestWithTokens(r,Rb).then(i=>({metadata:i,ref:t}))}function rV(t){t._throwIfRoot("getDownloadURL");const e=Y3(t.storage,t._location,wb());return t.storage.makeRequestWithTokens(e,Rb).then(n=>{if(n===null)throw y3();return n})}function iV(t,e){const n=F3(t._location.path,e),r=new Cn(t._location.bucket,n);return new Ss(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){return/^[A-Za-z]+:\/\//.test(t)}function oV(t,e){return new Ss(t,e)}function kb(t,e){if(t instanceof t0){const n=t;if(n._bucket==null)throw m3();const r=new Ss(n,n._bucket);return e!=null?kb(r,e):r}else return e!==void 0?iV(t,e):t}function aV(t,e){if(e&&sV(e)){if(t instanceof t0)return oV(t,e);throw Rg("To use ref(service, url), the first argument must be a Storage instance.")}else return kb(t,e)}function $_(t,e){const n=e==null?void 0:e[db];return n==null?null:Cn.makeFromBucketSpec(n,t)}class t0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=cb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=i3,this._maxUploadRetryTime=s3,this._requests=new Set,i!=null?this._bucket=Cn.makeFromBucketSpec(i,this._host):this._bucket=$_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=$_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ss(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new w3(hb());{const s=x3(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const P_="@firebase/storage",L_="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="storage";function lV(t,e,n){return t=et(t),nV(t,e,n)}function uV(t){return t=et(t),rV(t)}function cV(t,e){return t=et(t),aV(t,e)}function dV(t=Uy(),e){return t=et(t),fh(t,Cb).getImmediate({identifier:e})}function hV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new t0(n,r,i,e,Xo)}function fV(){ms(new bi(Cb,hV,"PUBLIC").setMultipleInstances(!0)),hr(P_,L_,""),hr(P_,L_,"esm2017")}fV();const pV={apiKey:"AIzaSyA7KbF_weoI73obY5__6Jk0w_jVUaZOsH8",authDomain:"chat-app-4a684.firebaseapp.com",projectId:"chat-app-4a684",database:"https://chat-app-4a684/firebaseio.com",storageBucket:"chat-app-4a684.appspot.com",messagingSenderId:"456483435242",appId:"1:456483435242:web:052756066a06a8af961d93"},n0=GP(pV),Ni=aD(n0),Le=W4(n0),mV=dV(n0);function gV(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var yV=gV,ye=yV;function vV(t){return!!t&&typeof t.then=="function"}var Ge=vV;function wV(t,e){if(t!=null)return t;throw ye(e!=null?e:"Got unexpected null or undefined")}var Ke=wV;function he(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Qh{getValue(){throw ye("BaseLoadable")}toPromise(){throw ye("BaseLoadable")}valueMaybe(){throw ye("BaseLoadable")}valueOrThrow(){throw ye(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw ye("BaseLoadable")}promiseOrThrow(){throw ye(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw ye("BaseLoadable")}errorOrThrow(){throw ye(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw ye("BaseLoadable")}}class _V extends Qh{constructor(e){super(),he(this,"state","hasValue"),he(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Ge(n)?Es(n):Vo(n)?n:_u(n)}catch(n){return Ge(n)?Es(n.next(()=>this.map(e))):Yh(n)}}}class SV extends Qh{constructor(e){super(),he(this,"state","hasError"),he(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class bb extends Qh{constructor(e){super(),he(this,"state","loading"),he(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Es(this.contents.then(n=>{const r=e(n);if(Vo(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(Ge(n))return n.then(()=>this.map(e).contents);throw n}))}}function _u(t){return Object.freeze(new _V(t))}function Yh(t){return Object.freeze(new SV(t))}function Es(t){return Object.freeze(new bb(t))}function Ib(){return Object.freeze(new bb(new Promise(()=>{})))}function EV(t){return t.every(e=>e.state==="hasValue")?_u(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Yh(Ke(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Es(Promise.all(t.map(e=>e.contents)))}function xb(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Vo(i)?i:Ge(i)?Es(i):_u(i)),r=EV(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function Vo(t){return t instanceof Qh}const TV={of:t=>Ge(t)?Es(t):Vo(t)?t:_u(t),error:t=>Yh(t),loading:()=>Ib(),all:xb,isLoadable:Vo};var Ns={loadableWithValue:_u,loadableWithError:Yh,loadableWithPromise:Es,loadableLoading:Ib,loadableAll:xb,isLoadable:Vo,RecoilLoadable:TV},RV=Ns.loadableWithValue,kV=Ns.loadableWithError,CV=Ns.loadableWithPromise,bV=Ns.loadableLoading,IV=Ns.loadableAll,xV=Ns.isLoadable,AV=Ns.RecoilLoadable,Su=Object.freeze({__proto__:null,loadableWithValue:RV,loadableWithError:kV,loadableWithPromise:CV,loadableLoading:bV,loadableAll:IV,isLoadable:xV,RecoilLoadable:AV});const Xh=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function Jh(t){var e;return(e=Xh.get(t))!==null&&e!==void 0?e:!1}Jh.setPass=t=>{Xh.set(t,!0)};Jh.setFail=t=>{Xh.set(t,!1)};Jh.clear=()=>{Xh.clear()};var Me=Jh,Op,Up,Vp;const NV=(Op=rt.createMutableSource)!==null&&Op!==void 0?Op:rt.unstable_createMutableSource,Ab=(Up=rt.useMutableSource)!==null&&Up!==void 0?Up:rt.unstable_useMutableSource,Nb=(Vp=rt.useSyncExternalStore)!==null&&Vp!==void 0?Vp:rt.unstable_useSyncExternalStore;function $V(){return Me("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Me("recoil_sync_external_store")&&Nb!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Me("recoil_mutable_source")&&Ab!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Me("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Me("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function PV(){return!1}var Eu={createMutableSource:NV,useMutableSource:Ab,useSyncExternalStore:Nb,reactMode:$V,isFastRefreshEnabled:PV};class r0{constructor(e){he(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class $b extends r0{}class Pb extends r0{}function LV(t){return t instanceof $b||t instanceof Pb}var Zh={AbstractRecoilValue:r0,RecoilState:$b,RecoilValueReadOnly:Pb,isRecoilValue:LV},MV=Zh.AbstractRecoilValue,DV=Zh.RecoilState,OV=Zh.RecoilValueReadOnly,UV=Zh.isRecoilValue,Fo=Object.freeze({__proto__:null,AbstractRecoilValue:MV,RecoilState:DV,RecoilValueReadOnly:OV,isRecoilValue:UV});function VV(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var ef=VV;function FV(t,e,{error:n}={}){return null}var BV=FV,i0=BV;class Lb{}const zV=new Lb,Ts=new Map,s0=new Map;function jV(t){return ef(t,e=>Ke(s0.get(e)))}function WV(t){if(Ts.has(t.key)){const n=`Duplicate atom key "${t.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(n)}Ts.set(t.key,t);const e=t.set==null?new Fo.RecoilValueReadOnly(t.key):new Fo.RecoilState(t.key);return s0.set(t.key,e),e}class Mb extends Error{}function HV(t){const e=Ts.get(t);if(e==null)throw new Mb(`Missing definition for RecoilValue: "${t}""`);return e}function qV(t){return Ts.get(t)}const Od=new Map;function GV(t){var e;if(!Me("recoil_memory_managament_2020"))return;const n=Ts.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Ts.delete(t),(r=Db(t))===null||r===void 0||r(),Od.delete(t)}}function KV(t,e){!Me("recoil_memory_managament_2020")||(e===void 0?Od.delete(t):Od.set(t,e))}function Db(t){return Od.get(t)}var Sn={nodes:Ts,recoilValues:s0,registerNode:WV,getNode:HV,getNodeMaybe:qV,deleteNodeConfigIfPossible:GV,setConfigDeletionHandler:KV,getConfigDeletionHandler:Db,recoilValuesForKeys:jV,NodeMissingError:Mb,DefaultValue:Lb,DEFAULT_VALUE:zV};function QV(t,e){e()}var YV={enqueueExecution:QV};function XV(t,e){return e={exports:{}},t(e,e.exports),e.exports}var JV=XV(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},u=function(T){return function(){return T}},c=n.hash=function(k){var T=typeof k>"u"?"undefined":e(k);if(T==="number")return k;T!=="string"&&(k+="");for(var N=0,V=0,F=k.length;V<F;++V){var H=k.charCodeAt(V);N=(N<<5)-N+H|0}return N},d=function(T){return T-=T>>1&1431655765,T=(T&858993459)+(T>>2&858993459),T=T+(T>>4)&252645135,T+=T>>8,T+=T>>16,T&127},h=function(T,N){return N>>>T&s},p=function(T){return 1<<T},f=function(T,N){return d(T&N-1)},m=function(T,N,V,F){var H=F;if(!T){var ae=F.length;H=new Array(ae);for(var se=0;se<ae;++se)H[se]=F[se]}return H[N]=V,H},E=function(T,N,V){var F=V.length-1,H=0,ae=0,se=V;if(T)H=ae=N;else for(se=new Array(F);H<N;)se[ae++]=V[H++];for(++H;H<=F;)se[ae++]=V[H++];return T&&(se.length=F),se},y=function(T,N,V,F){var H=F.length;if(T){for(var ae=H;ae>=N;)F[ae--]=F[ae];return F[N]=V,F}for(var se=0,oe=0,ve=new Array(H+1);se<N;)ve[oe++]=F[se++];for(ve[N]=V;se<H;)ve[++oe]=F[se++];return ve},g=1,v=2,_=3,C=4,I={__hamt_isEmpty:!0},b=function(T){return T===I||T&&T.__hamt_isEmpty},$=function(T,N,V,F){return{type:g,edit:T,hash:N,key:V,value:F,_modify:M}},Z=function(T,N,V){return{type:v,edit:T,hash:N,children:V,_modify:X}},x=function(T,N,V){return{type:_,edit:T,mask:N,children:V,_modify:U}},ee=function(T,N,V){return{type:C,edit:T,size:N,children:V,_modify:J}},pe=function(T){return T===I||T.type===g||T.type===v},me=function(T,N,V,F,H){for(var ae=[],se=F,oe=0,ve=0;se;++ve)se&1&&(ae[ve]=H[oe++]),se>>>=1;return ae[N]=V,ee(T,oe+1,ae)},re=function(T,N,V,F){for(var H=new Array(N-1),ae=0,se=0,oe=0,ve=F.length;oe<ve;++oe)if(oe!==V){var ze=F[oe];ze&&!b(ze)&&(H[ae++]=ze,se|=1<<oe)}return x(T,se,H)},Pe=function k(T,N,V,F,H,ae){if(V===H)return Z(T,V,[ae,F]);var se=h(N,V),oe=h(N,H);return x(T,p(se)|p(oe),se===oe?[k(T,N+r,V,F,H,ae)]:se<oe?[F,ae]:[ae,F])},Te=function(T,N,V,F,H,ae,se,oe){for(var ve=H.length,ze=0;ze<ve;++ze){var ln=H[ze];if(V(se,ln.key)){var vt=ln.value,Dn=ae(vt);return Dn===vt?H:Dn===l?(--oe.value,E(T,ze,H)):m(T,ze,$(N,F,se,Dn),H)}}var Gn=ae();return Gn===l?H:(++oe.value,m(T,ve,$(N,F,se,Gn),H))},be=function(T,N){return T===N.edit},M=function(T,N,V,F,H,ae,se){if(N(ae,this.key)){var oe=F(this.value);return oe===this.value?this:oe===l?(--se.value,I):be(T,this)?(this.value=oe,this):$(T,H,ae,oe)}var ve=F();return ve===l?this:(++se.value,Pe(T,V,this.hash,this,H,$(T,H,ae,ve)))},X=function(T,N,V,F,H,ae,se){if(H===this.hash){var oe=be(T,this),ve=Te(oe,T,N,this.hash,this.children,F,ae,se);return ve===this.children?this:ve.length>1?Z(T,this.hash,ve):ve[0]}var ze=F();return ze===l?this:(++se.value,Pe(T,V,this.hash,this,H,$(T,H,ae,ze)))},U=function(T,N,V,F,H,ae,se){var oe=this.mask,ve=this.children,ze=h(V,H),ln=p(ze),vt=f(oe,ln),Dn=oe&ln,Gn=Dn?ve[vt]:I,Ds=Gn._modify(T,N,V+r,F,H,ae,se);if(Gn===Ds)return this;var Uu=be(T,this),ua=oe,ca=void 0;if(Dn&&b(Ds)){if(ua&=~ln,!ua)return I;if(ve.length<=2&&pe(ve[vt^1]))return ve[vt^1];ca=E(Uu,vt,ve)}else if(!Dn&&!b(Ds)){if(ve.length>=o)return me(T,ze,Ds,oe,ve);ua|=ln,ca=y(Uu,vt,Ds,ve)}else ca=m(Uu,vt,Ds,ve);return Uu?(this.mask=ua,this.children=ca,this):x(T,ua,ca)},J=function(T,N,V,F,H,ae,se){var oe=this.size,ve=this.children,ze=h(V,H),ln=ve[ze],vt=(ln||I)._modify(T,N,V+r,F,H,ae,se);if(ln===vt)return this;var Dn=be(T,this),Gn=void 0;if(b(ln)&&!b(vt))++oe,Gn=m(Dn,ze,vt,ve);else if(!b(ln)&&b(vt)){if(--oe,oe<=a)return re(T,oe,ze,ve);Gn=m(Dn,ze,I,ve)}else Gn=m(Dn,ze,vt,ve);return Dn?(this.size=oe,this.children=Gn,this):ee(T,oe,Gn)};I._modify=function(k,T,N,V,F,H,ae){var se=V();return se===l?I:(++ae.value,$(k,F,H,se))};function R(k,T,N,V,F){this._editable=k,this._edit=T,this._config=N,this._root=V,this._size=F}R.prototype.setTree=function(k,T){return this._editable?(this._root=k,this._size=T,this):k===this._root?this:new R(this._editable,this._edit,this._config,k,T)};var O=n.tryGetHash=function(k,T,N,V){for(var F=V._root,H=0,ae=V._config.keyEq;;)switch(F.type){case g:return ae(N,F.key)?F.value:k;case v:{if(T===F.hash)for(var se=F.children,oe=0,ve=se.length;oe<ve;++oe){var ze=se[oe];if(ae(N,ze.key))return ze.value}return k}case _:{var ln=h(H,T),vt=p(ln);if(F.mask&vt){F=F.children[f(F.mask,vt)],H+=r;break}return k}case C:{if(F=F.children[h(H,T)],F){H+=r;break}return k}default:return k}};R.prototype.tryGetHash=function(k,T,N){return O(k,T,N,this)};var D=n.tryGet=function(k,T,N){return O(k,N._config.hash(T),T,N)};R.prototype.tryGet=function(k,T){return D(k,T,this)};var te=n.getHash=function(k,T,N){return O(void 0,k,T,N)};R.prototype.getHash=function(k,T){return te(k,T,this)},n.get=function(k,T){return O(void 0,T._config.hash(k),k,T)},R.prototype.get=function(k,T){return D(T,k,this)};var B=n.has=function(k,T,N){return O(l,k,T,N)!==l};R.prototype.hasHash=function(k,T){return B(k,T,this)};var ue=n.has=function(k,T){return B(T._config.hash(k),k,T)};R.prototype.has=function(k){return ue(k,this)};var ge=function(T,N){return T===N};n.make=function(k){return new R(0,0,{keyEq:k&&k.keyEq||ge,hash:k&&k.hash||c},I,0)},n.empty=n.make();var q=n.isEmpty=function(k){return k&&!!b(k._root)};R.prototype.isEmpty=function(){return q(this)};var De=n.modifyHash=function(k,T,N,V){var F={value:V._size},H=V._root._modify(V._editable?V._edit:NaN,V._config.keyEq,0,k,T,N,F);return V.setTree(H,F.value)};R.prototype.modifyHash=function(k,T,N){return De(N,k,T,this)};var it=n.modify=function(k,T,N){return De(k,N._config.hash(T),T,N)};R.prototype.modify=function(k,T){return it(T,k,this)};var Ie=n.setHash=function(k,T,N,V){return De(u(N),k,T,V)};R.prototype.setHash=function(k,T,N){return Ie(k,T,N,this)};var Ve=n.set=function(k,T,N){return Ie(N._config.hash(k),k,T,N)};R.prototype.set=function(k,T){return Ve(k,T,this)};var En=u(l),Tr=n.removeHash=function(k,T,N){return De(En,k,T,N)};R.prototype.removeHash=R.prototype.deleteHash=function(k,T){return Tr(k,T,this)};var an=n.remove=function(k,T){return Tr(T._config.hash(k),k,T)};R.prototype.remove=R.prototype.delete=function(k){return an(k,this)};var Kt=n.beginMutation=function(k){return new R(k._editable+1,k._edit+1,k._config,k._root,k._size)};R.prototype.beginMutation=function(){return Kt(this)};var $u=n.endMutation=function(k){return k._editable=k._editable&&k._editable-1,k};R.prototype.endMutation=function(){return $u(this)};var Vf=n.mutate=function(k,T){var N=Kt(T);return k(N),$u(N)};R.prototype.mutate=function(k){return Vf(k,this)};var Wi=function(T){return T&&Ms(T[0],T[1],T[2],T[3],T[4])},Ms=function(T,N,V,F,H){for(;V<T;){var ae=N[V++];if(ae&&!b(ae))return Pu(ae,F,[T,N,V,F,H])}return Wi(H)},Pu=function(T,N,V){switch(T.type){case g:return{value:N(T),rest:V};case v:case C:case _:var F=T.children;return Ms(F.length,F,0,N,V);default:return Wi(V)}},Ff={done:!0};function Xr(k){this.v=k}Xr.prototype.next=function(){if(!this.v)return Ff;var k=this.v;return this.v=Wi(k.rest),k},Xr.prototype[Symbol.iterator]=function(){return this};var Rr=function(T,N){return new Xr(Pu(T._root,N))},Bf=function(T){return[T.key,T.value]},zf=n.entries=function(k){return Rr(k,Bf)};R.prototype.entries=R.prototype[Symbol.iterator]=function(){return zf(this)};var Lu=function(T){return T.key},jf=n.keys=function(k){return Rr(k,Lu)};R.prototype.keys=function(){return jf(this)};var de=function(T){return T.value},Mu=n.values=R.prototype.values=function(k){return Rr(k,de)};R.prototype.values=function(){return Mu(this)};var Du=n.fold=function(k,T,N){var V=N._root;if(V.type===g)return k(T,V.value,V.key);for(var F=[V.children],H=void 0;H=F.pop();)for(var ae=0,se=H.length;ae<se;){var oe=H[ae++];oe&&oe.type&&(oe.type===g?T=k(T,oe.value,oe.key):F.push(oe.children))}return T};R.prototype.fold=function(k,T){return Du(k,T,this)};var Ou=n.forEach=function(k,T){return Du(function(N,V,F){return k(V,F,T)},null,T)};R.prototype.forEach=function(k){return Ou(k,this)};var Z0=n.count=function(k){return k._size};R.prototype.count=function(){return Z0(this)},Object.defineProperty(R.prototype,"size",{get:R.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class ZV{constructor(e){he(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return a0(this)}toMap(){return new Map(this._map)}}class o0{constructor(e){if(he(this,"_hamt",JV.empty.beginMutation()),e instanceof o0){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return a0(this)}toMap(){return new Map(this._hamt)}}function a0(t){return Me("recoil_hamt_2020")?new o0(t):new ZV(t)}var eF={persistentMap:a0},tF=eF.persistentMap,nF=Object.freeze({__proto__:null,persistentMap:tF});function rF(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var rl=rF;function iF(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Ud=iF;function sF(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function oF(t){return{nodeDeps:Ud(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Ud(t.nodeToNodeSubscriptions,e=>new Set(e))}}function Fp(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:rl(e,o);for(const l of a)s.has(l)||s.set(l,new Set),Ke(s.get(l)).add(t);if(o){const l=rl(o,e);for(const u of l){if(!s.has(u))return;const c=Ke(s.get(u));c.delete(t),c.size===0&&s.delete(u)}}}function aF(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((s=l.previousTree)===null||s===void 0||s.version);const u=n.getGraph(r);if(Fp(t,e,u),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const d=n.getGraph(l.currentTree.version);Fp(t,e,d,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const d=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(d!==void 0){const h=n.getGraph(d);Fp(t,e,h,u)}}}var Tu={cloneGraph:oF,graph:sF,saveDepsToStore:aF};let lF=0;const uF=()=>lF++;let cF=0;const dF=()=>cF++;let hF=0;const fF=()=>hF++;var tf={getNextTreeStateVersion:uF,getNextStoreID:dF,getNextComponentID:fF};const{persistentMap:M_}=nF,{graph:pF}=Tu,{getNextTreeStateVersion:Ob}=tf;function Ub(){const t=Ob();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:M_(),nonvalidatedAtoms:M_()}}function mF(){const t=Ub();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,pF()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Vb={makeEmptyTreeState:Ub,makeEmptyStoreState:mF,getNextTreeStateVersion:Ob};class Fb{}function gF(){return new Fb}var nf={RetentionZone:Fb,retentionZone:gF};function yF(t,e){const n=new Set(t);return n.add(e),n}function vF(t,e){const n=new Set(t);return n.delete(e),n}function wF(t,e,n){const r=new Map(t);return r.set(e,n),r}function _F(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function SF(t,e){const n=new Map(t);return n.delete(e),n}function EF(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var Bb={setByAddingToSet:yF,setByDeletingFromSet:vF,mapBySettingInMap:wF,mapByUpdatingInMap:_F,mapByDeletingFromMap:SF,mapByDeletingMultipleFromMap:EF};function*TF(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var l0=TF;function RF(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var zb=RF;const{getNode:Ru,getNodeMaybe:kF,recoilValuesForKeys:D_}=Sn,{RetentionZone:O_}=nf,{setByAddingToSet:CF}=Bb,bF=Object.freeze(new Set);class IF extends Error{}function xF(t,e,n){if(!Me("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof O_)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Me("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof O_)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function u0(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=Ru(n),o=xF(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function AF(t,e,n){u0(t,t.getState().currentTree,e,n)}function NF(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function $F(t,e,n){return u0(t,e,n,"get"),Ru(n).get(t,e)}function jb(t,e,n){return Ru(n).peek(t,e)}function PF(t,e,n){var r;const i=kF(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:CF(t.dirtyAtoms,e)}}function LF(t,e,n,r){const i=Ru(n);if(i.set==null)throw new IF(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return u0(t,e,n,"set"),s(t,e,r)}function MF(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=Ru(n).nodeType;return zb({type:s},{loadable:()=>jb(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return D_((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:D_(l0(Wb(t,e,new Set([n])),l=>l!==n)),components:ef((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function Wb(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:bF;for(const u of l)r.has(u)||i.push(u)}return r}var Vi={getNodeLoadable:$F,peekNodeLoadable:jb,setNodeValue:LF,initializeNode:AF,cleanUpNode:NF,setUnvalidatedAtomValue_DEPRECATED:PF,peekNodeInfo:MF,getDownstreamNodes:Wb};let Hb=null;function DF(t){Hb=t}function OF(){var t;(t=Hb)===null||t===void 0||t()}var qb={setInvalidateMemoizedSnapshot:DF,invalidateMemoizedSnapshot:OF};const{getDownstreamNodes:UF,getNodeLoadable:Gb,setNodeValue:VF}=Vi,{getNextComponentID:FF}=tf,{getNode:BF,getNodeMaybe:Kb}=Sn,{DefaultValue:c0}=Sn,{reactMode:zF}=Eu,{AbstractRecoilValue:jF,RecoilState:WF,RecoilValueReadOnly:HF,isRecoilValue:qF}=Fo,{invalidateMemoizedSnapshot:GF}=qb;function KF(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=s.previousTree)===null||i===void 0||i.version);const o=Gb(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function QF(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof c0?n.delete(i):n.set(i,r)}),n}function YF(t,e,{key:n},r){if(typeof r=="function"){const i=Gb(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw ye(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function XF(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=YF(t,e,i,s),a=VF(t,e,i.key,o);for(const[l,u]of a.entries())kg(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;kg(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=Kb(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else i0(`Unknown action ${n.type}`)}function kg(t,e,n){n.state==="hasValue"&&n.contents instanceof c0?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function Qb(t,e){t.replaceState(n=>{const r=Yb(n);for(const i of e)XF(t,r,i);return Xb(t,r),GF(),r})}function rf(t,e){if(il.length){const n=il[il.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else Qb(t,[e])}const il=[];function JF(){const t=new Map;return il.push(t),()=>{for(const[e,n]of t)Qb(e,n);il.pop()}}function Yb(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function Xb(t,e){const n=UF(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=Kb(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function Jb(t,e,n){rf(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function ZF(t,e,n){if(n instanceof c0)return Jb(t,e,n);rf(t,{type:"setLoadable",recoilValue:e,loadable:n})}function e5(t,e){rf(t,{type:"markModified",recoilValue:e})}function t5(t,e,n){rf(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function n5(t,{key:e},n,r=null){const i=FF(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),Ke(s.nodeToComponentSubscriptions.get(e)).set(i,[r!=null?r:"<not captured>",n]);const o=zF();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function r5(t,e){var n;const{currentTree:r}=t.getState(),i=BF(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var vr={RecoilValueReadOnly:HF,AbstractRecoilValue:jF,RecoilState:WF,getRecoilValueAsLoadable:KF,setRecoilValue:Jb,setRecoilValueLoadable:ZF,markRecoilValueModified:e5,setUnvalidatedRecoilValue:t5,subscribeToRecoilValue:n5,isRecoilValue:qF,applyAtomValueWrites:QF,batchStart:JF,writeLoadableToTreeState:kg,invalidateDownstreams:Xb,copyTreeState:Yb,refreshRecoilValue:r5};function i5(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var s5=i5;const{cleanUpNode:o5}=Vi,{deleteNodeConfigIfPossible:a5,getNode:Zb}=Sn,{RetentionZone:eI}=nf,l5=12e4,tI=new Set;function nI(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of e)if(o instanceof eI)for(const a of h5(n,o))i.add(a);else i.add(o);const s=u5(t,i);for(const o of s)d5(t,r,o)}function u5(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const u=new Set,c=c5(t,r,l,s,o);for(const f of c){var d;if(Zb(f).retainedBy==="recoilRoot"){o.add(f);continue}if(((d=n.retention.referenceCounts.get(f))!==null&&d!==void 0?d:0)>0){o.add(f);continue}if(rI(f).some(E=>n.retention.referenceCounts.get(E))){o.add(f);continue}const m=i.nodeToNodeSubscriptions.get(f);if(m&&s5(m,E=>o.has(E))){o.add(f);continue}s.add(f),u.add(f)}const h=new Set;for(const f of u)for(const m of(p=i.nodeDeps.get(f))!==null&&p!==void 0?p:tI){var p;s.has(m)||h.add(m)}h.size&&a(h)}}function c5(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(Ke(n.values().next().value));return o;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=s.nodeToNodeSubscriptions.get(u);if(c)for(const d of c)l(d);a.add(u),n.delete(u),o.push(u)}}function d5(t,e,n){if(!Me("recoil_memory_managament_2020"))return;o5(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=rI(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const u of l){var a;(a=o.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}a5(n)}function h5(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:tI}function rI(t){const e=Zb(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof eI?[e]:e}function f5(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):nI(t,new Set([e]))}function p5(t,e,n){var r;if(!Me("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?iI(t,e):i.set(e,s)}function iI(t,e){if(!Me("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),f5(t,e)}function m5(t){if(!Me("recoil_memory_managament_2020"))return;const e=t.getState();nI(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function g5(t){return t===void 0?"recoilRoot":t}var $s={SUSPENSE_TIMEOUT_MS:l5,updateRetainCount:p5,updateRetainCountToZero:iI,releaseScheduledRetainablesNow:m5,retainedByOptionWithDefault:g5};const{unstable_batchedUpdates:y5}=f2;var v5={unstable_batchedUpdates:y5};const{unstable_batchedUpdates:w5}=v5;var _5={unstable_batchedUpdates:w5};const{batchStart:S5}=vr,{unstable_batchedUpdates:E5}=_5;let d0=E5;const T5=t=>{d0=t},R5=()=>d0,k5=t=>{d0(()=>{let e=()=>{};try{e=S5(),t()}finally{e()}})};var sf={getBatcher:R5,setBatcher:T5,batchUpdates:k5};function*C5(t){for(const e of t)for(const n of e)yield n}var sI=C5;const oI=typeof Window>"u"||typeof window>"u",b5=t=>!oI&&(t===window||t instanceof Window),I5=typeof navigator<"u"&&navigator.product==="ReactNative";var h0={isSSR:oI,isReactNative:I5,isWindow:b5};function x5(t,e){let n;return(...i)=>{n||(n={});const s=e(...i);return Object.hasOwnProperty.call(n,s)||(n[s]=t(...i)),n[s]}}function A5(t,e){let n,r;return(...s)=>{const o=e(...s);return n===o||(n=o,r=t(...s)),r}}function N5(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var $5={memoizeWithArgsHash:x5,memoizeOneWithArgsHash:A5,memoizeOneWithArgsHashAndInvalidation:N5};const{batchUpdates:Cg}=sf,{initializeNode:P5,peekNodeInfo:L5}=Vi,{graph:M5}=Tu,{getNextStoreID:D5}=tf,{DEFAULT_VALUE:O5,recoilValues:U_,recoilValuesForKeys:V_}=Sn,{AbstractRecoilValue:U5,getRecoilValueAsLoadable:V5,setRecoilValue:F_,setUnvalidatedRecoilValue:F5}=vr,{updateRetainCount:Vc}=$s,{setInvalidateMemoizedSnapshot:B5}=qb,{getNextTreeStateVersion:z5,makeEmptyStoreState:j5}=Vb,{isSSR:W5}=h0,{memoizeOneWithArgsHashAndInvalidation:H5}=$5;class of{constructor(e,n){he(this,"_store",void 0),he(this,"_refCount",1),he(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),V5(this._store,r))),he(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),he(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return V_(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?U_.values():r.isInitialized===!0?V_(sI([i,s])):l0(U_.values(),({key:o})=>!i.has(o)&&!s.has(o))}),he(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),L5(this._store,this._store.getState().currentTree,r))),he(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new bg(this,Cg);return r(i),i}),he(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new bg(this,Cg);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:D5(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return Ke(i.get(r));const s=M5();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw ye("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)P5(this._store,r,"get"),Vc(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){W5||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Me("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Me("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function aI(t,e,n=!1){const r=t.getState(),i=n?z5():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(ef(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function q5(t){const e=new of(j5());return t!=null?e.map(t):e}const[B_,lI]=H5((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:Ke(r.previousTree);return new of(aI(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});B5(lI);function G5(t,e="latest"){const n=B_(t,e);return n.isRetained()?n:(lI(),B_(t,e))}class bg extends of{constructor(e,n){super(aI(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),he(this,"_batch",void 0),he(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Vc(s,r.key,1),F_(this.getStore_INTERNAL(),r,i)})}),he(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Vc(i,r.key,1),F_(this.getStore_INTERNAL(),r,O5)})}),he(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();Cg(()=>{for(const[s,o]of r.entries())Vc(i,s,1),F5(i,new U5(s),o)})}),this._batch=n}}var af={Snapshot:of,MutableSnapshot:bg,freshSnapshot:q5,cloneSnapshot:G5},K5=af.Snapshot,Q5=af.MutableSnapshot,Y5=af.freshSnapshot,X5=af.cloneSnapshot,lf=Object.freeze({__proto__:null,Snapshot:K5,MutableSnapshot:Q5,freshSnapshot:Y5,cloneSnapshot:X5});function J5(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var Z5=J5;const{useRef:eB}=rt;function tB(t){const e=eB(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var z_=tB;const{getNextTreeStateVersion:nB,makeEmptyStoreState:uI}=Vb,{cleanUpNode:rB,getDownstreamNodes:iB,initializeNode:sB,setNodeValue:oB,setUnvalidatedAtomValue_DEPRECATED:aB}=Vi,{graph:lB}=Tu,{cloneGraph:uB}=Tu,{getNextStoreID:cI}=tf,{createMutableSource:Bp,reactMode:dI}=Eu,{applyAtomValueWrites:cB}=vr,{releaseScheduledRetainablesNow:hI}=$s,{freshSnapshot:dB}=lf,{useCallback:hB,useContext:fI,useEffect:Ig,useMemo:fB,useRef:pB,useState:mB}=rt;function Sa(){throw ye("This component must be used inside a <RecoilRoot> component.")}const pI=Object.freeze({storeID:cI(),getState:Sa,replaceState:Sa,getGraph:Sa,subscribeToTransactions:Sa,addTransactionMetadata:Sa});let xg=!1;function j_(t){if(xg)throw ye("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Me("recoil_memory_managament_2020")&&Me("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&hI(t);const n=e.currentTree.version,r=nB();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,uB(Ke(e.graphsByVersion.get(n))))}}const mI=rt.createContext({current:pI}),uf=()=>fI(mI),gI=rt.createContext(null);function gB(){return fI(gI)}function f0(t,e,n){const r=iB(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function yI(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!dI().early||e.suspendedComponentResolvers.size>0)&&(f0(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function yB(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,yI(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):i0("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Me("recoil_memory_managament_2020")&&n==null&&hI(t)}finally{e.commitDepth--}}function vB({setNotifyBatcherOfChange:t}){const e=uf(),[,n]=mB([]);return t(()=>n({})),Ig(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Ig(()=>{YV.enqueueExecution("Batcher",()=>{yB(e.current)})}),null}function wB(t,e){const n=uI();return e({set:(r,i)=>{const s=n.currentTree,o=oB(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...s,dirtyAtoms:Z5(s.dirtyAtoms,a),atomValues:cB(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=aB(n.currentTree,s,i)})}}),n}function _B(t){const e=dB(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let W_=0;function SB({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=p=>{const f=i.current.graphsByVersion;if(f.has(p))return Ke(f.get(p));const m=lB();return f.set(p,m),m},o=(p,f)=>{if(f==null){const{transactionSubscriptions:m}=d.current.getState(),E=W_++;return m.set(E,p),{release:()=>{m.delete(E)}}}else{const{nodeTransactionSubscriptions:m}=d.current.getState();m.has(f)||m.set(f,new Map);const E=W_++;return Ke(m.get(f)).set(E,p),{release:()=>{const y=m.get(f);y&&(y.delete(E),y.size===0&&m.delete(f))}}}},a=p=>{j_(d.current);for(const f of Object.keys(p))Ke(d.current.getState().nextTree).transactionMetadata[f]=p[f]},l=p=>{j_(d.current);const f=Ke(i.current.nextTree);let m;try{xg=!0,m=p(f)}finally{xg=!1}m!==f&&(i.current.nextTree=m,dI().early&&f0(d.current,i.current,m),Ke(u.current)())},u=pB(null),c=hB(p=>{u.current=p},[u]),d=z_(()=>n!=null?n:{storeID:cI(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(d.current=n),i=z_(()=>t!=null?wB(d.current,t):e!=null?_B(e):uI());const h=fB(()=>Bp==null?void 0:Bp(i,()=>i.current.currentTree.version),[i]);return Ig(()=>{const p=d.current;for(const f of new Set(p.getState().knownAtoms))sB(p,f,"get");return()=>{for(const f of p.getState().knownAtoms)rB(p,f)}},[d]),w(mI.Provider,{value:d,children:z(gI.Provider,{value:h,children:[w(vB,{setNotifyBatcherOfChange:c}),r]})})}function EB(t){const{override:e,...n}=t,r=uf();return e===!1&&r.current!==pI?t.children:w(SB,{...n})}function TB(){return uf().current.storeID}var Kr={RecoilRoot:EB,useStoreRef:uf,useRecoilMutableSource:gB,useRecoilStoreID:TB,notifyComponents_FOR_TESTING:f0,sendEndOfBatchNotifications_FOR_TESTING:yI};function RB(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var kB=RB;const{useEffect:CB,useRef:bB}=rt;function IB(t){const e=bB();return CB(()=>{e.current=t}),e.current}var vI=IB;const{useStoreRef:xB}=Kr,{SUSPENSE_TIMEOUT_MS:AB}=$s,{updateRetainCount:Ea}=$s,{RetentionZone:NB}=nf,{useEffect:$B,useRef:PB}=rt,{isSSR:H_}=h0;function LB(t){if(!!Me("recoil_memory_managament_2020"))return MB(t)}function MB(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof NB?o:o.key),r=xB();$B(()=>{if(!Me("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!H_)window.clearTimeout(i.current),i.current=null;else for(const a of n)Ea(o,a,1);return()=>{for(const a of n)Ea(o,a,-1)}},[r,...n]);const i=PB(),s=vI(n);if(!H_&&(s===void 0||!kB(s,n))){const o=r.current;for(const a of n)Ea(o,a,1);if(s)for(const a of s)Ea(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Ea(o,a,-1)},AB)}}var p0=LB;function DB(){return"<component name not available>"}var ku=DB;const{batchUpdates:OB}=sf,{DEFAULT_VALUE:wI}=Sn,{reactMode:oa,useMutableSource:UB,useSyncExternalStore:VB}=Eu,{useRecoilMutableSource:FB,useStoreRef:wr}=Kr,{AbstractRecoilValue:Ag,getRecoilValueAsLoadable:Cu,setRecoilValue:Vd,setUnvalidatedRecoilValue:BB,subscribeToRecoilValue:Bo}=vr,{useCallback:wn,useEffect:zo,useMemo:_I,useRef:sl,useState:m0}=rt,{setByAddingToSet:zB}=Bb;function g0(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{n.current.getState().suspendedComponentResolvers.add(i)}):t.state==="hasError"?t.contents:ye(`Invalid value of loadable atom "${e.key}"`)}function jB(){const t=ku(),e=wr(),[,n]=m0([]),r=sl(new Set);r.current=new Set;const i=sl(new Set),s=sl(new Map),o=wn(l=>{const u=s.current.get(l);u&&(u.release(),s.current.delete(l))},[s]),a=wn((l,u)=>{s.current.has(u)&&n([])},[]);return zo(()=>{const l=e.current;rl(r.current,i.current).forEach(u=>{if(s.current.has(u))return;const c=Bo(l,new Ag(u),h=>a(h,u),t);s.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),rl(i.current,r.current).forEach(u=>{o(u)}),i.current=r.current}),zo(()=>{const l=s.current;return rl(r.current,new Set(l.keys())).forEach(u=>{const c=Bo(e.current,new Ag(u),d=>a(d,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>o(c))},[t,e,o,a]),_I(()=>{function l(f){return m=>{Vd(e.current,f,m)}}function u(f){return()=>Vd(e.current,f,wI)}function c(f){var m;r.current.has(f.key)||(r.current=zB(r.current,f.key));const E=e.current.getState();return Cu(e.current,f,oa().early&&(m=E.nextTree)!==null&&m!==void 0?m:E.currentTree)}function d(f){const m=c(f);return g0(m,f,e)}function h(f){return[d(f),l(f)]}function p(f){return[c(f),l(f)]}return{getRecoilValue:d,getRecoilValueLoadable:c,getRecoilState:h,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const WB={current:0};function HB(t){const e=wr(),n=ku(),r=wn(()=>{var a;const l=e.current,u=l.getState(),c=oa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:Cu(l,t,c),key:t.key}},[e,t]),i=wn(a=>{let l;return()=>{var u,c;const d=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(d.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===d.key?l:(l=d,d)}},[]),s=_I(()=>i(r),[r,i]),o=wn(a=>{const l=e.current;return Bo(l,t,a,n).release},[e,t,n]);return VB(o,s,s).loadable}function qB(t){const e=wr(),n=wn(()=>{var u;const c=e.current,d=c.getState(),h=oa().early&&(u=d.nextTree)!==null&&u!==void 0?u:d.currentTree;return Cu(c,t,h)},[e,t]),r=wn(()=>n(),[n]),i=ku(),s=wn((u,c)=>{const d=e.current;return Bo(d,t,()=>{if(!Me("recoil_suppress_rerender_in_callback"))return c();const p=n();l.current.is(p)||c(),l.current=p},i).release},[e,t,i,n]),o=FB();if(o==null)throw ye("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=UB(o,r,s),l=sl(a);return zo(()=>{l.current=a}),a}function SI(t){const e=wr(),n=ku(),r=wn(()=>{var l;const u=e.current,c=u.getState(),d=oa().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return Cu(u,t,d)},[e,t]),i=wn(()=>({loadable:r(),key:t.key}),[r,t.key]),s=wn(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);zo(()=>{const l=Bo(e.current,t,u=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=m0(i);return o.key!==t.key?i().loadable:o.loadable}function GB(t){const e=wr(),[,n]=m0([]),r=ku(),i=wn(()=>{var a;const l=e.current,u=l.getState(),c=oa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return Cu(l,t,c)},[e,t]),s=i(),o=sl(s);return zo(()=>{o.current=s}),zo(()=>{const a=e.current,l=a.getState(),u=Bo(a,t,d=>{var h;if(!Me("recoil_suppress_rerender_in_callback"))return n([]);const p=i();(h=o.current)!==null&&h!==void 0&&h.is(p)||n(p),o.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Me("recoil_suppress_rerender_in_callback"))return n([]);const d=i();(c=o.current)!==null&&c!==void 0&&c.is(d)||n(d),o.current=d}return u.release},[r,i,t,e]),s}function y0(t){return Me("recoil_memory_managament_2020")&&p0(t),{TRANSITION_SUPPORT:SI,SYNC_EXTERNAL_STORE:HB,MUTABLE_SOURCE:qB,LEGACY:GB}[oa().mode](t)}function EI(t){const e=wr(),n=y0(t);return g0(n,t,e)}function cf(t){const e=wr();return wn(n=>{Vd(e.current,t,n)},[e,t])}function KB(t){const e=wr();return wn(()=>{Vd(e.current,t,wI)},[e,t])}function QB(t){return[EI(t),cf(t)]}function YB(t){return[y0(t),cf(t)]}function XB(){const t=wr();return(e,n={})=>{OB(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>BB(t.current,new Ag(i),r))})}}function TI(t){return Me("recoil_memory_managament_2020")&&p0(t),SI(t)}function RI(t){const e=wr(),n=TI(t);return g0(n,t,e)}function JB(t){return[RI(t),cf(t)]}var ZB={recoilComponentGetRecoilValueCount_FOR_TESTING:WB,useRecoilInterface:jB,useRecoilState:QB,useRecoilStateLoadable:YB,useRecoilValue:EI,useRecoilValueLoadable:y0,useResetRecoilState:KB,useSetRecoilState:cf,useSetUnvalidatedAtomValues:XB,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:TI,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:RI,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:JB};function ez(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var tz=ez;function nz(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var rz=nz;function iz(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var sz=iz;const{batchUpdates:oz}=sf,{DEFAULT_VALUE:az,getNode:kI,nodes:lz}=Sn,{useStoreRef:v0}=Kr,{AbstractRecoilValue:uz,setRecoilValueLoadable:cz}=vr,{SUSPENSE_TIMEOUT_MS:dz}=$s,{cloneSnapshot:Fd}=lf,{useCallback:df,useEffect:CI,useRef:q_,useState:hz}=rt,{isSSR:G_}=h0;function hf(t){const e=v0();CI(()=>e.current.subscribeToTransactions(t).release,[t,e])}function K_(t){const e=t.atomValues.toMap(),n=Ud(tz(e,(r,i)=>{const o=kI(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return sz(t.nonvalidatedAtoms.toMap(),n)}function fz(t){hf(df(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=K_(r),s=K_(n),o=Ud(lz,l=>{var u,c,d,h;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(d=(h=l.persistence_UNSTABLE)===null||h===void 0?void 0:h.backButton)!==null&&d!==void 0?d:!1}}}),a=rz(r.dirtyAtoms,l=>i.has(l)||s.has(l));t({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function pz(t){hf(df(e=>{const n=Fd(e,"latest"),r=Fd(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function mz(){const t=v0(),[e,n]=hz(()=>Fd(t.current)),r=vI(e),i=q_(),s=q_();if(hf(df(a=>n(Fd(a)),[])),CI(()=>{const a=e.retain();if(i.current&&!G_){var l;window.clearTimeout(i.current),i.current=null,(l=s.current)===null||l===void 0||l.call(s),s.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!G_){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=s.current)===null||o===void 0||o.call(s),s.current=null}s.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=s.current)===null||a===void 0||a.call(s),s.current=null},dz)}return e}function bI(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;oz(()=>{const o=new Set;for(const u of[i.atomValues.keys(),s.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&kI(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(u=>{cz(t,new uz(u),s.atomValues.has(u)?Ke(s.atomValues.get(u)):az)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function gz(){const t=v0();return df(e=>bI(t.current,e),[t])}var II={useRecoilSnapshot:mz,gotoSnapshot:bI,useGotoRecoilSnapshot:gz,useRecoilTransactionObserver:pz,useTransactionObservation_DEPRECATED:fz,useTransactionSubscription_DEPRECATED:hf};const{peekNodeInfo:yz}=Vi,{useStoreRef:vz}=Kr;function wz(){const t=vz();return({key:e})=>yz(t.current,t.current.getState().currentTree,e)}var _z=wz;const{reactMode:Sz}=Eu,{RecoilRoot:Ez,useStoreRef:Tz}=Kr,{useMemo:Rz}=rt;function kz(){Sz().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=Tz().current;return Rz(()=>{function e({children:n}){return w(Ez,{store_INTERNAL:t,children:n})}return e},[t])}var Cz=kz;const{loadableWithValue:bz}=Su,{initializeNode:Iz}=Vi,{DEFAULT_VALUE:xz,getNode:Az}=Sn,{copyTreeState:Nz,getRecoilValueAsLoadable:$z,invalidateDownstreams:Pz,writeLoadableToTreeState:Lz}=vr;function Q_(t){return Az(t.key).nodeType==="atom"}class Mz{constructor(e,n){he(this,"_store",void 0),he(this,"_treeState",void 0),he(this,"_changes",void 0),he(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!Q_(r))throw ye("Reading selectors within atomicUpdate is not supported");const i=$z(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:ye(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),he(this,"set",(r,i)=>{if(!Q_(r))throw ye("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else Iz(this._store,r.key,"set"),this._changes.set(r.key,i)}),he(this,"reset",r=>{this.set(r,xz)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=Nz(this._treeState);for(const[n,r]of this._changes)Lz(e,n,bz(r));return Pz(this._store,e),e}}function Dz(t){return e=>{t.replaceState(n=>{const r=new Mz(t,n);return e(r),r.newTreeState_INTERNAL()})}}var Oz={atomicUpdater:Dz},Uz=Oz.atomicUpdater,xI=Object.freeze({__proto__:null,atomicUpdater:Uz});function Vz(t,e){if(!t)throw new Error(e)}var Fz=Vz,Va=Fz;const{atomicUpdater:Bz}=xI,{batchUpdates:zz}=sf,{DEFAULT_VALUE:jz}=Sn,{useStoreRef:Wz}=Kr,{refreshRecoilValue:Hz,setRecoilValue:Y_}=vr,{cloneSnapshot:qz}=lf,{gotoSnapshot:Gz}=II,{useCallback:Kz}=rt;class AI{}const Qz=new AI;function NI(t,e,n,r){let i=Qz,s;if(zz(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw ye(a);const l=zb({...r!=null?r:{},set:(c,d)=>Y_(t,c,d),reset:c=>Y_(t,c,jz),refresh:c=>Hz(t,c),gotoSnapshot:c=>Gz(t,c),transact_UNSTABLE:c=>Bz(t)(c)},{snapshot:()=>{const c=qz(t);return s=c.retain(),c}}),u=e(l);if(typeof u!="function")throw ye(a);i=u(...n)}),i instanceof AI&&Va(!1),Ge(i))i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}function Yz(t,e){const n=Wz();return Kz((...r)=>NI(n.current,t,r),e!=null?[...e,n]:void 0)}var $I={recoilCallback:NI,useRecoilCallback:Yz};const{useStoreRef:Xz}=Kr,{refreshRecoilValue:Jz}=vr,{useCallback:Zz}=rt;function e6(t){const e=Xz();return Zz(()=>{const n=e.current;Jz(n,t)},[t,e])}var t6=e6;const{atomicUpdater:n6}=xI,{useStoreRef:r6}=Kr,{useMemo:i6}=rt;function s6(t,e){const n=r6();return i6(()=>(...r)=>{n6(n.current)(s=>{t(s)(...r)})},e!=null?[...e,n]:void 0)}var o6=s6;class a6{constructor(e){he(this,"value",void 0),this.value=e}}var l6={WrappedValue:a6},u6=l6.WrappedValue,PI=Object.freeze({__proto__:null,WrappedValue:u6});const{isFastRefreshEnabled:c6}=Eu;class X_ extends Error{}class d6{constructor(e){var n,r,i;he(this,"_name",void 0),he(this,"_numLeafs",void 0),he(this,"_root",void 0),he(this,"_onHit",void 0),he(this,"_onSet",void 0),he(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let u,c;for(const[E,y]of e){var d,h,p;const g=this._root;if((g==null?void 0:g.type)==="leaf")throw this.invalidCacheError();const v=u;if(u=v?v.branches.get(c):g,u=(d=u)!==null&&d!==void 0?d:{type:"branch",nodeKey:E,parent:v,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==E)throw this.invalidCacheError();v==null||v.branches.set(c,u),r==null||(h=r.onNodeVisit)===null||h===void 0||h.call(r,u),c=this._mapNodeValue(y),this._root=(p=this._root)!==null&&p!==void 0?p:u}const f=u?(s=u)===null||s===void 0?void 0:s.branches.get(c):this._root;if(f!=null&&(f.type!=="leaf"||f.branchKey!==c))throw this.invalidCacheError();const m={type:"leaf",value:n,parent:u,branchKey:c};(o=u)===null||o===void 0||o.branches.set(c,m),this._root=(a=this._root)!==null&&a!==void 0?a:m,this._numLeafs++,this._onSet(m),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,m)};try{i()}catch(s){if(s instanceof X_)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=c6()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw i0(e+(this._name!=null?` - ${this._name}`:"")),new X_}}var h6={TreeCache:d6},f6=h6.TreeCache,LI=Object.freeze({__proto__:null,TreeCache:f6});class p6{constructor(e){var n;he(this,"_maxSize",void 0),he(this,"_size",void 0),he(this,"_head",void 0),he(this,"_tail",void 0),he(this,"_map",void 0),he(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(!!r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=Ke(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var m6={LRUCache:p6},g6=m6.LRUCache,MI=Object.freeze({__proto__:null,LRUCache:g6});const{LRUCache:y6}=MI,{TreeCache:v6}=LI;function w6({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new y6({maxSize:e}),i=new v6({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var J_=w6;function Qn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw ye("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Ge(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>Qn(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return Qn(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:Qn(s,e)]=o;return Qn(i,e,n)}return t instanceof Set?Qn(Array.from(t).sort((i,s)=>Qn(i,e).localeCompare(Qn(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Qn(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Qn(i,e)}:${Qn(t[i],e,i)}`).join(",")}}`}function _6(t,e={allowFunctions:!1}){return Qn(t,e)}var ff=_6;const{TreeCache:S6}=LI,dc={equality:"reference",eviction:"keep-all",maxSize:1/0};function E6({equality:t=dc.equality,eviction:e=dc.eviction,maxSize:n=dc.maxSize}=dc,r){const i=T6(t);return R6(e,n,i,r)}function T6(t){switch(t){case"reference":return e=>e;case"value":return e=>ff(e)}throw ye(`Unrecognized equality policy ${t}`)}function R6(t,e,n,r){switch(t){case"keep-all":return new S6({name:r,mapNodeValue:n});case"lru":return J_({name:r,maxSize:Ke(e),mapNodeValue:n});case"most-recent":return J_({name:r,maxSize:1,mapNodeValue:n})}throw ye(`Unrecognized eviction policy ${t}`)}var k6=E6;function C6(t){return()=>null}var b6={startPerfBlock:C6};const{isLoadable:I6,loadableWithError:hc,loadableWithPromise:x6,loadableWithValue:zp}=Su,{WrappedValue:DI}=PI,{getNodeLoadable:fc,peekNodeLoadable:A6,setNodeValue:N6}=Vi,{saveDepsToStore:$6}=Tu,{DEFAULT_VALUE:P6,getConfigDeletionHandler:L6,getNode:M6,registerNode:Z_}=Sn,{isRecoilValue:D6}=Fo,{markRecoilValueModified:eS}=vr,{retainedByOptionWithDefault:O6}=$s,{recoilCallback:U6}=$I,{startPerfBlock:V6}=b6;class OI{}const Ta=new OI,Ra=[],pc=new Map,F6=(()=>{let t=0;return()=>t++})();function UI(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=k6(i!=null?i:{equality:"reference",eviction:"keep-all"},n),l=O6(t.retainedBy_UNSTABLE),u=new Map;let c=0;function d(){return!Me("recoil_memory_managament_2020")||c>0}function h(R){return R.getState().knownSelectors.add(n),c++,()=>{c--}}function p(){return L6(n)!==void 0&&!d()}function f(R,O,D,te,B){Te(O,te,B),m(R,D)}function m(R,O){re(R,O)&&me(R),y(O,!0)}function E(R,O){re(R,O)&&(Ke(x(R)).stateVersions.clear(),y(O,!1))}function y(R,O){const D=pc.get(R);if(D!=null){for(const te of D)eS(te,Ke(e));O&&pc.delete(R)}}function g(R,O){let D=pc.get(O);D==null&&pc.set(O,D=new Set),D.add(R)}function v(R,O,D,te,B,ue){return O.then(ge=>{if(!d())throw me(R),Ta;const q=zp(ge);return f(R,D,B,q,te),ge}).catch(ge=>{if(!d())throw me(R),Ta;if(Ge(ge))return _(R,ge,D,te,B,ue);const q=hc(ge);throw f(R,D,B,q,te),ge})}function _(R,O,D,te,B,ue){return O.then(ge=>{if(!d())throw me(R),Ta;ue.loadingDepKey!=null&&ue.loadingDepPromise===O?D.atomValues.set(ue.loadingDepKey,zp(ge)):R.getState().knownSelectors.forEach(Ie=>{D.atomValues.delete(Ie)});const q=b(R,D);if(q&&q.state!=="loading"){if((re(R,B)||x(R)==null)&&m(R,B),q.state==="hasValue")return q.contents;throw q.contents}if(!re(R,B)){const Ie=Z(R,D);if(Ie!=null)return Ie.loadingLoadable.contents}const[De,it]=I(R,D,B);if(De.state!=="loading"&&f(R,D,B,De,it),De.state==="hasError")throw De.contents;return De.contents}).catch(ge=>{if(ge instanceof OI)throw Ta;if(!d())throw me(R),Ta;const q=hc(ge);throw f(R,D,B,q,te),ge})}function C(R,O,D,te){var B,ue,ge,q;if(re(R,te)||O.version===((B=R.getState())===null||B===void 0||(ue=B.currentTree)===null||ue===void 0?void 0:ue.version)||O.version===((ge=R.getState())===null||ge===void 0||(q=ge.nextTree)===null||q===void 0?void 0:q.version)){var De,it,Ie;$6(n,D,R,(De=(it=R.getState())===null||it===void 0||(Ie=it.nextTree)===null||Ie===void 0?void 0:Ie.version)!==null&&De!==void 0?De:R.getState().currentTree.version)}for(const Ve of D)o.add(Ve)}function I(R,O,D){const te=V6(n);let B=!0,ue=!0;const ge=()=>{te(),ue=!1};let q,De=!1,it;const Ie={loadingDepKey:null,loadingDepPromise:null},Ve=new Map;function En({key:an}){const Kt=fc(R,O,an);switch(Ve.set(an,Kt),B||(C(R,O,new Set(Ve.keys()),D),E(R,D)),Kt.state){case"hasValue":return Kt.contents;case"hasError":throw Kt.contents;case"loading":throw Ie.loadingDepKey=an,Ie.loadingDepPromise=Kt.contents,Kt.contents}throw ye("Invalid Loadable state")}const Tr=an=>(...Kt)=>{if(ue)throw ye("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Va(!1),U6(R,an,Kt,{node:e})};try{q=r({get:En,getCallback:Tr}),q=D6(q)?En(q):q,I6(q)&&(q.state==="hasError"&&(De=!0),q=q.contents),Ge(q)?q=v(R,q,O,Ve,D,Ie).finally(ge):ge(),q=q instanceof DI?q.value:q}catch(an){q=an,Ge(q)?q=_(R,q,O,Ve,D,Ie).finally(ge):(De=!0,ge())}return De?it=hc(q):Ge(q)?it=x6(q):it=zp(q),B=!1,pe(R,D,Ve),C(R,O,new Set(Ve.keys()),D),[it,Ve]}function b(R,O){let D=O.atomValues.get(n);if(D!=null)return D;const te=new Set;try{D=a.get(ue=>(typeof ue!="string"&&Va(!1),fc(R,O,ue).contents),{onNodeVisit:ue=>{ue.type==="branch"&&ue.nodeKey!==n&&te.add(ue.nodeKey)}})}catch(ue){throw ye(`Problem with cache lookup for selector "${n}": ${ue.message}`)}if(D){var B;O.atomValues.set(n,D),C(R,O,te,(B=x(R))===null||B===void 0?void 0:B.executionID)}return D}function $(R,O){const D=b(R,O);if(D!=null)return me(R),D;const te=Z(R,O);if(te!=null){var B;return((B=te.loadingLoadable)===null||B===void 0?void 0:B.state)==="loading"&&g(R,te.executionID),te.loadingLoadable}const ue=F6(),[ge,q]=I(R,O,ue);return ge.state==="loading"?(ee(R,ue,ge,q,O),g(R,ue)):(me(R),Te(O,ge,q)),ge}function Z(R,O){const D=sI([u.has(R)?[Ke(u.get(R))]:[],ef(l0(u,([B])=>B!==R),([,B])=>B)]);function te(B){for(const[ue,ge]of B)if(!fc(R,O,ue).is(ge))return!0;return!1}for(const B of D){if(B.stateVersions.get(O.version)||!te(B.depValuesDiscoveredSoFarDuringAsyncWork))return B.stateVersions.set(O.version,!0),B;B.stateVersions.set(O.version,!1)}}function x(R){return u.get(R)}function ee(R,O,D,te,B){u.set(R,{depValuesDiscoveredSoFarDuringAsyncWork:te,executionID:O,loadingLoadable:D,stateVersions:new Map([[B.version,!0]])})}function pe(R,O,D){if(re(R,O)){const te=x(R);te!=null&&(te.depValuesDiscoveredSoFarDuringAsyncWork=D)}}function me(R){u.delete(R)}function re(R,O){var D;return O===((D=x(R))===null||D===void 0?void 0:D.executionID)}function Pe(R){return Array.from(R.entries()).map(([O,D])=>[O,D.contents])}function Te(R,O,D){R.atomValues.set(n,O);try{a.set(Pe(D),O)}catch(te){throw ye(`Problem with setting cache for selector "${n}": ${te.message}`)}}function be(R){if(Ra.includes(n)){const O=`Recoil selector has circular dependencies: ${Ra.slice(Ra.indexOf(n)).join(" \u2192 ")}`;return hc(ye(O))}Ra.push(n);try{return R()}finally{Ra.pop()}}function M(R,O){const D=O.atomValues.get(n);return D!=null?D:a.get(te=>{var B;return typeof te!="string"&&Va(!1),(B=A6(R,O,te))===null||B===void 0?void 0:B.contents})}function X(R,O){return be(()=>$(R,O))}function U(R){R.atomValues.delete(n)}function J(R,O){e==null&&Va(!1);for(const te of o){var D;const B=M6(te);(D=B.clearCache)===null||D===void 0||D.call(B,R,O)}o.clear(),U(O),a.clear(),eS(R,e)}return s!=null?e=Z_({key:n,nodeType:"selector",peek:M,get:X,set:(O,D,te)=>{let B=!1;const ue=new Map;function ge({key:Ie}){if(B)throw ye("Recoil: Async selector sets are not currently supported.");const Ve=fc(O,D,Ie);if(Ve.state==="hasValue")return Ve.contents;if(Ve.state==="loading"){const En=`Getting value of asynchronous atom or selector "${Ie}" in a pending state while setting selector "${n}" is not yet supported.`;throw ye(En)}else throw Ve.contents}function q(Ie,Ve){if(B)throw ye("Recoil: Async selector sets are not currently supported.");const En=typeof Ve=="function"?Ve(ge(Ie)):Ve;N6(O,D,Ie.key,En).forEach((an,Kt)=>ue.set(Kt,an))}function De(Ie){q(Ie,P6)}const it=s({set:q,get:ge,reset:De},te);if(it!==void 0)throw Ge(it)?ye("Recoil: Async selector sets are not currently supported."):ye("Recoil: selector set should be a void function.");return B=!0,ue},init:h,invalidate:U,clearCache:J,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=Z_({key:n,nodeType:"selector",peek:M,get:X,init:h,invalidate:U,clearCache:J,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}UI.value=t=>new DI(t);var jo=UI;const{isLoadable:B6,loadableWithError:jp,loadableWithPromise:Wp,loadableWithValue:Vs}=Su,{WrappedValue:VI}=PI,{peekNodeInfo:z6}=Vi,{DEFAULT_VALUE:Ki,DefaultValue:ri,getConfigDeletionHandler:FI,registerNode:j6,setConfigDeletionHandler:W6}=Sn,{isRecoilValue:H6}=Fo,{getRecoilValueAsLoadable:q6,markRecoilValueModified:G6,setRecoilValue:tS,setRecoilValueLoadable:K6}=vr,{retainedByOptionWithDefault:Q6}=$s,ka=t=>t instanceof VI?t.value:t;function Y6(t){const{key:e,persistence_UNSTABLE:n}=t,r=Q6(t.retainedBy_UNSTABLE);let i=0;function s(g){return Wp(g.then(v=>(o=Vs(v),v)).catch(v=>{throw o=jp(v),v}))}let o=Ge(t.default)?s(t.default):B6(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Vs(ka(t.default));o.contents;let a;const l=new Map;function u(g){return g}function c(g,v){const _=v.then(C=>{var I,b;return((b=((I=g.getState().nextTree)!==null&&I!==void 0?I:g.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===_&&tS(g,y,C),C}).catch(C=>{var I,b;throw((b=((I=g.getState().nextTree)!==null&&I!==void 0?I:g.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===_&&K6(g,y,jp(C)),C});return _}function d(g,v,_){var C;i++;const I=()=>{var x;i--,(x=l.get(g))===null||x===void 0||x.forEach(ee=>ee()),l.delete(g)};if(g.getState().knownAtoms.add(e),o.state==="loading"){const x=()=>{var ee;((ee=g.getState().nextTree)!==null&&ee!==void 0?ee:g.getState().currentTree).atomValues.has(e)||G6(g,y)};o.contents.finally(x)}const b=(C=t.effects)!==null&&C!==void 0?C:t.effects_UNSTABLE;if(b!=null){let re=function(U){if(ee&&U.key===e){const J=x;return J instanceof ri?h(g,v):Ge(J)?Wp(J.then(R=>R instanceof ri?o.toPromise():R)):Vs(J)}return q6(g,U)},Pe=function(U){return re(U).toPromise()},Te=function(U){var J;const R=z6(g,(J=g.getState().nextTree)!==null&&J!==void 0?J:g.getState().currentTree,U.key);return ee&&U.key===e&&!(x instanceof ri)?{...R,isSet:!0,loadable:re(U)}:R},x=Ki,ee=!0,pe=!1,me=null;const be=U=>J=>{if(ee){const R=re(y),O=R.state==="hasValue"?R.contents:Ki;x=typeof J=="function"?J(O):J,Ge(x)&&(x=x.then(D=>(me={effect:U,value:D},D)))}else{if(Ge(J))throw ye("Setting atoms to async values is not implemented.");typeof J!="function"&&(me={effect:U,value:ka(J)}),tS(g,y,typeof J=="function"?R=>{const O=ka(J(R));return me={effect:U,value:O},O}:ka(J))}},M=U=>()=>be(U)(Ki),X=U=>J=>{var R;const{release:O}=g.subscribeToTransactions(D=>{var te;let{currentTree:B,previousTree:ue}=D.getState();ue||(ue=B);const ge=(te=B.atomValues.get(e))!==null&&te!==void 0?te:o;if(ge.state==="hasValue"){var q,De,it,Ie;const Ve=ge.contents,En=(q=ue.atomValues.get(e))!==null&&q!==void 0?q:o,Tr=En.state==="hasValue"?En.contents:Ki;((De=me)===null||De===void 0?void 0:De.effect)!==U||((it=me)===null||it===void 0?void 0:it.value)!==Ve?J(Ve,Tr,!B.atomValues.has(e)):((Ie=me)===null||Ie===void 0?void 0:Ie.effect)===U&&(me=null)}},e);l.set(g,[...(R=l.get(g))!==null&&R!==void 0?R:[],O])};for(const U of b)try{const J=U({node:y,storeID:g.storeID,parentStoreID_UNSTABLE:g.parentStoreID,trigger:_,setSelf:be(U),resetSelf:M(U),onSet:X(U),getPromise:Pe,getLoadable:re,getInfo_UNSTABLE:Te});if(J!=null){var $;l.set(g,[...($=l.get(g))!==null&&$!==void 0?$:[],J])}}catch(J){x=J,pe=!0}if(ee=!1,!(x instanceof ri)){var Z;const U=pe?jp(x):Ge(x)?Wp(c(g,x)):Vs(ka(x));U.contents,v.atomValues.set(e,U),(Z=g.getState().nextTree)===null||Z===void 0||Z.atomValues.set(e,U)}}return I}function h(g,v){var _,C;return(_=(C=v.atomValues.get(e))!==null&&C!==void 0?C:a)!==null&&_!==void 0?_:o}function p(g,v){if(v.atomValues.has(e))return Ke(v.atomValues.get(e));if(v.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const _=v.nonvalidatedAtoms.get(e),C=n.validator(_,Ki);return a=C instanceof ri?o:Vs(C),a}else return o}function f(){a=void 0}function m(g,v,_){if(v.atomValues.has(e)){const C=Ke(v.atomValues.get(e));if(C.state==="hasValue"&&_===C.contents)return new Map}else if(!v.nonvalidatedAtoms.has(e)&&_ instanceof ri)return new Map;return a=void 0,new Map().set(e,Vs(_))}function E(){return FI(e)!==void 0&&i<=0}const y=j6({key:e,nodeType:"atom",peek:h,get:p,set:m,init:d,invalidate:f,shouldDeleteConfigOnRelease:E,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return y}function w0(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return H6(n)?X6({...e,default:n}):Y6({...e,default:n})}function X6(t){const e=w0({...t,default:Ki,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof ri?r:Ke(t.persistence_UNSTABLE).validator(r,Ki)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=jo({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof ri?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return W6(n.key,FI(t.key)),n}w0.value=t=>new VI(t);var BI=w0;class J6{constructor(e){var n;he(this,"_map",void 0),he(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Z6={MapCache:J6},ej=Z6.MapCache,tj=Object.freeze({__proto__:null,MapCache:ej});const{LRUCache:nS}=MI,{MapCache:nj}=tj,mc={equality:"reference",eviction:"none",maxSize:1/0};function rj({equality:t=mc.equality,eviction:e=mc.eviction,maxSize:n=mc.maxSize}=mc){const r=ij(t);return sj(e,n,r)}function ij(t){switch(t){case"reference":return e=>e;case"value":return e=>ff(e)}throw ye(`Unrecognized equality policy ${t}`)}function sj(t,e,n){switch(t){case"keep-all":return new nj({mapKey:n});case"lru":return new nS({mapKey:n,maxSize:Ke(e)});case"most-recent":return new nS({mapKey:n,maxSize:1})}throw ye(`Unrecognized eviction policy ${t}`)}var zI=rj;const{setConfigDeletionHandler:oj}=Sn;function aj(t){var e,n;const r=zI({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),d=BI({...u,key:`${t.key}__${(s=ff(i))!==null&&s!==void 0?s:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,d),oj(d.key,()=>{r.delete(i)}),d}}var lj=aj;const{setConfigDeletionHandler:uj}=Sn;let cj=0;function dj(t){var e,n;const r=zI({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(h){throw ye(`Problem with cache lookup for selector ${t.key}: ${h.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=ff(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${cj++}`,l=h=>t.get(i)(h),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let d;if(t.set!=null){const h=t.set;d=jo({key:a,get:l,set:(f,m)=>h(i)(f,m),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else d=jo({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,d),uj(d.key,()=>{r.delete(i)}),d}}var Fi=dj;const hj=Fi({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function fj(t){return hj(t)}var pj=fj;const mj=Fi({key:"__error",get:t=>()=>{throw ye(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function gj(t){return mj(t)}var yj=gj;function vj(t){return t}var wj=vj;const{loadableWithError:jI,loadableWithPromise:WI,loadableWithValue:HI}=Su;function pf(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function _j(t){return t!=null&&!Ge(t)}function mf(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Ng(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function wo(t,e,n){const r=n.map((i,s)=>i==null?HI(e[s]):Ge(i)?WI(i):jI(i));return Ng(t,r)}function Sj(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const Ej=Fi({key:"__waitForNone",get:t=>({get:e})=>{const n=mf(t),[r,i]=pf(e,n);return wo(t,r,i)},dangerouslyAllowMutability:!0}),Tj=Fi({key:"__waitForAny",get:t=>({get:e})=>{const n=mf(t),[r,i]=pf(e,n);return i.some(s=>!Ge(s))?wo(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())Ge(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(wo(t,r,i))}).catch(l=>{i[o]=l,s(wo(t,r,i))})})},dangerouslyAllowMutability:!0}),Rj=Fi({key:"__waitForAll",get:t=>({get:e})=>{const n=mf(t),[r,i]=pf(e,n);if(i.every(o=>o==null))return Ng(t,r);const s=i.find(_j);if(s!=null)throw s;return Promise.all(i).then(o=>Ng(t,Sj(r,o)))},dangerouslyAllowMutability:!0}),kj=Fi({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=mf(t),[r,i]=pf(e,n);return i.every(s=>!Ge(s))?wo(t,r,i):Promise.all(i.map((s,o)=>Ge(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>wo(t,r,i))},dangerouslyAllowMutability:!0}),Cj=Fi({key:"__noWait",get:t=>({get:e})=>{try{return jo.value(HI(e(t)))}catch(n){return jo.value(Ge(n)?WI(n):jI(n))}},dangerouslyAllowMutability:!0});var bj={waitForNone:Ej,waitForAny:Tj,waitForAll:Rj,waitForAllSettled:kj,noWait:Cj};const{RecoilLoadable:Ij}=Su,{DefaultValue:xj}=Sn,{RecoilRoot:Aj,useRecoilStoreID:Nj}=Kr,{isRecoilValue:$j}=Fo,{retentionZone:Pj}=nf,{freshSnapshot:Lj}=lf,{useRecoilState:Mj,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Dj,useRecoilStateLoadable:Oj,useRecoilValue:Uj,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Vj,useRecoilValueLoadable:Fj,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Bj,useResetRecoilState:zj,useSetRecoilState:jj}=ZB,{useGotoRecoilSnapshot:Wj,useRecoilSnapshot:Hj,useRecoilTransactionObserver:qj}=II,{useRecoilCallback:Gj}=$I,{noWait:Kj,waitForAll:Qj,waitForAllSettled:Yj,waitForAny:Xj,waitForNone:Jj}=bj;var gf={DefaultValue:xj,isRecoilValue:$j,RecoilLoadable:Ij,RecoilRoot:Aj,useRecoilStoreID:Nj,useRecoilBridgeAcrossReactRoots_UNSTABLE:Cz,atom:BI,selector:jo,atomFamily:lj,selectorFamily:Fi,constSelector:pj,errorSelector:yj,readOnlySelector:wj,noWait:Kj,waitForNone:Jj,waitForAny:Xj,waitForAll:Qj,waitForAllSettled:Yj,useRecoilValue:Uj,useRecoilValueLoadable:Fj,useRecoilState:Mj,useRecoilStateLoadable:Oj,useSetRecoilState:jj,useResetRecoilState:zj,useGetRecoilValueInfo_UNSTABLE:_z,useRecoilRefresher_UNSTABLE:t6,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Bj,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Vj,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Dj,useRecoilCallback:Gj,useRecoilTransaction_UNSTABLE:o6,useGotoRecoilSnapshot:Wj,useRecoilSnapshot:Hj,useRecoilTransactionObserver_UNSTABLE:qj,snapshot_UNSTABLE:Lj,useRetain:p0,retentionZone:Pj},Zj=gf.RecoilRoot,e8=gf.atom,t8=gf.useRecoilValue,n8=gf.useSetRecoilState;const qI=e8({key:"authUser",default:null,effects:[({setSelf:t,trigger:e})=>{let n;const r=new Promise(s=>{n=s});t(r);const i=QL(Ni,s=>{if(s){const{uid:o,email:a,displayName:l,photoURL:u}=s,c={uid:o,email:a,displayName:l,photoURL:u};n(c),t(c)}else n(null),t(null)});return()=>{i()}}]});function Qr(){return t8(qI)}function r8(){return n8(qI)}function i8(){const[t,e]=S.exports.useState(!1),[n,r]=S.exports.useState();return{signOut:async()=>(e(!0),await YL(Ni).then(()=>{console.log("signed out!")}).catch(s=>{r(s instanceof Error?s:Error("unecpected error!"))}).finally(()=>{e(!1)})),loading:t,error:n}}var _0={},qt={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(qt);var Hp={};function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G.apply(this,arguments)}function Fa(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Mr(t,e,n={clone:!0}){const r=n.clone?G({},t):t;return Fa(t)&&Fa(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Fa(e[i])&&i in t&&Fa(t[i])?r[i]=Mr(t[i],e[i],n):r[i]=e[i])}),r}function Wo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Je(t){if(typeof t!="string")throw new Error(Wo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function s8(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function o8(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function a8(t,e){return()=>null}function l8(t,e){return S.exports.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function GI(t){return t&&t.ownerDocument||document}function u8(t){return GI(t).defaultView||window}function c8(t,e){return()=>null}function $g(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const d8=typeof window<"u"?S.exports.useLayoutEffect:S.exports.useEffect,KI=d8;let rS=0;function h8(t){const[e,n]=S.exports.useState(t),r=t||e;return S.exports.useEffect(()=>{e==null&&(rS+=1,n(`mui-${rS}`))},[e]),r}const iS=Eo["useId"];function f8(t){if(iS!==void 0){const e=iS();return t!=null?t:e}return h8(t)}function p8(t,e,n,r,i){return null}function m8({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=S.exports.useRef(t!==void 0),[s,o]=S.exports.useState(e),a=i?t:s,l=S.exports.useCallback(u=>{i||o(u)},[]);return[a,l]}function Ba(t){const e=S.exports.useRef(t);return KI(()=>{e.current=t}),S.exports.useCallback((...n)=>(0,e.current)(...n),[])}function Fc(t,e){return S.exports.useMemo(()=>t==null&&e==null?null:n=>{$g(t,n),$g(e,n)},[t,e])}let yf=!0,Pg=!1,sS;const g8={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function y8(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&g8[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function v8(t){t.metaKey||t.altKey||t.ctrlKey||(yf=!0)}function qp(){yf=!1}function w8(){this.visibilityState==="hidden"&&Pg&&(yf=!0)}function _8(t){t.addEventListener("keydown",v8,!0),t.addEventListener("mousedown",qp,!0),t.addEventListener("pointerdown",qp,!0),t.addEventListener("touchstart",qp,!0),t.addEventListener("visibilitychange",w8,!0)}function S8(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return yf||y8(e)}function QI(){const t=S.exports.useCallback(i=>{i!=null&&_8(i.ownerDocument)},[]),e=S.exports.useRef(!1);function n(){return e.current?(Pg=!0,window.clearTimeout(sS),sS=window.setTimeout(()=>{Pg=!1},100),e.current=!1,!0):!1}function r(i){return S8(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function E8(t,e){const n=G({},e);return Object.keys(t).forEach(r=>{n[r]===void 0&&(n[r]=t[r])}),n}function Yr(t,e,n){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>(o&&(s.push(e(o)),n&&n[o]&&s.push(n[o])),s),[]).join(" ")}),r}const oS=t=>t,T8=()=>{let t=oS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=oS}}},R8=T8(),YI=R8,k8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function _r(t,e,n="Mui"){const r=k8[e];return r?`${n}-${r}`:`${YI.generate(t)}-${e}`}function Sr(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=_r(t,i,n)}),r}function nt(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function XI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=XI(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function St(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=XI(t))&&(r&&(r+=" "),r+=e);return r}function JI(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var C8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,b8=JI(function(t){return C8.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function I8(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function x8(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var A8=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(x8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=I8(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Dt="-ms-",Bd="-moz-",ke="-webkit-",ZI="comm",S0="rule",E0="decl",N8="@import",ex="@keyframes",$8=Math.abs,vf=String.fromCharCode,P8=Object.assign;function L8(t,e){return(((e<<2^dn(t,0))<<2^dn(t,1))<<2^dn(t,2))<<2^dn(t,3)}function tx(t){return t.trim()}function M8(t,e){return(t=e.exec(t))?t[0]:t}function xe(t,e,n){return t.replace(e,n)}function Lg(t,e){return t.indexOf(e)}function dn(t,e){return t.charCodeAt(e)|0}function Fl(t,e,n){return t.slice(e,n)}function sr(t){return t.length}function T0(t){return t.length}function gc(t,e){return e.push(t),t}function D8(t,e){return t.map(e).join("")}var wf=1,Ho=1,nx=0,_n=0,ut=0,aa="";function _f(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:wf,column:Ho,length:o,return:""}}function Ca(t,e){return P8(_f("",null,null,"",null,null,0),t,{length:-t.length},e)}function O8(){return ut}function U8(){return ut=_n>0?dn(aa,--_n):0,Ho--,ut===10&&(Ho=1,wf--),ut}function xn(){return ut=_n<nx?dn(aa,_n++):0,Ho++,ut===10&&(Ho=1,wf++),ut}function mr(){return dn(aa,_n)}function Bc(){return _n}function bu(t,e){return Fl(aa,t,e)}function Bl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rx(t){return wf=Ho=1,nx=sr(aa=t),_n=0,[]}function ix(t){return aa="",t}function zc(t){return tx(bu(_n-1,Mg(t===91?t+2:t===40?t+1:t)))}function V8(t){for(;(ut=mr())&&ut<33;)xn();return Bl(t)>2||Bl(ut)>3?"":" "}function F8(t,e){for(;--e&&xn()&&!(ut<48||ut>102||ut>57&&ut<65||ut>70&&ut<97););return bu(t,Bc()+(e<6&&mr()==32&&xn()==32))}function Mg(t){for(;xn();)switch(ut){case t:return _n;case 34:case 39:t!==34&&t!==39&&Mg(ut);break;case 40:t===41&&Mg(t);break;case 92:xn();break}return _n}function B8(t,e){for(;xn()&&t+ut!==47+10;)if(t+ut===42+42&&mr()===47)break;return"/*"+bu(e,_n-1)+"*"+vf(t===47?t:xn())}function z8(t){for(;!Bl(mr());)xn();return bu(t,_n)}function j8(t){return ix(jc("",null,null,null,[""],t=rx(t),0,[0],t))}function jc(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,p=0,f=0,m=1,E=1,y=1,g=0,v="",_=i,C=s,I=r,b=v;E;)switch(f=g,g=xn()){case 40:if(f!=108&&b.charCodeAt(d-1)==58){Lg(b+=xe(zc(g),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:b+=zc(g);break;case 9:case 10:case 13:case 32:b+=V8(f);break;case 92:b+=F8(Bc()-1,7);continue;case 47:switch(mr()){case 42:case 47:gc(W8(B8(xn(),Bc()),e,n),l);break;default:b+="/"}break;case 123*m:a[u++]=sr(b)*y;case 125*m:case 59:case 0:switch(g){case 0:case 125:E=0;case 59+c:p>0&&sr(b)-d&&gc(p>32?lS(b+";",r,n,d-1):lS(xe(b," ","")+";",r,n,d-2),l);break;case 59:b+=";";default:if(gc(I=aS(b,e,n,u,c,i,a,v,_=[],C=[],d),s),g===123)if(c===0)jc(b,e,I,I,_,s,d,a,C);else switch(h){case 100:case 109:case 115:jc(t,I,I,r&&gc(aS(t,I,I,0,0,i,a,v,i,_=[],d),C),i,C,d,a,r?_:C);break;default:jc(b,I,I,I,[""],C,0,a,C)}}u=c=p=0,m=y=1,v=b="",d=o;break;case 58:d=1+sr(b),p=f;default:if(m<1){if(g==123)--m;else if(g==125&&m++==0&&U8()==125)continue}switch(b+=vf(g),g*m){case 38:y=c>0?1:(b+="\f",-1);break;case 44:a[u++]=(sr(b)-1)*y,y=1;break;case 64:mr()===45&&(b+=zc(xn())),h=mr(),c=d=sr(v=b+=z8(Bc())),g++;break;case 45:f===45&&sr(b)==2&&(m=0)}}return s}function aS(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],p=T0(h),f=0,m=0,E=0;f<r;++f)for(var y=0,g=Fl(t,d+1,d=$8(m=o[f])),v=t;y<p;++y)(v=tx(m>0?h[y]+" "+g:xe(g,/&\f/g,h[y])))&&(l[E++]=v);return _f(t,e,n,i===0?S0:a,l,u,c)}function W8(t,e,n){return _f(t,e,n,ZI,vf(O8()),Fl(t,2,-2),0)}function lS(t,e,n,r){return _f(t,e,n,E0,Fl(t,0,r),Fl(t,r+1,-1),r)}function sx(t,e){switch(L8(t,e)){case 5103:return ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+t+Bd+t+Dt+t+t;case 6828:case 4268:return ke+t+Dt+t+t;case 6165:return ke+t+Dt+"flex-"+t+t;case 5187:return ke+t+xe(t,/(\w+).+(:[^]+)/,ke+"box-$1$2"+Dt+"flex-$1$2")+t;case 5443:return ke+t+Dt+"flex-item-"+xe(t,/flex-|-self/,"")+t;case 4675:return ke+t+Dt+"flex-line-pack"+xe(t,/align-content|flex-|-self/,"")+t;case 5548:return ke+t+Dt+xe(t,"shrink","negative")+t;case 5292:return ke+t+Dt+xe(t,"basis","preferred-size")+t;case 6060:return ke+"box-"+xe(t,"-grow","")+ke+t+Dt+xe(t,"grow","positive")+t;case 4554:return ke+xe(t,/([^-])(transform)/g,"$1"+ke+"$2")+t;case 6187:return xe(xe(xe(t,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),t,"")+t;case 5495:case 3959:return xe(t,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return xe(xe(t,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+Dt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+t+t;case 4095:case 3583:case 4068:case 2532:return xe(t,/(.+)-inline(.+)/,ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(sr(t)-1-e>6)switch(dn(t,e+1)){case 109:if(dn(t,e+4)!==45)break;case 102:return xe(t,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+Bd+(dn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Lg(t,"stretch")?sx(xe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(dn(t,e+1)!==115)break;case 6444:switch(dn(t,sr(t)-3-(~Lg(t,"!important")&&10))){case 107:return xe(t,":",":"+ke)+t;case 101:return xe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ke+(dn(t,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+Dt+"$2box$3")+t}break;case 5936:switch(dn(t,e+11)){case 114:return ke+t+Dt+xe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ke+t+Dt+xe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ke+t+Dt+xe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ke+t+Dt+t+t}return t}function _o(t,e){for(var n="",r=T0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function H8(t,e,n,r){switch(t.type){case N8:case E0:return t.return=t.return||t.value;case ZI:return"";case ex:return t.return=t.value+"{"+_o(t.children,r)+"}";case S0:t.value=t.props.join(",")}return sr(n=_o(t.children,r))?t.return=t.value+"{"+n+"}":""}function q8(t){var e=T0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function G8(t){return function(e){e.root||(e=e.return)&&t(e)}}function K8(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case E0:t.return=sx(t.value,t.length);break;case ex:return _o([Ca(t,{value:xe(t.value,"@","@"+ke)})],r);case S0:if(t.length)return D8(t.props,function(i){switch(M8(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _o([Ca(t,{props:[xe(i,/:(read-\w+)/,":"+Bd+"$1")]})],r);case"::placeholder":return _o([Ca(t,{props:[xe(i,/:(plac\w+)/,":"+ke+"input-$1")]}),Ca(t,{props:[xe(i,/:(plac\w+)/,":"+Bd+"$1")]}),Ca(t,{props:[xe(i,/:(plac\w+)/,Dt+"input-$1")]})],r)}return""})}}var Q8=function(e,n,r){for(var i=0,s=0;i=s,s=mr(),i===38&&s===12&&(n[r]=1),!Bl(s);)xn();return bu(e,_n)},Y8=function(e,n){var r=-1,i=44;do switch(Bl(i)){case 0:i===38&&mr()===12&&(n[r]=1),e[r]+=Q8(_n-1,n,r);break;case 2:e[r]+=zc(i);break;case 4:if(i===44){e[++r]=mr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=vf(i)}while(i=xn());return e},X8=function(e,n){return ix(Y8(rx(e),n))},uS=new WeakMap,J8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!uS.get(r))&&!i){uS.set(e,!0);for(var s=[],o=X8(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},Z8=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},e9=[K8],t9=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var E=m.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||e9,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var E=m.getAttribute("data-emotion").split(" "),y=1;y<E.length;y++)s[E[y]]=!0;a.push(m)});var l,u=[J8,Z8];{var c,d=[H8,G8(function(m){c.insert(m)})],h=q8(u.concat(i,d)),p=function(E){return _o(j8(E),h)};l=function(E,y,g,v){c=g,p(E?E+"{"+y.styles+"}":y.styles),v&&(f.inserted[y.name]=!0)}}var f={key:n,sheet:new A8({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return f.sheet.hydrate(a),f},ox={exports:{}},$e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt=typeof Symbol=="function"&&Symbol.for,R0=kt?Symbol.for("react.element"):60103,k0=kt?Symbol.for("react.portal"):60106,Sf=kt?Symbol.for("react.fragment"):60107,Ef=kt?Symbol.for("react.strict_mode"):60108,Tf=kt?Symbol.for("react.profiler"):60114,Rf=kt?Symbol.for("react.provider"):60109,kf=kt?Symbol.for("react.context"):60110,C0=kt?Symbol.for("react.async_mode"):60111,Cf=kt?Symbol.for("react.concurrent_mode"):60111,bf=kt?Symbol.for("react.forward_ref"):60112,If=kt?Symbol.for("react.suspense"):60113,n9=kt?Symbol.for("react.suspense_list"):60120,xf=kt?Symbol.for("react.memo"):60115,Af=kt?Symbol.for("react.lazy"):60116,r9=kt?Symbol.for("react.block"):60121,i9=kt?Symbol.for("react.fundamental"):60117,s9=kt?Symbol.for("react.responder"):60118,o9=kt?Symbol.for("react.scope"):60119;function Mn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case R0:switch(t=t.type,t){case C0:case Cf:case Sf:case Tf:case Ef:case If:return t;default:switch(t=t&&t.$$typeof,t){case kf:case bf:case Af:case xf:case Rf:return t;default:return e}}case k0:return e}}}function ax(t){return Mn(t)===Cf}$e.AsyncMode=C0;$e.ConcurrentMode=Cf;$e.ContextConsumer=kf;$e.ContextProvider=Rf;$e.Element=R0;$e.ForwardRef=bf;$e.Fragment=Sf;$e.Lazy=Af;$e.Memo=xf;$e.Portal=k0;$e.Profiler=Tf;$e.StrictMode=Ef;$e.Suspense=If;$e.isAsyncMode=function(t){return ax(t)||Mn(t)===C0};$e.isConcurrentMode=ax;$e.isContextConsumer=function(t){return Mn(t)===kf};$e.isContextProvider=function(t){return Mn(t)===Rf};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===R0};$e.isForwardRef=function(t){return Mn(t)===bf};$e.isFragment=function(t){return Mn(t)===Sf};$e.isLazy=function(t){return Mn(t)===Af};$e.isMemo=function(t){return Mn(t)===xf};$e.isPortal=function(t){return Mn(t)===k0};$e.isProfiler=function(t){return Mn(t)===Tf};$e.isStrictMode=function(t){return Mn(t)===Ef};$e.isSuspense=function(t){return Mn(t)===If};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sf||t===Cf||t===Tf||t===Ef||t===If||t===n9||typeof t=="object"&&t!==null&&(t.$$typeof===Af||t.$$typeof===xf||t.$$typeof===Rf||t.$$typeof===kf||t.$$typeof===bf||t.$$typeof===i9||t.$$typeof===s9||t.$$typeof===o9||t.$$typeof===r9)};$e.typeOf=Mn;(function(t){t.exports=$e})(ox);var lx=ox.exports,a9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ux={};ux[lx.ForwardRef]=a9;ux[lx.Memo]=l9;var u9=!0;function c9(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var cx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||u9===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},d9=function(e,n,r){cx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function h9(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var f9={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},p9=/[A-Z]|^ms/g,m9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dx=function(e){return e.charCodeAt(1)===45},cS=function(e){return e!=null&&typeof e!="boolean"},Gp=JI(function(t){return dx(t)?t:t.replace(p9,"-$&").toLowerCase()}),dS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(m9,function(r,i,s){return or={name:i,styles:s,next:or},i})}return f9[e]!==1&&!dx(e)&&typeof n=="number"&&n!==0?n+"px":n};function zl(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return or={name:n.name,styles:n.styles,next:or},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)or={name:r.name,styles:r.styles,next:or},r=r.next;var i=n.styles+";";return i}return g9(t,e,n)}case"function":{if(t!==void 0){var s=or,o=n(t);return or=s,zl(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function g9(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=zl(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":cS(o)&&(r+=Gp(s)+":"+dS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)cS(o[a])&&(r+=Gp(s)+":"+dS(s,o[a])+";");else{var l=zl(t,e,o);switch(s){case"animation":case"animationName":{r+=Gp(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var hS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,or,hx=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";or=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=zl(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=zl(r,n,e[a]),i&&(s+=o[a]);hS.lastIndex=0;for(var l="",u;(u=hS.exec(s))!==null;)l+="-"+u[1];var c=h9(s)+l;return{name:c,styles:s,next:or}},y9=function(e){return e()},v9=Eo["useInsertionEffect"]?Eo["useInsertionEffect"]:!1,w9=v9||y9,fx=S.exports.createContext(typeof HTMLElement<"u"?t9({key:"css"}):null);fx.Provider;var _9=function(e){return S.exports.forwardRef(function(n,r){var i=S.exports.useContext(fx);return e(n,i,r)})},S9=S.exports.createContext({});function jl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return hx(e)}var Ps=function(){var e=jl.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},E9=b8,T9=function(e){return e!=="theme"},fS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?E9:T9},pS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},R9=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return cx(n,r,i),w9(function(){return d9(n,r,i)}),null},k9=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=pS(e,n,r),l=a||fS(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,p=1;p<h;p++)d.push(c[p],c[0][p])}var f=_9(function(m,E,y){var g=u&&m.as||i,v="",_=[],C=m;if(m.theme==null){C={};for(var I in m)C[I]=m[I];C.theme=S.exports.useContext(S9)}typeof m.className=="string"?v=c9(E.registered,_,m.className):m.className!=null&&(v=m.className+" ");var b=hx(d.concat(_),E.registered,C);v+=E.key+"-"+b.name,o!==void 0&&(v+=" "+o);var $=u&&a===void 0?fS(g):l,Z={};for(var x in m)u&&x==="as"||$(x)&&(Z[x]=m[x]);return Z.className=v,Z.ref=y,S.exports.createElement(S.exports.Fragment,null,S.exports.createElement(R9,{cache:E,serialized:b,isStringTag:typeof g=="string"}),S.exports.createElement(g,Z))});return f.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=e.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=a,Object.defineProperty(f,"toString",{value:function(){return"."+o}}),f.withComponent=function(m,E){return t(m,G({},n,E,{shouldForwardProp:pS(f,E,!0)})).apply(void 0,d)},f}},C9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Dg=k9.bind();C9.forEach(function(t){Dg[t]=Dg(t)});const b9=Dg;/** @license MUI v5.10.7
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function I9(t,e){return b9(t,e)}const x9=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function ol(t,e){return e?Mr(t,e,{clone:!1}):t}const b0={xs:0,sm:600,md:900,lg:1200,xl:1536},mS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${b0[t]}px)`};function Bi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||mS;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||mS;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||b0).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function A9(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function N9(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function I0(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function gS(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=I0(t,n)||r,e&&(i=e(i)),i}function W(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=I0(l,r)||{};return Bi(o,a,d=>{let h=gS(u,i,d);return d===h&&typeof d=="string"&&(h=gS(u,i,`${e}${d==="default"?"":Je(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function zi(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?ol(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function $9(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const P9={m:"margin",p:"padding"},L9={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},yS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},M9=$9(t=>{if(t.length>2)if(yS[t])t=yS[t];else return[t];const[e,n]=t.split(""),r=P9[e],i=L9[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),D9=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],O9=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],px=[...D9,...O9];function Iu(t,e,n,r){var i;const s=(i=I0(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function mx(t){return Iu(t,"spacing",8)}function xu(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function U9(t,e){return n=>t.reduce((r,i)=>(r[i]=xu(e,n),r),{})}function V9(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=M9(n),s=U9(i,r),o=t[n];return Bi(t,o,s)}function F9(t,e){const n=mx(t.theme);return Object.keys(t).map(r=>V9(t,e,r,n)).reduce(ol,{})}function Nf(t){return F9(t,px)}Nf.propTypes={};Nf.filterProps=px;function Au(t){return typeof t!="number"?t:`${t}px solid`}const B9=W({prop:"border",themeKey:"borders",transform:Au}),z9=W({prop:"borderTop",themeKey:"borders",transform:Au}),j9=W({prop:"borderRight",themeKey:"borders",transform:Au}),W9=W({prop:"borderBottom",themeKey:"borders",transform:Au}),H9=W({prop:"borderLeft",themeKey:"borders",transform:Au}),q9=W({prop:"borderColor",themeKey:"palette"}),G9=W({prop:"borderTopColor",themeKey:"palette"}),K9=W({prop:"borderRightColor",themeKey:"palette"}),Q9=W({prop:"borderBottomColor",themeKey:"palette"}),Y9=W({prop:"borderLeftColor",themeKey:"palette"}),x0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Iu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:xu(e,r)});return Bi(t,t.borderRadius,n)}return null};x0.propTypes={};x0.filterProps=["borderRadius"];const X9=zi(B9,z9,j9,W9,H9,q9,G9,K9,Q9,Y9,x0),gx=X9,J9=W({prop:"displayPrint",cssProperty:!1,transform:t=>({"@media print":{display:t}})}),Z9=W({prop:"display"}),eW=W({prop:"overflow"}),tW=W({prop:"textOverflow"}),nW=W({prop:"visibility"}),rW=W({prop:"whiteSpace"}),yx=zi(J9,Z9,eW,tW,nW,rW),iW=W({prop:"flexBasis"}),sW=W({prop:"flexDirection"}),oW=W({prop:"flexWrap"}),aW=W({prop:"justifyContent"}),lW=W({prop:"alignItems"}),uW=W({prop:"alignContent"}),cW=W({prop:"order"}),dW=W({prop:"flex"}),hW=W({prop:"flexGrow"}),fW=W({prop:"flexShrink"}),pW=W({prop:"alignSelf"}),mW=W({prop:"justifyItems"}),gW=W({prop:"justifySelf"}),yW=zi(iW,sW,oW,aW,lW,uW,cW,dW,hW,fW,pW,mW,gW),vx=yW,A0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Iu(t.theme,"spacing",8),n=r=>({gap:xu(e,r)});return Bi(t,t.gap,n)}return null};A0.propTypes={};A0.filterProps=["gap"];const N0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Iu(t.theme,"spacing",8),n=r=>({columnGap:xu(e,r)});return Bi(t,t.columnGap,n)}return null};N0.propTypes={};N0.filterProps=["columnGap"];const $0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Iu(t.theme,"spacing",8),n=r=>({rowGap:xu(e,r)});return Bi(t,t.rowGap,n)}return null};$0.propTypes={};$0.filterProps=["rowGap"];const vW=W({prop:"gridColumn"}),wW=W({prop:"gridRow"}),_W=W({prop:"gridAutoFlow"}),SW=W({prop:"gridAutoColumns"}),EW=W({prop:"gridAutoRows"}),TW=W({prop:"gridTemplateColumns"}),RW=W({prop:"gridTemplateRows"}),kW=W({prop:"gridTemplateAreas"}),CW=W({prop:"gridArea"}),bW=zi(A0,N0,$0,vW,wW,_W,SW,EW,TW,RW,kW,CW),wx=bW,IW=W({prop:"color",themeKey:"palette"}),xW=W({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),AW=W({prop:"backgroundColor",themeKey:"palette"}),NW=zi(IW,xW,AW),_x=NW,$W=W({prop:"position"}),PW=W({prop:"zIndex",themeKey:"zIndex"}),LW=W({prop:"top"}),MW=W({prop:"right"}),DW=W({prop:"bottom"}),OW=W({prop:"left"}),Sx=zi($W,PW,LW,MW,DW,OW),UW=W({prop:"boxShadow",themeKey:"shadows"}),Ex=UW;function ji(t){return t<=1&&t!==0?`${t*100}%`:t}const VW=W({prop:"width",transform:ji}),Tx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||b0[n]||ji(n)}};return Bi(t,t.maxWidth,e)}return null};Tx.filterProps=["maxWidth"];const FW=W({prop:"minWidth",transform:ji}),BW=W({prop:"height",transform:ji}),zW=W({prop:"maxHeight",transform:ji}),jW=W({prop:"minHeight",transform:ji});W({prop:"size",cssProperty:"width",transform:ji});W({prop:"size",cssProperty:"height",transform:ji});const WW=W({prop:"boxSizing"}),HW=zi(VW,Tx,FW,BW,zW,jW,WW),Rx=HW,qW=W({prop:"fontFamily",themeKey:"typography"}),GW=W({prop:"fontSize",themeKey:"typography"}),KW=W({prop:"fontStyle",themeKey:"typography"}),QW=W({prop:"fontWeight",themeKey:"typography"}),YW=W({prop:"letterSpacing"}),XW=W({prop:"textTransform"}),JW=W({prop:"lineHeight"}),ZW=W({prop:"textAlign"}),eH=W({prop:"typography",cssProperty:!1,themeKey:"typography"}),tH=zi(eH,qW,GW,KW,QW,YW,JW,ZW,XW),kx=tH,vS={borders:gx.filterProps,display:yx.filterProps,flexbox:vx.filterProps,grid:wx.filterProps,positions:Sx.filterProps,palette:_x.filterProps,shadows:Ex.filterProps,sizing:Rx.filterProps,spacing:Nf.filterProps,typography:kx.filterProps},Cx={borders:gx,display:yx,flexbox:vx,grid:wx,positions:Sx,palette:_x,shadows:Ex,sizing:Rx,spacing:Nf,typography:kx},nH=Object.keys(vS).reduce((t,e)=>(vS[e].forEach(n=>{t[n]=Cx[e]}),t),{});function rH(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function iH(t,e){return typeof t=="function"?t(e):t}function sH(t=Cx){const e=Object.keys(t).reduce((i,s)=>(t[s].filterProps.forEach(o=>{i[o]=t[s]}),i),{});function n(i,s,o){const a={[i]:s,theme:o},l=e[i];return l?l(a):{[i]:s}}function r(i){const{sx:s,theme:o={}}=i||{};if(!s)return null;function a(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=A9(o.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(p=>{const f=iH(u[p],o);if(f!=null)if(typeof f=="object")if(e[p])h=ol(h,n(p,f,o));else{const m=Bi({theme:o},f,E=>({[p]:E}));rH(m,f)?h[p]=r({sx:f,theme:o}):h=ol(h,m)}else h=ol(h,n(p,f,o))}),N9(d,h)}return Array.isArray(s)?s.map(a):a(s)}return r}const bx=sH();bx.filterProps=["sx"];const oH=bx,aH=["sx"],lH=t=>{const e={systemProps:{},otherProps:{}};return Object.keys(t).forEach(n=>{nH[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function uH(t){const{sx:e}=t,n=nt(t,aH),{systemProps:r,otherProps:i}=lH(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Fa(a)?G({},r,a):r}:s=G({},r,e),G({},i,{sx:s})}const cH=["values","unit","step"],dH=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>G({},n,{[r.key]:r.val}),{})};function hH(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=nt(t,cH),s=dH(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,p){const f=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(f!==-1&&typeof e[o[f]]=="number"?e[o[f]]:p)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return G({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const fH={borderRadius:4},pH=fH;function mH(t=8){if(t.mui)return t;const e=mx({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const gH=["breakpoints","palette","spacing","shape"];function P0(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=nt(t,gH),a=hH(n),l=mH(i);let u=Mr({breakpoints:a,direction:"ltr",components:{},palette:G({mode:"light"},r),spacing:l,shape:G({},pH,s)},o);return u=e.reduce((c,d)=>Mr(c,d),u),u}const yH=S.exports.createContext(null),vH=yH;function wH(){return S.exports.useContext(vH)}function _H(t){return Object.keys(t).length===0}function SH(t=null){const e=wH();return!e||_H(e)?t:e}const EH=P0();function TH(t=EH){return SH(t)}const RH=["variant"];function wS(t){return t.length===0}function Ix(t){const{variant:e}=t,n=nt(t,RH);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=wS(r)?t[i]:Je(t[i]):r+=`${wS(r)?i:Je(i)}${Je(t[i].toString())}`}),r}const kH=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],CH=["theme"],bH=["theme"];function ba(t){return Object.keys(t).length===0}function IH(t){return typeof t=="string"&&t.charCodeAt(0)>96}const xH=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,AH=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=Ix(i.props);r[s]=i.style}),r},NH=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(d=>{o[d]!==u.props[d]&&t[d]!==u.props[d]&&(c=!1)}),c&&a.push(e[Ix(u.props)])}),a};function Wc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const $H=P0();function PH(t={}){const{defaultTheme:e=$H,rootShouldForwardProp:n=Wc,slotShouldForwardProp:r=Wc,styleFunctionSx:i=oH}=t,s=o=>{const a=ba(o.theme)?e:o.theme;return i(G({},o,{theme:a}))};return s.__mui_systemSx=!0,(o,a={})=>{x9(o,_=>_.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h}=a,p=nt(a,kH),f=c!==void 0?c:u&&u!=="Root"||!1,m=d||!1;let E,y=Wc;u==="Root"?y=n:u?y=r:IH(o)&&(y=void 0);const g=I9(o,G({shouldForwardProp:y,label:E},p)),v=(_,...C)=>{const I=C?C.map(x=>typeof x=="function"&&x.__emotion_real!==x?ee=>{let{theme:pe}=ee,me=nt(ee,CH);return x(G({theme:ba(pe)?e:pe},me))}:x):[];let b=_;l&&h&&I.push(x=>{const ee=ba(x.theme)?e:x.theme,pe=xH(l,ee);if(pe){const me={};return Object.entries(pe).forEach(([re,Pe])=>{me[re]=typeof Pe=="function"?Pe(G({},x,{theme:ee})):Pe}),h(x,me)}return null}),l&&!f&&I.push(x=>{const ee=ba(x.theme)?e:x.theme;return NH(x,AH(l,ee),ee,l)}),m||I.push(s);const $=I.length-C.length;if(Array.isArray(_)&&$>0){const x=new Array($).fill("");b=[..._,...x],b.raw=[..._.raw,...x]}else typeof _=="function"&&_.__emotion_real!==_&&(b=x=>{let{theme:ee}=x,pe=nt(x,bH);return _(G({theme:ba(ee)?e:ee},pe))});return g(b,...I)};return g.withConfig&&(v.withConfig=g.withConfig),v}}function LH(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:E8(e.components[n].defaultProps,r)}function MH({props:t,name:e,defaultTheme:n}){const r=TH(n);return LH({theme:r,name:e,props:t})}function L0(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function DH(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Rs(t){if(t.type)return t;if(t.charAt(0)==="#")return Rs(DH(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Wo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Wo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function $f(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function OH(t){t=Rs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),$f({type:a,values:l})}function _S(t){t=Rs(t);let e=t.type==="hsl"||t.type==="hsla"?Rs(OH(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function UH(t,e){const n=_S(t),r=_S(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Wl(t,e){return t=Rs(t),e=L0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,$f(t)}function Og(t,e){if(t=Rs(t),e=L0(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return $f(t)}function Ug(t,e){if(t=Rs(t),e=L0(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return $f(t)}function VH(t,e){return G({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const FH={black:"#000",white:"#fff"},Hl=FH,BH={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},zH=BH,jH={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Fs=jH,WH={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Bs=WH,HH={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ia=HH,qH={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},zs=qH,GH={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},js=GH,KH={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ws=KH,QH=["mode","contrastThreshold","tonalOffset"],SS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hl.white,default:Hl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Kp={text:{primary:Hl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ES(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Ug(t.main,i):e==="dark"&&(t.dark=Og(t.main,s)))}function YH(t="light"){return t==="dark"?{main:zs[200],light:zs[50],dark:zs[400]}:{main:zs[700],light:zs[400],dark:zs[800]}}function XH(t="light"){return t==="dark"?{main:Fs[200],light:Fs[50],dark:Fs[400]}:{main:Fs[500],light:Fs[300],dark:Fs[700]}}function JH(t="light"){return t==="dark"?{main:Bs[500],light:Bs[300],dark:Bs[700]}:{main:Bs[700],light:Bs[400],dark:Bs[800]}}function ZH(t="light"){return t==="dark"?{main:js[400],light:js[300],dark:js[700]}:{main:js[700],light:js[500],dark:js[900]}}function e7(t="light"){return t==="dark"?{main:Ws[400],light:Ws[300],dark:Ws[700]}:{main:Ws[800],light:Ws[500],dark:Ws[900]}}function t7(t="light"){return t==="dark"?{main:Ia[400],light:Ia[300],dark:Ia[700]}:{main:"#ed6c02",light:Ia[500],dark:Ia[900]}}function n7(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=nt(t,QH),s=t.primary||YH(e),o=t.secondary||XH(e),a=t.error||JH(e),l=t.info||ZH(e),u=t.success||e7(e),c=t.warning||t7(e);function d(m){return UH(m,Kp.text.primary)>=n?Kp.text.primary:SS.text.primary}const h=({color:m,name:E,mainShade:y=500,lightShade:g=300,darkShade:v=700})=>{if(m=G({},m),!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(Wo(11,E?` (${E})`:"",y));if(typeof m.main!="string")throw new Error(Wo(12,E?` (${E})`:"",JSON.stringify(m.main)));return ES(m,"light",g,r),ES(m,"dark",v,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:Kp,light:SS};return Mr(G({common:G({},Hl),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:zH,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),i)}const r7=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function i7(t){return Math.round(t*1e5)/1e5}const TS={textTransform:"uppercase"},RS='"Roboto", "Helvetica", "Arial", sans-serif';function s7(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=RS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=nt(n,r7),p=i/14,f=d||(y=>`${y/u*p}rem`),m=(y,g,v,_,C)=>G({fontFamily:r,fontWeight:y,fontSize:f(g),lineHeight:v},r===RS?{letterSpacing:`${i7(_/g)}em`}:{},C,c),E={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,TS),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,TS)};return Mr(G({htmlFontSize:u,pxToRem:f,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),h,{clone:!1})}const o7=.2,a7=.14,l7=.12;function je(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${o7})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${a7})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${l7})`].join(",")}const u7=["none",je(0,2,1,-1,0,1,1,0,0,1,3,0),je(0,3,1,-2,0,2,2,0,0,1,5,0),je(0,3,3,-2,0,3,4,0,0,1,8,0),je(0,2,4,-1,0,4,5,0,0,1,10,0),je(0,3,5,-1,0,5,8,0,0,1,14,0),je(0,3,5,-1,0,6,10,0,0,1,18,0),je(0,4,5,-2,0,7,10,1,0,2,16,1),je(0,5,5,-3,0,8,10,1,0,3,14,2),je(0,5,6,-3,0,9,12,1,0,3,16,2),je(0,6,6,-3,0,10,14,1,0,4,18,3),je(0,6,7,-4,0,11,15,1,0,4,20,3),je(0,7,8,-4,0,12,17,2,0,5,22,4),je(0,7,8,-4,0,13,19,2,0,5,24,4),je(0,7,9,-4,0,14,21,2,0,5,26,4),je(0,8,9,-5,0,15,22,2,0,6,28,5),je(0,8,10,-5,0,16,24,2,0,6,30,5),je(0,8,11,-5,0,17,26,2,0,6,32,5),je(0,9,11,-5,0,18,28,2,0,7,34,6),je(0,9,12,-6,0,19,29,2,0,7,36,6),je(0,10,13,-6,0,20,31,3,0,8,38,7),je(0,10,13,-6,0,21,33,3,0,8,40,7),je(0,10,14,-6,0,22,35,3,0,8,42,7),je(0,11,14,-7,0,23,36,3,0,9,44,8),je(0,11,15,-7,0,24,38,3,0,9,46,8)],c7=u7,d7=["duration","easing","delay"],h7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},f7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function kS(t){return`${Math.round(t)}ms`}function p7(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function m7(t){const e=G({},h7,t.easing),n=G({},f7,t.duration);return G({getAutoHeightDuration:p7,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return nt(s,d7),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:kS(o)} ${a} ${typeof l=="string"?l:kS(l)}`).join(",")}},t,{easing:e,duration:n})}const g7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},y7=g7,v7=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function w7(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=nt(t,v7);if(t.vars)throw new Error(Wo(18));const a=n7(r),l=P0(t);let u=Mr(l,{mixins:VH(l.breakpoints,n),palette:a,shadows:c7.slice(),typography:s7(a,s),transitions:m7(i),zIndex:G({},y7)});return u=Mr(u,o),u=e.reduce((c,d)=>Mr(c,d),u),u}const _7=w7(),xx=_7;function Er({props:t,name:e}){return MH({props:t,name:e,defaultTheme:xx})}const S7=t=>Wc(t)&&t!=="classes",E7=PH({defaultTheme:xx,rootShouldForwardProp:S7}),Gt=E7;function T7(t){return _r("MuiSvgIcon",t)}Sr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const R7=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],k7=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Je(e)}`,`fontSize${Je(n)}`]};return Yr(i,T7,r)},C7=Gt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Je(n.color)}`],e[`fontSize${Je(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,p,f,m,E,y,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=t.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(p=(t.vars||t).palette)==null||(f=p[e.color])==null?void 0:f.main)!=null?h:{action:(m=(t.vars||t).palette)==null||(E=m.action)==null?void 0:E.active,disabled:(y=(t.vars||t).palette)==null||(g=y.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),Ax=S.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=nt(r,R7),f=G({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h}),m={};c||(m.viewBox=h);const E=k7(f);return z(C7,G({as:a,className:St(E.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},m,p,{ownerState:f,children:[i,d?w("title",{children:d}):null]}))});Ax.muiName="SvgIcon";const CS=Ax;function la(t,e){const n=(r,i)=>w(CS,G({"data-testid":`${e}Icon`,ref:i},r,{children:t}));return n.muiName=CS.muiName,S.exports.memo(S.exports.forwardRef(n))}const b7={configure:t=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join(`
`)),YI.configure(t)}},I7=Object.freeze(Object.defineProperty({__proto__:null,unstable_ClassNameGenerator:b7,capitalize:Je,createChainedFunction:s8,createSvgIcon:la,debounce:o8,deprecatedPropType:a8,isMuiElement:l8,ownerDocument:GI,ownerWindow:u8,requirePropFactory:c8,setRef:$g,unstable_useEnhancedEffect:KI,unstable_useId:f8,unsupportedProp:p8,useControlled:m8,useEventCallback:Ba,useForkRef:Fc,useIsFocusVisible:QI},Symbol.toStringTag,{value:"Module"})),x7=tE(I7);var bS;function sn(){return bS||(bS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=x7}(Hp)),Hp}const on=tE(q2);var A7=qt.exports;Object.defineProperty(_0,"__esModule",{value:!0});var Nx=_0.default=void 0,N7=A7(sn()),$7=on,P7=(0,N7.default)((0,$7.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");Nx=_0.default=P7;const L7="_header_94q4c_1",M7="_notLogin_94q4c_12",D7="_login_94q4c_15",O7="_logo_94q4c_29",U7="_profile_94q4c_40",V7="_avatar_94q4c_54",Hs={header:L7,notLogin:M7,login:D7,logo:O7,profile:U7,avatar:V7},Nu=()=>{const{toStart:t,toHome:e,toProfile:n}=ht(),r=Qr(),{signOut:i,loading:s,error:o}=i8(),{uid:a}=Ht();return z("header",{className:`${Hs.header} ${r?Hs.login:Hs.notLogin}`,children:[w("img",{src:yR,alt:"logo",width:"200px",height:"67px",onClick:()=>r?e(r.uid):t(),style:{cursor:"pointer"},className:Hs.logo}),r&&z("div",{className:Hs.profile,children:[w("p",{children:r.displayName}),w("img",{src:r.photoURL,alt:"",className:Hs.avatar,onClick:()=>n(a)}),w(Qe,{type:"button",variant:"outlined",color:"primary",onClick:i,startIcon:w(Nx,{}),header:!0,children:"Sign Out"})]})]})},F7="_form_i8wuj_1",B7="_title_i8wuj_12",IS={form:F7,title:B7},Ls=({children:t,title:e,secondTitle:n,onSubmit:r,startIcon:i})=>z("form",{className:IS.form,onSubmit:r,children:[z("h2",{className:IS.title,children:[i,e,n&&z(Tt,{children:[w("br",{}),n]})]}),t]}),z7="_input_u16d7_1",j7={input:z7},Dr=S.exports.forwardRef(({type:t="text",placeholder:e,label:n,required:r=!0,defaultValue:i},s)=>z("label",{className:j7.input,children:[n,w("input",{type:t,placeholder:e,required:r,ref:s,defaultValue:i})]})),W7="_buttonGroup_1vtp4_1",H7={buttonGroup:W7};function q7(){const[t,e]=S.exports.useState(!1),[n,r]=S.exports.useState(),{toHome:i,toRedirect:s}=ht();return{signIn:async(a,l)=>(e(!0),await KL(Ni,qy).then(async()=>await qL(Ni,a,l).then(u=>{console.log("signed in!"),i(u.user.uid,{title:"Success",status:"success",text:"Login succeeded."})}).catch(u=>{r(u instanceof Error?u:Error("unecpected error!")),s({title:"Error",status:"error",text:"Login failed.",strong:n==null?void 0:n.message})}).finally(()=>{e(!1)}))),loading:t,error:n}}function Qp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function Yp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}var $x=typeof window<"u",G7=function(t){return(t+1)%1e6};function K7(){var t=S.exports.useReducer(G7,0),e=t[1];return e}function Q7(t,e){e===void 0&&(e=0);var n=S.exports.useRef(!1),r=S.exports.useRef(),i=S.exports.useRef(t),s=S.exports.useCallback(function(){return n.current},[]),o=S.exports.useCallback(function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout(function(){n.current=!0,i.current()},e)},[e]),a=S.exports.useCallback(function(){n.current=null,r.current&&clearTimeout(r.current)},[]);return S.exports.useEffect(function(){i.current=t},[t]),S.exports.useEffect(function(){return o(),a},[e]),[s,a,o]}var xS=function(t){var e=window.history,n=e[t];e[t]=function(r){var i=n.apply(this,arguments),s=new Event(t.toLowerCase());return s.state=r,window.dispatchEvent(s),i}};$x&&(xS("pushState"),xS("replaceState"));var Y7=function(){return{trigger:"load",length:1}},yc=function(t){var e=window.history,n=e.state,r=e.length,i=window.location,s=i.hash,o=i.host,a=i.hostname,l=i.href,u=i.origin,c=i.pathname,d=i.port,h=i.protocol,p=i.search;return{trigger:t,state:n,length:r,hash:s,host:o,hostname:a,href:l,origin:u,pathname:c,port:d,protocol:h,search:p}},X7=function(){var t=S.exports.useState(yc("load")),e=t[0],n=t[1];return S.exports.useEffect(function(){var r=function(){return n(yc("popstate"))},i=function(){return n(yc("pushstate"))},s=function(){return n(yc("replacestate"))};return Qp(window,"popstate",r),Qp(window,"pushstate",i),Qp(window,"replacestate",s),function(){Yp(window,"popstate",r),Yp(window,"pushstate",i),Yp(window,"replacestate",s)}},[]),e},J7=typeof Event=="function";const Z7=$x&&J7?X7:Y7;function eq(t){t===void 0&&(t=0);var e=K7();return Q7(e,t)}const Pf=t=>{const e=hh(),[n,r]=S.exports.useState(!1),[i,s,o]=eq(t);return S.exports.useEffect(()=>{e.state?r(!0):r(!1)},[e]),{messageState:e.state,flashState:n&&!i(),reset:o}};function tq(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function nq(t){return parseFloat(t)}function rq(t){return _r("MuiPaper",t)}Sr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const iq=["className","component","elevation","square","variant"],AS=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},sq=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Yr(s,rq,i)},oq=Gt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return G({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&G({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Wl("#fff",AS(e.elevation))}, ${Wl("#fff",AS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),aq=S.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=nt(r,iq),c=G({},r,{component:s,elevation:o,square:a,variant:l}),d=sq(c);return w(oq,G({as:s,ownerState:c,className:St(d.root,i),ref:n},u))}),lq=aq;function Vg(t,e){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vg(t,e)}function uq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Vg(t,e)}const NS=rt.createContext(null);function cq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M0(t,e){var n=function(s){return e&&S.exports.isValidElement(s)?e(s):s},r=Object.create(null);return t&&S.exports.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function dq(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function ts(t,e,n){return n[e]!=null?n[e]:t.props[e]}function hq(t,e){return M0(t.children,function(n){return S.exports.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:ts(n,"appear",t),enter:ts(n,"enter",t),exit:ts(n,"exit",t)})})}function fq(t,e,n){var r=M0(t.children),i=dq(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(!!S.exports.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=S.exports.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=S.exports.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:ts(o,"exit",t),enter:ts(o,"enter",t)}):!l&&a&&!c?i[s]=S.exports.cloneElement(o,{in:!1}):l&&a&&S.exports.isValidElement(u)&&(i[s]=S.exports.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:ts(o,"exit",t),enter:ts(o,"enter",t)}))}}),i}var pq=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},mq={component:"div",childFactory:function(e){return e}},D0=function(t){uq(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(cq(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?hq(i,a):fq(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=M0(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=G({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=nt(i,["component","childFactory"]),l=this.state.contextValue,u=pq(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?w(NS.Provider,{value:l,children:u}):w(NS.Provider,{value:l,children:w(s,{...a,children:u})})},e}(rt.Component);D0.propTypes={};D0.defaultProps=mq;const gq=D0;function yq(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=S.exports.useState(!1),h=St(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},f=St(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),S.exports.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,u);return()=>{clearTimeout(m)}}},[l,a,u]),w("span",{className:h,style:p,children:w("span",{className:f})})}const vq=Sr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),On=vq,wq=["center","classes","className"];let Lf=t=>t,$S,PS,LS,MS;const Fg=550,_q=80,Sq=Ps($S||($S=Lf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Eq=Ps(PS||(PS=Lf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Tq=Ps(LS||(LS=Lf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Rq=Gt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),kq=Gt(yq,{name:"MuiTouchRipple",slot:"Ripple"})(MS||(MS=Lf`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),On.rippleVisible,Sq,Fg,({theme:t})=>t.transitions.easing.easeInOut,On.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,On.child,On.childLeaving,Eq,Fg,({theme:t})=>t.transitions.easing.easeInOut,On.childPulsate,Tq,({theme:t})=>t.transitions.easing.easeInOut),Cq=S.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=nt(r,wq),[l,u]=S.exports.useState([]),c=S.exports.useRef(0),d=S.exports.useRef(null);S.exports.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=S.exports.useRef(!1),p=S.exports.useRef(null),f=S.exports.useRef(null),m=S.exports.useRef(null);S.exports.useEffect(()=>()=>{clearTimeout(p.current)},[]);const E=S.exports.useCallback(_=>{const{pulsate:C,rippleX:I,rippleY:b,rippleSize:$,cb:Z}=_;u(x=>[...x,w(kq,{classes:{ripple:St(s.ripple,On.ripple),rippleVisible:St(s.rippleVisible,On.rippleVisible),ripplePulsate:St(s.ripplePulsate,On.ripplePulsate),child:St(s.child,On.child),childLeaving:St(s.childLeaving,On.childLeaving),childPulsate:St(s.childPulsate,On.childPulsate)},timeout:Fg,pulsate:C,rippleX:I,rippleY:b,rippleSize:$},c.current)]),c.current+=1,d.current=Z},[s]),y=S.exports.useCallback((_={},C={},I)=>{const{pulsate:b=!1,center:$=i||C.pulsate,fakeElement:Z=!1}=C;if((_==null?void 0:_.type)==="mousedown"&&h.current){h.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(h.current=!0);const x=Z?null:m.current,ee=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let pe,me,re;if($||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)pe=Math.round(ee.width/2),me=Math.round(ee.height/2);else{const{clientX:Pe,clientY:Te}=_.touches&&_.touches.length>0?_.touches[0]:_;pe=Math.round(Pe-ee.left),me=Math.round(Te-ee.top)}if($)re=Math.sqrt((2*ee.width**2+ee.height**2)/3),re%2===0&&(re+=1);else{const Pe=Math.max(Math.abs((x?x.clientWidth:0)-pe),pe)*2+2,Te=Math.max(Math.abs((x?x.clientHeight:0)-me),me)*2+2;re=Math.sqrt(Pe**2+Te**2)}_!=null&&_.touches?f.current===null&&(f.current=()=>{E({pulsate:b,rippleX:pe,rippleY:me,rippleSize:re,cb:I})},p.current=setTimeout(()=>{f.current&&(f.current(),f.current=null)},_q)):E({pulsate:b,rippleX:pe,rippleY:me,rippleSize:re,cb:I})},[i,E]),g=S.exports.useCallback(()=>{y({},{pulsate:!0})},[y]),v=S.exports.useCallback((_,C)=>{if(clearTimeout(p.current),(_==null?void 0:_.type)==="touchend"&&f.current){f.current(),f.current=null,p.current=setTimeout(()=>{v(_,C)});return}f.current=null,u(I=>I.length>0?I.slice(1):I),d.current=C},[]);return S.exports.useImperativeHandle(n,()=>({pulsate:g,start:y,stop:v}),[g,y,v]),w(Rq,G({className:St(On.root,s.root,o),ref:m},a,{children:w(gq,{component:null,exit:!0,children:l})}))}),bq=Cq;function Iq(t){return _r("MuiButtonBase",t)}const xq=Sr("MuiButtonBase",["root","disabled","focusVisible"]),Aq=xq,Nq=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],$q=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Yr({root:["root",e&&"disabled",n&&"focusVisible"]},Iq,i);return n&&r&&(o.root+=` ${r}`),o},Pq=Gt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Aq.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Lq=S.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:E,onDragLeave:y,onFocus:g,onFocusVisible:v,onKeyDown:_,onKeyUp:C,onMouseDown:I,onMouseLeave:b,onMouseUp:$,onTouchEnd:Z,onTouchMove:x,onTouchStart:ee,tabIndex:pe=0,TouchRippleProps:me,touchRippleRef:re,type:Pe}=r,Te=nt(r,Nq),be=S.exports.useRef(null),M=S.exports.useRef(null),X=Fc(M,re),{isFocusVisibleRef:U,onFocus:J,onBlur:R,ref:O}=QI(),[D,te]=S.exports.useState(!1);u&&D&&te(!1),S.exports.useImperativeHandle(i,()=>({focusVisible:()=>{te(!0),be.current.focus()}}),[]);const[B,ue]=S.exports.useState(!1);S.exports.useEffect(()=>{ue(!0)},[]);const ge=B&&!c&&!u;S.exports.useEffect(()=>{D&&h&&!c&&B&&M.current.pulsate()},[c,h,D,B]);function q(de,Mu,Du=d){return Ba(Ou=>(Mu&&Mu(Ou),!Du&&M.current&&M.current[de](Ou),!0))}const De=q("start",I),it=q("stop",E),Ie=q("stop",y),Ve=q("stop",$),En=q("stop",de=>{D&&de.preventDefault(),b&&b(de)}),Tr=q("start",ee),an=q("stop",Z),Kt=q("stop",x),$u=q("stop",de=>{R(de),U.current===!1&&te(!1),f&&f(de)},!1),Vf=Ba(de=>{be.current||(be.current=de.currentTarget),J(de),U.current===!0&&(te(!0),v&&v(de)),g&&g(de)}),Wi=()=>{const de=be.current;return l&&l!=="button"&&!(de.tagName==="A"&&de.href)},Ms=S.exports.useRef(!1),Pu=Ba(de=>{h&&!Ms.current&&D&&M.current&&de.key===" "&&(Ms.current=!0,M.current.stop(de,()=>{M.current.start(de)})),de.target===de.currentTarget&&Wi()&&de.key===" "&&de.preventDefault(),_&&_(de),de.target===de.currentTarget&&Wi()&&de.key==="Enter"&&!u&&(de.preventDefault(),m&&m(de))}),Ff=Ba(de=>{h&&de.key===" "&&M.current&&D&&!de.defaultPrevented&&(Ms.current=!1,M.current.stop(de,()=>{M.current.pulsate(de)})),C&&C(de),m&&de.target===de.currentTarget&&Wi()&&de.key===" "&&!de.defaultPrevented&&m(de)});let Xr=l;Xr==="button"&&(Te.href||Te.to)&&(Xr=p);const Rr={};Xr==="button"?(Rr.type=Pe===void 0?"button":Pe,Rr.disabled=u):(!Te.href&&!Te.to&&(Rr.role="button"),u&&(Rr["aria-disabled"]=u));const Bf=Fc(O,be),zf=Fc(n,Bf),Lu=G({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:pe,focusVisible:D}),jf=$q(Lu);return z(Pq,G({as:Xr,className:St(jf.root,a),ownerState:Lu,onBlur:$u,onClick:m,onContextMenu:it,onFocus:Vf,onKeyDown:Pu,onKeyUp:Ff,onMouseDown:De,onMouseLeave:En,onMouseUp:Ve,onDragLeave:Ie,onTouchEnd:an,onTouchMove:Kt,onTouchStart:Tr,ref:zf,tabIndex:u?-1:pe,type:Pe},Rr,Te,{children:[o,ge?w(bq,G({ref:X,center:s},me)):null]}))}),Mq=Lq;function Dq(t){return _r("MuiAlert",t)}const Oq=Sr("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),DS=Oq;function Uq(t){return _r("MuiIconButton",t)}const Vq=Sr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Fq=Vq,Bq=["edge","children","className","color","disabled","disableFocusRipple","size"],zq=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${Je(r)}`,i&&`edge${Je(i)}`,`size${Je(s)}`]};return Yr(o,Uq,e)},jq=Gt(Mq,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Je(n.color)}`],n.edge&&e[`edge${Je(n.edge)}`],e[`size${Je(n.size)}`]]}})(({theme:t,ownerState:e})=>G({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Wl(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>G({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&G({color:(t.vars||t).palette[e.color].main},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Wl(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Fq.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})),Wq=S.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=nt(r,Bq),h=G({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),p=zq(h);return w(jq,G({className:St(p.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:s}))}),Hq=Wq,qq=la(w("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Gq=la(w("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Kq=la(w("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Qq=la(w("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Yq=la(w("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var OS;const Xq=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],Jq=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`${e}${Je(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Yr(s,Dq,i)},Zq=Gt(lq,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Je(n.color||n.severity)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?Og:Ug,r=t.palette.mode==="light"?Ug:Og,i=e.color||e.severity;return G({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${DS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette.mode==="dark"?t.palette[i].main:t.palette[i].light}},i&&e.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${DS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette.mode==="dark"?t.palette[i].main:t.palette[i].light}},i&&e.variant==="filled"&&G({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${i}FilledColor`],backgroundColor:t.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main,color:t.palette.getContrastText(t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main)}))}),eG=Gt("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),tG=Gt("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),US=Gt("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),VS={success:w(qq,{fontSize:"inherit"}),warning:w(Gq,{fontSize:"inherit"}),error:w(Kq,{fontSize:"inherit"}),info:w(Qq,{fontSize:"inherit"})},nG=S.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:l,icon:u,iconMapping:c=VS,onClose:d,role:h="alert",severity:p="success",variant:f="standard"}=r,m=nt(r,Xq),E=G({},r,{color:l,severity:p,variant:f}),y=Jq(E);return z(Zq,G({role:h,elevation:0,ownerState:E,className:St(y.root,o),ref:n},m,{children:[u!==!1?w(eG,{ownerState:E,className:y.icon,children:u||c[p]||VS[p]}):null,w(tG,{ownerState:E,className:y.message,children:s}),i!=null?w(US,{ownerState:E,className:y.action,children:i}):null,i==null&&d?w(US,{ownerState:E,className:y.action,children:w(Hq,{size:"small","aria-label":a,title:a,color:"inherit",onClick:d,children:OS||(OS=w(Yq,{fontSize:"small"}))})}):null]}))}),rG=nG;function iG(t){return _r("MuiTypography",t)}Sr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const sG=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],oG=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Je(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Yr(a,iG,o)},aG=Gt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Je(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>G({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),FS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},lG={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},uG=t=>lG[t]||t,cG=S.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiTypography"}),i=uG(r.color),s=uH(G({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=FS}=s,f=nt(s,sG),m=G({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:p}),E=l||(d?"p":p[h]||FS[h])||"span",y=oG(m);return w(aG,G({as:E,ref:n,ownerState:m,className:St(y.root,a)},f))}),dG=cG;function hG(t){return _r("MuiAlertTitle",t)}Sr("MuiAlertTitle",["root"]);const fG=["className"],pG=t=>{const{classes:e}=t;return Yr({root:["root"]},hG,e)},mG=Gt(dG,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({fontWeight:t.typography.fontWeightMedium,marginTop:-2})),gG=S.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiAlertTitle"}),{className:i}=r,s=nt(r,fG),o=r,a=pG(o);return w(mG,G({gutterBottom:!0,component:"div",ownerState:o,ref:n,className:St(a.root,i)},s))}),yG=gG;function vG(t){return _r("MuiCircularProgress",t)}Sr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const wG=["className","color","disableShrink","size","style","thickness","value","variant"];let Mf=t=>t,BS,zS,jS,WS;const ei=44,_G=Ps(BS||(BS=Mf`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),SG=Ps(zS||(zS=Mf`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),EG=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${Je(r)}`],svg:["svg"],circle:["circle",`circle${Je(n)}`,i&&"circleDisableShrink"]};return Yr(s,vG,e)},TG=Gt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Je(n.color)}`]]}})(({ownerState:t,theme:e})=>G({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&jl(jS||(jS=Mf`
      animation: ${0} 1.4s linear infinite;
    `),_G)),RG=Gt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),kG=Gt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Je(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>G({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&jl(WS||(WS=Mf`
      animation: ${0} 1.4s ease-in-out infinite;
    `),SG)),CG=S.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=nt(r,wG),p=G({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),f=EG(p),m={},E={},y={};if(d==="determinate"){const g=2*Math.PI*((ei-u)/2);m.strokeDasharray=g.toFixed(3),y["aria-valuenow"]=Math.round(c),m.strokeDashoffset=`${((100-c)/100*g).toFixed(3)}px`,E.transform="rotate(-90deg)"}return w(TG,G({className:St(f.root,i),style:G({width:a,height:a},E,l),ownerState:p,ref:n,role:"progressbar"},y,h,{children:w(RG,{className:f.svg,ownerState:p,viewBox:`${ei/2} ${ei/2} ${ei} ${ei}`,children:w(kG,{className:f.circle,style:m,ownerState:p,cx:ei,cy:ei,r:(ei-u)/2,fill:"none",strokeWidth:u})})}))}),bG=CG;function IG(t){return _r("MuiSkeleton",t)}Sr("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const xG=["animation","className","component","height","style","variant","width"];let zd=t=>t,HS,qS,GS,KS;const AG=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:s,height:o}=t;return Yr({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},IG,e)},NG=Ps(HS||(HS=zd`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),$G=Ps(qS||(qS=zd`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),PG=Gt("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=tq(t.shape.borderRadius)||"px",r=nq(t.shape.borderRadius);return G({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:Wl(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&jl(GS||(GS=zd`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),NG),({ownerState:t,theme:e})=>t.animation==="wave"&&jl(KS||(KS=zd`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),$G,(e.vars||e).palette.action.hover)),LG=S.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:u="text",width:c}=r,d=nt(r,xG),h=G({},r,{animation:i,component:o,variant:u,hasChildren:Boolean(d.children)}),p=AG(h);return w(PG,G({as:o,ref:n,className:St(p.root,s),ownerState:h},d,{style:G({width:c,height:a},l)}))}),Px=LG,Df=({status:t,title:e,text:n,strong:r})=>z(rG,{severity:t,sx:{position:"absolute",top:"127px",left:"50%",transform:"translateX(-50%)",width:"874px",boxSizing:"border-box",textAlign:"left","@media screen and (max-width: 940px)":{width:"420px"},"@media screen and (max-width:600px)":{width:"300px"}},children:[w(yG,{children:e}),n,r&&w("strong",{children:r})]});var O0={},MG=qt.exports;Object.defineProperty(O0,"__esModule",{value:!0});var U0=O0.default=void 0,DG=MG(sn()),OG=on,UG=(0,DG.default)((0,OG.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"}),"Login");U0=O0.default=UG;var V0={},VG=qt.exports;Object.defineProperty(V0,"__esModule",{value:!0});var Lx=V0.default=void 0,FG=VG(sn()),BG=on,zG=(0,FG.default)((0,BG.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");Lx=V0.default=zG;const jG=()=>{const{toRegist:t,toReset:e,toHome:n}=ht();Qr();const{signIn:r,loading:i,error:s}=q7(),o=S.exports.useRef(null),a=S.exports.useRef(null),{messageState:l,flashState:u,reset:c}=Pf(1e4),d=h=>{var m,E;h.preventDefault();const p=(m=o.current)==null?void 0:m.value,f=(E=a.current)==null?void 0:E.value;p&&f&&r(p,f).finally(c)};return z(Tt,{children:[u&&w(Df,{...l}),w(Nu,{}),z(Ls,{title:"Sign In",onSubmit:d,startIcon:w(Lx,{fontSize:"large"}),children:[w(Dr,{label:"Email",type:"email",placeholder:"Your Email",required:!0,ref:o}),w(Dr,{label:"Password",type:"password",placeholder:"Password",required:!0,ref:a}),w(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,height:"52px",margin:"30px 0 0",startIcon:w(U0,{}),children:"Sign In"}),z("div",{className:H7.buttonGroup,children:[w(Qe,{type:"button",color:"transparent",onClick:e,children:"Forgot Password"}),w(Qe,{type:"button",color:"transparent",onClick:t,children:"Create a New Account"})]})]})]})},WG="_buttonGroup_faa41_1",HG={buttonGroup:WG};function qG(){const[t,e]=S.exports.useState(!1),[n,r]=S.exports.useState(),{toProfile:i}=ht(),s=(a,l)=>{const u=qn(Le,"users",a);wu(u,{...l})};return{signUp:async(a,l)=>(e(!0),await HL(Ni,a,l).then(u=>{console.log("signed up!");const{user:{uid:c,email:d}}=u;return s(c,{uid:c,email:d}),u}).then(u=>i(u.user.uid)).catch(u=>{r(u instanceof Error?u:Error("unecpected error!"))}).finally(()=>{e(!1)})),loading:t,error:n}}var F0={},GG=qt.exports;Object.defineProperty(F0,"__esModule",{value:!0});var Mx=F0.default=void 0,KG=GG(sn()),QG=on,YG=(0,KG.default)((0,QG.jsx)("path",{fillRule:"evenodd",d:"m9 17 3-2.94c-.39-.04-.68-.06-1-.06-2.67 0-8 1.34-8 4v2h9l-3-3zm2-5c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m4.47 8.5L12 17l1.4-1.41 2.07 2.08 5.13-5.17 1.4 1.41z"}),"HowToReg");Mx=F0.default=YG;var B0={},XG=qt.exports;Object.defineProperty(B0,"__esModule",{value:!0});var Dx=B0.default=void 0,JG=XG(sn()),ZG=on,eK=(0,JG.default)((0,ZG.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");Dx=B0.default=eK;const tK=()=>{const{toLogin:t}=ht(),{signUp:e,loading:n,error:r}=qG(),i=S.exports.useRef(null),s=S.exports.useRef(null),o=S.exports.useRef(null),a=(u,c)=>u===c;return z(Tt,{children:[w(Nu,{}),z(Ls,{title:"Sign Up",onSubmit:u=>{var p,f,m;u.preventDefault();const c=(p=i.current)==null?void 0:p.value,d=(f=s.current)==null?void 0:f.value,h=(m=o.current)==null?void 0:m.value;c&&d&&h&&a(d,h)&&e(c,d)},startIcon:w(Mx,{fontSize:"large"}),children:[w(Dr,{label:"Email",type:"email",placeholder:"Your Email",required:!0,ref:i}),w(Dr,{label:"Password",type:"password",placeholder:"Password",required:!0,ref:s}),w(Dr,{label:"Password Confirmation",type:"password",placeholder:"Password Confirmation",required:!0,ref:o}),w(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,height:"52px",margin:"30px 0 0",startIcon:w(Dx,{}),children:"Sign Up"}),w("div",{className:HG.buttonGroup,children:w(Qe,{type:"button",color:"transparent",onClick:t,startIcon:w(U0,{}),children:"Sign In"})})]})]})};function nK(){const[t,e]=S.exports.useState(!1),[n,r]=S.exports.useState(),{toComplete:i,toRedirect:s}=ht();return{passwordReset:async a=>(e(!0),await WL(Ni,a).then(()=>{i({title:"Success",status:"success",text:"Send Email succeeded",email:a})}).catch(l=>{r(l instanceof Error?l:Error("unecpected error!")),s({title:"Error",status:"error",text:"Send Email failed.",strong:n==null?void 0:n.message})}).finally(()=>{e(!1)})),loading:t,error:n}}var z0={},rK=qt.exports;Object.defineProperty(z0,"__esModule",{value:!0});var Ox=z0.default=void 0,iK=rK(sn()),sK=on,oK=(0,iK.default)((0,sK.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Email");Ox=z0.default=oK;var j0={},aK=qt.exports;Object.defineProperty(j0,"__esModule",{value:!0});var Ux=j0.default=void 0,lK=aK(sn()),uK=on,cK=(0,lK.default)((0,uK.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1zm-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1v1z"}),"LockReset");Ux=j0.default=cK;const dK=()=>{const{toLogin:t,toComplete:e}=ht(),{passwordReset:n}=nK(),r=S.exports.useRef(null);return z(Tt,{children:[w(Nu,{}),z(Ls,{title:"Enter your Email address",secondTitle:"to reset your password.",onSubmit:async s=>{var o;if(s.preventDefault(),(o=r.current)!=null&&o.value){const a=r.current.value;await n(a)}},startIcon:w(Ox,{fontSize:"large"}),children:[w(Dr,{label:"Email",type:"email",placeholder:"Your Email",ref:r}),w(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,height:"52px",margin:"30px 0 0",startIcon:w(Ux,{}),children:"Reset Password"}),w(Qe,{type:"button",color:"transparent",onClick:t,children:"Cancel"})]})]})},hK="_card_1tpro_1",fK={card:hK},jd=({children:t,onClick:e,startIcon:n})=>z("div",{className:fK.card,onClick:e,children:[n,t]}),pK="_cardContainer_1djap_1",mK={cardContainer:pK};var W0={},gK=qt.exports;Object.defineProperty(W0,"__esModule",{value:!0});var Vx=W0.default=void 0,yK=gK(sn()),vK=on,wK=(0,yK.default)((0,vK.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"Group");Vx=W0.default=wK;var H0={},_K=qt.exports;Object.defineProperty(H0,"__esModule",{value:!0});var Fx=H0.default=void 0,SK=_K(sn()),EK=on,TK=(0,SK.default)((0,EK.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"}),"Groups");Fx=H0.default=TK;const RK=()=>{const t=Qr(),{toLogin:e,toPrivate:n,toGroup:r,toProfile:i}=ht(),{messageState:s,flashState:o}=Pf(5e3);return S.exports.useEffect(()=>{t?(!(t!=null&&t.photoURL)||!t.displayName)&&i(t.uid):e()},[t==null?void 0:t.uid]),z(Tt,{children:[o&&w(Df,{...s}),z("div",{className:mK.cardContainer,children:[w(jd,{onClick:()=>n(t==null?void 0:t.uid),startIcon:w(Vx,{fontSize:"large"}),children:"Private Chat"}),w(jd,{onClick:()=>r(t==null?void 0:t.uid),startIcon:w(Fx,{fontSize:"large"}),children:"Group Chat"})]})]})},kK="_container_1mk13_1",CK="_userList_1mk13_26",bK="_group_1mk13_34",IK="_invite_1mk13_37",xK="_listTitle_1mk13_47",AK="_user_1mk13_26",NK="_image_1mk13_82",$K="_active_1mk13_99",PK="_passive_1mk13_104",LK="_buttonGroup_1mk13_108",MK="_label_1mk13_127",DK="_loading_1mk13_131",Yt={container:kK,userList:CK,group:bK,invite:IK,listTitle:xK,user:AK,image:NK,active:$K,passive:PK,buttonGroup:LK,label:MK,loading:DK},OK="_textCenter_8elvq_1",UK={textCenter:OK},VK="_overlay_ucfkg_1",FK="_modalBody_ucfkg_14",BK="_modalButton_ucfkg_30",zK="_row_ucfkg_37",jK="_title_ucfkg_48",WK="_userList_ucfkg_57",HK="_group_ucfkg_65",qK="_invite_ucfkg_68",GK="_user_ucfkg_57",KK="_image_ucfkg_105",QK="_passive_ucfkg_122",YK="_label_ucfkg_126",Ot={overlay:VK,modalBody:FK,modalButton:BK,row:zK,title:jK,userList:WK,group:HK,invite:qK,user:GK,image:KK,passive:QK,label:YK},Of=({title:t,children:e,open:n,onSubmit:r})=>w(Tt,{children:n&&w("div",{id:"overlay",className:Ot.overlay,children:z("form",{id:"modalBody",className:Ot.modalBody,onSubmit:r,children:[w("h2",{className:Ot.title,children:t}),e]})})}),$i=async t=>{const e=qn(Le,"users",t),n=await lb(e);if(n.exists())return n.data()},Uf=async(t,e,n,r)=>{const i=Ft(Le,"groups",e,"messages");await $i(t).then(async s=>{s&&await Uo(i,{from:t,displayName:s.displayName,createdAt:Kh(),info:!0,status:n,to:r!=null?r:""})})},XK=({open:t,modalToggle:e})=>{Qr();const{uid:n,groupid:r}=Ht(),{toJoin:i}=ht(),s=async(a,l)=>{const u=Ft(Le,"groups",l,"invitations");await Qv(u).then(async c=>{if(c.docs.map(h=>h.id).includes(a)){const h=qn(Le,"groups",l,"invitations",a);await Yv(h)}})},o=async(a,l)=>{const u=qn(Le,"groups",a,"members",l);await $i(l).then(async c=>{await wu(u,c).then(()=>e("join")).then(async()=>{await Uf(l,a,"joined")}).then(async()=>{await s(l,a)})})};return w(Of,{title:"Join this group?",open:t,children:z("div",{className:`${Ot.modalButton} ${Ot.row}`,children:[w(Qe,{type:"button",color:"primary",variant:"contained",onClick:()=>o(r,n),fullWidth:!0,children:"Yes"}),w(Qe,{type:"button",color:"transparent",variant:"outlined",onClick:()=>i(n),fullWidth:!0,children:"No"})]})})},JK=({open:t,modalToggle:e})=>{Qr();const{uid:n,groupid:r}=Ht(),{toHome:i}=ht(),s=S.exports.useCallback(async(o,a)=>{const l={title:"Success",status:"success",text:"Exit group."};await Yv(qn(Le,"groups",o,"members",a)).then(()=>i(a,l)).then(async()=>{await Uf(a,o,"existed")})},[]);return w(Of,{title:"Exit this group?",open:t,children:z("div",{className:`${Ot.modalButton} ${Ot.row}`,children:[w(Qe,{type:"button",color:"primary",variant:"contained",onClick:()=>s(r,n),fullWidth:!0,children:"Yes"}),w(Qe,{type:"button",color:"transparent",variant:"outlined",onClick:()=>e("exit"),fullWidth:!0,children:"No"})]})})},ZK=S.exports.memo(({open:t,modalToggle:e,inviteUsers:n,inviteIds:r,setInviteIds:i})=>{const{uid:s,groupid:o}=Ht(),[a,l]=S.exports.useState(!1),[u,c]=S.exports.useState([]),d=async f=>{f.preventDefault(),r.length!==0&&(l(!0),r.forEach(async m=>{const E=qn(Le,"groups",o,"invitations",m);await $i(m).then(async y=>{await wu(E,y).then(p)})}),u.forEach(async m=>{await Uf(s,o,"invited",m)})),l(!1)},h=f=>{const m=f.target.value;u.includes(m)?c([...u.filter(E=>E!==m)]):c([...u,m]),i&&(r.includes(m)?i([...r.filter(E=>E!==m)]):i([...r,m]))},p=S.exports.useCallback(()=>{i&&(e("invite"),i([]),c([]))},[t]);return z(Of,{title:"Select the member to invite",open:t,onSubmit:d,children:[w("ul",{className:`${Ot.userList} ${Ot.invite}`,children:n.length?n.map(f=>w("label",{className:Ot.label,children:z("li",{className:`${Ot.user} ${Ot.passive} `,onClick:()=>{},children:[w("input",{type:"checkbox",name:"",id:"",value:f.id,onChange:h}),w("img",{src:f.data().photoURL,alt:"",className:Ot.image}),w("p",{children:f.data().displayName})]})},f.id)):w("div",{children:"...loading"})}),z("div",{className:`${Ot.modalButton}`,children:[w(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,disabled:a,children:"Invite New Members"}),w(Qe,{type:"button",color:"transparent",variant:"filled",fullWidth:!0,onClick:p,children:"Cancel"})]})]})});var q0={},eQ=qt.exports;Object.defineProperty(q0,"__esModule",{value:!0});var G0=q0.default=void 0,tQ=eQ(sn()),nQ=on,rQ=(0,tQ.default)((0,nQ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");G0=q0.default=rQ;const iQ="_container_1p1lq_1",sQ="_avatar_1p1lq_8",vc={container:iQ,avatar:sQ},Wd=({size:t=60,state:e,setState:n,header:r=!1,chat:i=!1,storageRef:s})=>{const{uid:o}=Ht(),{toProfile:a}=ht(),l=Qr(),[u,c]=S.exports.useState(null),d=f=>{n&&f.target.files!==null&&(c(""),n(f.target.files[0]))};S.exports.useEffect(()=>{s&&c(s)},[]),S.exports.useEffect(()=>{l!=null&&l.photoURL&&c(l.photoURL)},[l]);const h={width:t,height:t,borderRadius:"50%",objectFit:"cover"};return z("div",{children:[w("label",{htmlFor:"avatar",children:w(()=>w("div",{className:vc.container,children:i?s?w("img",{src:s,alt:"",style:h,className:vc.avatar}):w(Px,{variant:"circular",width:t,height:t}):e!=null?w("img",{src:URL.createObjectURL(e),alt:"",style:h,className:vc.avatar}):u!==null?w("img",{src:u,alt:"",style:h,className:vc.avatar,onClick:()=>r&&a(o)}):w(G0,{sx:{width:t,height:t}})}),{})}),!r&&!i&&w("input",{type:"file",accept:"image/*",style:{display:"none"},id:"avatar",onChange:d})]})},oQ=S.exports.memo(({open:t,modalToggle:e,cancelId:n,setCancelId:r})=>{const{uid:i,groupid:s}=Ht(),[o,a]=S.exports.useState(),l=async()=>{if(n&&r){const c=qn(Le,"groups",s,"invitations",n);await Yv(c).then(u).then(async()=>await Uf(i,s,"canceled",n))}},u=()=>{r&&(e("cancel"),r(""),a(void 0))};return S.exports.useEffect(()=>{n&&($i(n).then(c=>{a(c)}),console.log(o))},[n]),z(Of,{title:"Cancel this invitation?",open:t,children:[o&&z("div",{children:[w(Wd,{size:40,storageRef:o.photoURL,chat:!0}),w("p",{children:o.displayName})]}),z("div",{className:`${Ot.modalButton} ${Ot.row}`,children:[w(Qe,{type:"button",color:"primary",variant:"contained",onClick:l,children:"Yes"}),w(Qe,{type:"button",color:"transparent",variant:"outlined",onClick:u,children:"No"})]})]})}),Bx=S.exports.memo(({group:t=!1})=>{const e=Qr(),{uid:n,partnerid:r,groupid:i}=Ht(),{toPrivateRoom:s}=ht(),[o,a]=S.exports.useState([]),[l,u]=S.exports.useState([]),[c,d]=S.exports.useState(""),[h,p]=S.exports.useState([]),[f,m]=S.exports.useState([]),[E,y]=S.exports.useState([]),[g,v]=S.exports.useState([]),[_,C]=S.exports.useState(!1),[I,b]=S.exports.useState(!1),[$,Z]=S.exports.useState(!1),[x,ee]=S.exports.useState(!1),pe=S.exports.useCallback(re=>{re==="invite"?C(!_):re==="exit"?b(!I):re==="join"?Z(!$):re==="cancel"&&ee(!x)},[$,I,_,x]),me=S.exports.useCallback(re=>re.id!==(e==null?void 0:e.uid),[f]);return S.exports.useEffect(()=>{const re=Ft(Le,"users"),Pe=pi(re,Te=>{p([...Te.docs.map(be=>be)])});if(t&&i){const Te=Ft(Le,"groups",i,"members"),be=pi(Te,M=>{M.docs.every(me)?Z(!0):Z(!1),m([...M.docs.map(X=>X)]),a([...M.docs.map(X=>X.id)])});return()=>{be(),Pe()}}else{const Te=pi(re,be=>{m([...be.docs.filter(M=>M.id!==(e==null?void 0:e.uid))]),a([...be.docs.map(M=>M.id)])});return()=>{Te(),Pe()}}},[]),S.exports.useEffect(()=>{const Pe=h.filter(Te=>o.includes(Te.id)===!1).filter(Te=>l.includes(Te.id)===!1);y([...Pe])},[f,h,g]),S.exports.useEffect(()=>{if(i){const re=Ft(Le,"groups",i,"invitations"),Pe=pi(re,Te=>{v([...Te.docs.map(be=>be)]),u([...Te.docs.map(be=>be.id)])});return()=>{Pe()}}},[]),z(Tt,{children:[w(XK,{open:$,modalToggle:pe}),w(ZK,{open:_,modalToggle:pe,inviteUsers:E,inviteIds:l,setInviteIds:u}),w(JK,{open:I,modalToggle:pe}),w(oQ,{open:x,modalToggle:pe,cancelId:c,setCancelId:d}),w("div",{className:Yt.container,children:z("ul",{className:`${Yt.userList} ${i&&Yt.group}`,children:[w("li",{className:Yt.listTitle,children:t?"Members List":"User List"}),f.length?f.map(re=>z("li",{className:`${Yt.user} ${r===re.id?Yt.active:Yt.passive} ${t&&Yt.active}`,onClick:()=>{!t&&s(e==null?void 0:e.uid,re.id)},children:[w("img",{src:re.data().photoURL,alt:"",className:Yt.image}),w("p",{children:re.data().displayName})]},re.id)):w("div",{className:Yt.loading,children:"...loading"}),t&&z(Tt,{children:[z("ul",{className:Yt.userList,children:[w("li",{className:Yt.listTitle,children:"Invitation List"}),g.length?g.map(re=>z("li",{className:`${Yt.user}`,onClick:()=>{pe("cancel"),d(re.id)},children:[w("img",{src:re.data().photoURL,alt:"",className:Yt.image}),w("p",{children:re.data().displayName})]},re.id)):w("div",{className:UK.textCenter,children:"Nobody invited"})]}),z("div",{className:Yt.buttonGroup,children:[w(Qe,{type:"button",color:"success",variant:"outlined",fullWidth:!0,onClick:()=>pe("invite"),children:"Invite"}),w(Qe,{type:"button",color:"error",variant:"outlined",fullWidth:!0,onClick:()=>pe("exit"),children:"Exit"})]})]})]})})]})}),aQ="_chatRoom_1f43h_1",lQ="_notFound_1f43h_22",Xp={chatRoom:aQ,notFound:lQ},QS=t=>{const[e,n]=t.toDate().toLocaleTimeString().split(":");return Number(e)<10?`0${e}:${n}`:`${e}:${n}`},uQ="_message_1yxz8_1",cQ="_bubble_1yxz8_13",dQ="_own_1yxz8_19",hQ="_text_1yxz8_41",fQ="_partner_1yxz8_46",pQ="_profile_1yxz8_76",mQ="_time_1yxz8_85",un={message:uQ,bubble:cQ,own:dQ,text:hQ,partner:fQ,profile:pQ,time:mQ},gQ=S.exports.memo(({status:t,from:e,to:n})=>{const[r,i]=S.exports.useState(""),[s,o]=S.exports.useState("");return S.exports.useEffect(()=>{n&&$i(n).then(a=>{a&&i(a.displayName)}),$i(e).then(a=>{a&&o(a.displayName)})},[]),t==="joined"||t==="existed"?w("div",{className:un.info,children:w("p",{children:`${s} is ${t}!`})}):t==="invited"?w("div",{className:un.info,children:w("p",{children:`${r} is ${t} ${s}!`})}):w("div",{className:un.info,children:w("p",{children:`${s} ${t} invitation for ${r}!`})})}),So=({from:t,to:e,createdAt:n,id:r,message:i,info:s,status:o,displayName:a})=>{const{uid:l,partnerid:u,groupid:c}=Ht(),[d,h]=S.exports.useState({displayName:"",photoURL:""});return S.exports.useEffect(()=>{$i(t).then(p=>{h(p?{displayName:p.displayName,photoURL:p.photoURL}:{displayName:"Unknown",photoURL:null})})},[]),w(Tt,{children:s?w(gQ,{status:o,to:e,from:t}):t===l?w("ul",{className:`${un.message} ${un.own}`,children:z("li",{className:un.text,children:[w("p",{className:un.bubble,children:i}),n!==null&&w("p",{className:un.time,children:QS(n)})]})}):z("ul",{className:`${un.message} ${un.partner}`,children:[z("li",{className:un.profile,children:[d.photoURL?w(Wd,{size:40,storageRef:d.photoURL,chat:!0}):w(G0,{sx:{width:"40px",height:"40px"}}),w("p",{children:d.displayName!==void 0?d.displayName:"Unknown"})]}),z("li",{className:un.text,children:[w("p",{className:un.bubble,children:i}),n!==null?w("p",{className:un.time,children:QS(n)}):w(Px,{variant:"text",width:40,height:24})]})]})})},yQ="_date_a43pv_1",vQ={date:yQ},Hd=({year:t,month:e,day:n})=>w("div",{className:vQ.date,children:`${t}/${e}/${n}`}),YS=async(t,e,n)=>{const r=qn(Le,"users",e,"rooms",t);await wu(r,{roomid:n})},wQ=async(t,e,n,r)=>(await Uo(Ft(Le,"rooms"),{owner:e,partner:n}).then(async i=>(await YS(e,n,i.id),await YS(n,e,i.id),t=i.id,i.id)).then(async i=>{const s=Ft(Le,"rooms",`${i}`,"messages");await Uo(s,{message:r,from:e,createdAt:Kh()})}),{exist:!1,roomid:t}),_Q=async(t,e,n)=>{const r=Ft(Le,"users",`${t}`,"rooms"),s=(await Qv(r)).docs.filter(a=>a.id===e);let o="";return s[0]!==void 0?(o=s[0].data().roomid,{exist:!0,roomid:o}):(console.log("not exist"),wQ(o,t,e,n))},qd=t=>{const[e,n,r]=t.createdAt.toDate().toLocaleString().split(" ")[0].split("/");return{year:e,month:n,day:r}};var K0={},SQ=qt.exports;Object.defineProperty(K0,"__esModule",{value:!0});var zx=K0.default=void 0,EQ=SQ(sn()),XS=on,TQ=(0,EQ.default)([(0,XS.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5z"},"0"),(0,XS.jsx)("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")],"SearchOff");zx=K0.default=TQ;var Q0={},RQ=qt.exports;Object.defineProperty(Q0,"__esModule",{value:!0});var jx=Q0.default=void 0,kQ=RQ(sn()),CQ=on,bQ=(0,kQ.default)((0,CQ.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");jx=Q0.default=bQ;const IQ="_container_1b9mp_1",xQ="_input_1b9mp_24",AQ="_button_1b9mp_39",Jp={container:IQ,input:xQ,button:AQ},Wx=({onSubmit:t,setState:e,state:n,loading:r})=>z("form",{className:Jp.container,onSubmit:t,children:[w("input",{type:"text",className:Jp.input,value:n,onChange:i=>e(i.target.value)}),n&&w("button",{className:Jp.button,disabled:r,type:"submit",children:w(jx,{sx:{height:"25px",color:"white",opacity:`${r?.3:1}`}})})]}),Hx=(t=!1)=>{const[e,n]=S.exports.useState([]),[r,i]=S.exports.useState(""),[s,o]=S.exports.useState(!1),[a,l]=S.exports.useState(!1),[u,c]=S.exports.useState(!1),[d,h]=S.exports.useState(!0),p=[x_("createdAt","asc")],{uid:f,partnerid:m,groupid:E}=Ht(),{pathname:y}=hh();if(t){const g=Lp(Ft(Le,"groups",E,"messages"),...p);S.exports.useEffect(()=>{const v=pi(g,_=>{n([..._.docs.map(C=>({id:C.id,...C.data()}))])});return()=>{v()}},[])}else{const g=async(v,_)=>{let C="";const I=qn(Le,"users",`${v}`,"rooms",`${_}`);return await lb(I).then(b=>{C=b.data().roomid}),C};S.exports.useEffect(()=>{if(r){const v=Lp(Ft(Le,"rooms",r,"messages"),...p),_=pi(v,C=>{n([...C.docs.map(I=>({id:I.id,...I.data()}))])});return()=>{_()}}},[r]),S.exports.useEffect(()=>{if(m){l(!0);const v=Ft(Le,"users",f,"rooms"),_=pi(v,C=>{const I=C.docs.filter(b=>b.id===m);if(I.length&&f){const b=I[0].id;g(f,b).then($=>{i($);const Z=Lp(Ft(Le,"rooms",`${$}`,"messages"),x_("createdAt","asc"));Qv(Z).then(x=>{n([...x.docs.map(ee=>({id:ee.id,...ee.data()}))])})}),l(!1)}else console.log("not exist"),l(!1)});return()=>{_()}}},[y]),S.exports.useEffect(()=>{m?(c(!0),n([]),i("")):c(!1),d||i("")},[y])}return{chatMessages:e,chatRoom:r,setChatRoom:i,setLoading:o,loading:s,dataLoading:a,setDataLoading:l,setRoomExist:h,roomExist:d}},JS=()=>{const{uid:t,partnerid:e}=Ht(),[n,r]=S.exports.useState(""),{chatMessages:i,chatRoom:s,setChatRoom:o,loading:a,setLoading:l,dataLoading:u,setRoomExist:c,roomExist:d}=Hx(),h=async p=>{if(p.preventDefault(),t&&e){l(!0);const{exist:f,roomid:m}=await _Q(t,e,n);if(o(m),c(f),f){console.log("room is exist");const E=Ft(Le,"rooms",`${m}`,"messages");await Uo(E,{message:n,from:t,createdAt:Kh()})}else console.log("room is created");l(!1),r("")}};return z(Tt,{children:[w(Bx,{}),w("div",{className:Xp.chatRoom,children:u?z("div",{className:Xp.load,children:[w(bG,{}),w("p",{children:"loading..."})]}):i.length!==0?i.map((p,f)=>{if(p.createdAt!==null){const m=qd(p);if(f===0)return z(S.exports.Fragment,{children:[w(Hd,{...m}),w(So,{...p})]},p.id);{const E=qd(i[f-1]);return E.month===m.month&&E.day===m.day?w(So,{...p},p.id):z(S.exports.Fragment,{children:[w(Hd,{...m}),w(So,{...p})]},p.id)}}}):s===""&&d&&z("div",{className:Xp.notFound,children:[w(zx,{fontSize:"large"}),z("p",{children:["No history found. ",w("br",{}),"You have not started a conversation with this person yet."]})]})}),t&&e&&w(Wx,{onSubmit:h,loading:a,state:n,setState:r})]})},NQ="_cardContainer_o2d8r_1",$Q={cardContainer:NQ},PQ=()=>{const{toJoin:t,toCreate:e}=ht(),{uid:n}=Ht();return w(Tt,{children:z("div",{className:$Q.cardContainer,children:[w(jd,{onClick:()=>t(n),children:"Join a already exists group"}),w(jd,{onClick:()=>e(n),children:"Create a new group"})]})})};var Y0={},LQ=qt.exports;Object.defineProperty(Y0,"__esModule",{value:!0});var qx=Y0.default=void 0,MQ=LQ(sn()),DQ=on,OQ=(0,MQ.default)((0,DQ.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"}),"QuestionAnswer");qx=Y0.default=OQ;var X0={},UQ=qt.exports;Object.defineProperty(X0,"__esModule",{value:!0});var Gx=X0.default=void 0,VQ=UQ(sn()),FQ=on,BQ=(0,VQ.default)((0,FQ.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");Gx=X0.default=BQ;const zQ=()=>{const{toHome:t}=ht(),e=Qr(),n=r8();Ht();const[r,i]=S.exports.useState(null),s=S.exports.useRef(null),o=async(l,u,c)=>{const d=qn(Le,"users",l);await r3(d,{displayName:u,photoURL:c}).then(()=>console.log("Updated user info"))};return w(Tt,{children:z(Ls,{title:"Setting Profile",onSubmit:async l=>{var h;l.preventDefault();const u=(h=s.current)==null?void 0:h.value,{uid:c,email:d}=e;if(r&&u&&c&&d){const p=cV(mV,`avaters/${c}_${r.name}`);await lV(p,r).then(()=>console.log("Uploaded a file")),await uV(p).then(async f=>{await xw(Ni.currentUser,{displayName:u,photoURL:f}).then(()=>{n({displayName:u,photoURL:f,email:d,uid:c})}).then(async()=>await o(c,u,f)).then(()=>console.log("Updated profile")).then(()=>t(c,{title:"Success",status:"success",text:"Setting profile succeeded."}))})}else!r&&u&&c&&d&&(e==null?void 0:e.photoURL)?await xw(Ni.currentUser,{displayName:u}).then(()=>{n({displayName:u,photoURL:e.photoURL,email:d,uid:c})}).then(async()=>await o(c,u,e.photoURL)).then(()=>console.log("Updated profile")).then(()=>t(c,{title:"Success",status:"success",text:"Setting profile succeeded."})):alert("User name and Profile image is a required contents to start chatting")},startIcon:w(Gx,{fontSize:"large"}),children:[e!=null&&e.photoURL?w(Wd,{size:80,state:r,setState:i,header:!1}):w(Wd,{size:80,state:r,setState:i,header:!1}),e!=null&&e.displayName?w(Dr,{label:"Name",placeholder:"Your Name",required:!0,ref:s,defaultValue:e.displayName}):w(Dr,{label:"Name",placeholder:"Your Name",required:!0,ref:s}),w(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,height:"52px",margin:"30px 0 0",startIcon:w(qx,{}),children:"Start Chat"})]})})},jQ=()=>{const t=Qr(),{toLogin:e,toProfile:n}=ht();return S.exports.useEffect(()=>{t?(!(t!=null&&t.photoURL)||!t.displayName)&&n(t.uid):e()},[t==null?void 0:t.uid]),z(Tt,{children:[w(Nu,{}),w(y$,{})]})},WQ="_email_11pat_1",HQ={email:WQ};var J0={},qQ=qt.exports;Object.defineProperty(J0,"__esModule",{value:!0});var Kx=J0.default=void 0,GQ=qQ(sn()),KQ=on,QQ=(0,GQ.default)((0,KQ.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");Kx=J0.default=QQ;const YQ=()=>{const{toLogin:t}=ht(),e=Z7(),{messageState:n,flashState:r}=Pf(5e3);return z(Tt,{children:[w(Nu,{}),r&&w(Df,{...n}),z(Ls,{title:"Send Email to reset your password.",secondTitle:"Please confirm your Email.",startIcon:w(Kx,{fontSize:"large"}),children:[w("div",{className:HQ.email,children:w("p",{children:e.state.usr.email})}),w(Qe,{type:"button",color:"primary",variant:"contained",fullWidth:!0,height:"52px",margin:"30px 0 0",onClick:t,children:"Back to Sign In"})]})]})},XQ="_groupList_1e6o3_1",JQ="_group_1e6o3_1",ZS={groupList:XQ,group:JQ},ZQ=()=>{const[t,e]=S.exports.useState([]),[n,r]=S.exports.useState(!1),{toGroupRoom:i}=ht(),{uid:s}=Ht();return S.exports.useEffect(()=>{r(!0);const o=Ft(Le,"groups"),a=pi(o,l=>{e(l.docs.map(u=>({id:u.id,...u.data()}))),r(!1)});return()=>{a()}},[]),w(Ls,{title:"Group List",children:w("ul",{className:ZS.groupList,children:t.length?t.map(({id:o,groupName:a,photoURL:l})=>w("li",{className:ZS.group,onClick:()=>i(s,o),children:a},o)):n?w("li",{children:"...loading"}):w("li",{children:"Not Found"})})})},eY="_input_1xlil_1",tY={input:eY},nY=({label:t,rows:e=6,cols:n=60,placeholder:r,required:i,defaultValue:s,value:o,onChange:a})=>z("label",{className:tY.input,children:[t,w("textarea",{rows:e,cols:n,value:o,placeholder:r,required:i,defaultValue:s,onChange:a})]}),rY=()=>{const[t,e]=S.exports.useState(!1),{toGroupRoom:n,toRedirect:r}=ht(),{uid:i}=Ht();return async o=>{e(!0);const a=Ft(Le,"groups");await Uo(a,o).then(async({id:l})=>{const u=qn(Le,"groups",l,"members",i);return await $i(i).then(async c=>{await wu(u,c)}),l}).then(l=>{n(i,l,{title:"Success",status:"success",text:"Create group succeeded."})}).catch(l=>{r({title:"Error",status:"error",text:"Create group failed."})}).finally(()=>e(!0))}},iY=()=>{const[t,e]=S.exports.useState(""),n=S.exports.useRef(null),{uid:r}=Ht(),i=rY(),{messageState:s,flashState:o,reset:a}=Pf(3e3),{toHome:l}=ht(),u=d=>{e(d.target.value)},c=async d=>{var p;d.preventDefault();const h=(p=n.current)==null?void 0:p.value;h&&t&&await i({groupName:h,description:t,owner:r})};return z(Tt,{children:[o&&w(Df,{...s}),z(Ls,{title:"Create a new group",onSubmit:async d=>c(d),children:[w(Dr,{label:"Group name",placeholder:"Group name",required:!0,ref:n}),w(nY,{value:t,onChange:u,label:"Description",placeholder:"Description about this group"}),w(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,margin:"20px 0 0",children:"Next"}),w(Qe,{type:"button",color:"transparent",variant:"filled",onClick:()=>l(r),children:"Cancel"})]})]})},sY="_chatRoom_1sdxn_1",oY={chatRoom:sY},aY=()=>{const[t,e]=S.exports.useState(!1),[n,r]=S.exports.useState(""),{uid:i,groupid:s}=Ht(),{chatMessages:o}=Hx(!0),a=async l=>{if(l.preventDefault(),n){const u=Ft(Le,"groups",s,"messages");await Uo(u,{message:n,from:i,createdAt:Kh()}).then(()=>r(""))}};return z(Tt,{children:[w(Bx,{group:!0}),w("div",{className:oY.chatRoom,children:o.length?o.map((l,u)=>{if(l.createdAt!==null){const c=qd(l);if(u===0)return z(S.exports.Fragment,{children:[w(Hd,{...c}),w(So,{...l})]},l.id);{const d=qd(o[u-1]);return d.month===c.month&&d.day===c.day?w(So,{...l},l.id):z(S.exports.Fragment,{children:[w(Hd,{...c}),w(So,{...l})]},l.id)}}}):t?w("div",{children:"...loading"}):w("div",{children:"No history."})}),w(Wx,{onSubmit:a,loading:t,state:n,setState:r})]})},lY=()=>z(w$,{children:[w(Xt,{path:"/",element:w(P$,{})}),w(Xt,{path:"/login",element:w(jG,{})}),w(Xt,{path:"/regist",element:w(tK,{})}),w(Xt,{path:"/reset",element:w(dK,{})}),w(Xt,{path:"/reset/complete",element:w(YQ,{})}),z(Xt,{path:"/:uid",element:w(jQ,{}),children:[w(Xt,{path:"profile",element:w(zQ,{})}),w(Xt,{path:"home",element:w(RK,{})}),w(Xt,{path:"group",element:w(PQ,{})}),w(Xt,{path:"group/join",element:w(ZQ,{})}),w(Xt,{path:"group/create",element:w(iY,{})}),w(Xt,{path:"group/:groupid",element:w(aY,{})}),w(Xt,{path:"private",element:w(JS,{})}),w(Xt,{path:"private/:partnerid",element:w(JS,{})})]})]});function uY(){return w(Zj,{children:w(S.exports.Suspense,{fallback:w("div",{children:"...loading"}),children:w(_$,{children:w(lY,{})})})})}Zp.createRoot(document.getElementById("root")).render(w(rt.StrictMode,{children:w(uY,{})}));
