function nA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function rE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iE(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Symbol.for("react.element"),rA=Symbol.for("react.portal"),iA=Symbol.for("react.fragment"),sA=Symbol.for("react.strict_mode"),oA=Symbol.for("react.profiler"),aA=Symbol.for("react.provider"),lA=Symbol.for("react.context"),uA=Symbol.for("react.forward_ref"),cA=Symbol.for("react.suspense"),dA=Symbol.for("react.memo"),hA=Symbol.for("react.lazy"),r1=Symbol.iterator;function fA(t){return t===null||typeof t!="object"?null:(t=r1&&t[r1]||t["@@iterator"],typeof t=="function"?t:null)}var sE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oE=Object.assign,aE={};function Go(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||sE}Go.prototype.isReactComponent={};Go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lE(){}lE.prototype=Go.prototype;function Wg(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||sE}var Hg=Wg.prototype=new lE;Hg.constructor=Wg;oE(Hg,Go.prototype);Hg.isPureReactComponent=!0;var i1=Array.isArray,uE=Object.prototype.hasOwnProperty,qg={current:null},cE={key:!0,ref:!0,__self:!0,__source:!0};function dE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uE.call(e,r)&&!cE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gl,type:t,key:s,ref:o,props:i,_owner:qg.current}}function pA(t,e){return{$$typeof:Gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gl}function mA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var s1=/\/+/g;function qf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mA(""+t.key):e.toString(36)}function _c(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gl:case rA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+qf(o,0):r,i1(i)?(n="",t!=null&&(n=t.replace(s1,"$&/")+"/"),_c(i,e,n,"",function(u){return u})):i!=null&&(Gg(i)&&(i=pA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(s1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",i1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+qf(s,a);o+=_c(s,e,n,l,i)}else if(l=fA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+qf(s,a++),o+=_c(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fu(t,e,n){if(t==null)return t;var r=[],i=0;return _c(t,r,"","",function(s){return e.call(n,s,i++)}),r}function gA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},Sc={transition:null},yA={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:qg};Se.Children={map:Fu,forEach:function(t,e,n){Fu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fu(t,function(){e++}),e},toArray:function(t){return Fu(t,function(e){return e})||[]},only:function(t){if(!Gg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Go;Se.Fragment=iA;Se.Profiler=oA;Se.PureComponent=Wg;Se.StrictMode=sA;Se.Suspense=cA;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yA;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)uE.call(e,l)&&!cE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Gl,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:lA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aA,_context:t},t.Consumer=t};Se.createElement=dE;Se.createFactory=function(t){var e=dE.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:uA,render:t}};Se.isValidElement=Gg;Se.lazy=function(t){return{$$typeof:hA,_payload:{_status:-1,_result:t},_init:gA}};Se.memo=function(t,e){return{$$typeof:dA,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Sc.transition;Sc.transition={};try{t()}finally{Sc.transition=e}};Se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Se.useCallback=function(t,e){return tn.current.useCallback(t,e)};Se.useContext=function(t){return tn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return tn.current.useEffect(t,e)};Se.useId=function(){return tn.current.useId()};Se.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return tn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};Se.useRef=function(t){return tn.current.useRef(t)};Se.useState=function(t){return tn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return tn.current.useTransition()};Se.version="18.2.0";(function(t){t.exports=Se})(_);const rt=rE(_.exports),To=nA({__proto__:null,default:rt},[_.exports]);var nm={},Kg={exports:{}},Ln={},hE={exports:{}},fE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,X){var U=M.length;M.push(X);e:for(;0<U;){var J=U-1>>>1,R=M[J];if(0<i(R,X))M[J]=X,M[U]=R,U=J;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var X=M[0],U=M.pop();if(U!==X){M[0]=U;e:for(var J=0,R=M.length,O=R>>>1;J<O;){var D=2*(J+1)-1,te=M[D],z=D+1,ue=M[z];if(0>i(te,U))z<R&&0>i(ue,te)?(M[J]=ue,M[z]=U,J=z):(M[J]=te,M[D]=U,J=D);else if(z<R&&0>i(ue,U))M[J]=ue,M[z]=U,J=z;else break e}}return X}function i(M,X){var U=M.sortIndex-X.sortIndex;return U!==0?U:M.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,m=!1,f=!1,p=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=M)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function S(M){if(p=!1,w(M),!f)if(n(l)!==null)f=!0,Te(C);else{var X=n(u);X!==null&&be(S,X.startTime-M)}}function C(M,X){f=!1,p&&(p=!1,y(N),N=-1),m=!0;var U=h;try{for(w(X),d=n(l);d!==null&&(!(d.expirationTime>X)||M&&!ee());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var R=J(d.expirationTime<=X);X=t.unstable_now(),typeof R=="function"?d.callback=R:d===n(l)&&r(l),w(X)}else r(l);d=n(l)}if(d!==null)var O=!0;else{var D=n(u);D!==null&&be(S,D.startTime-X),O=!1}return O}finally{d=null,h=U,m=!1}}var I=!1,b=null,N=-1,Z=5,x=-1;function ee(){return!(t.unstable_now()-x<Z)}function pe(){if(b!==null){var M=t.unstable_now();x=M;var X=!0;try{X=b(!0,M)}finally{X?me():(I=!1,b=null)}}else I=!1}var me;if(typeof g=="function")me=function(){g(pe)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Le=re.port2;re.port1.onmessage=pe,me=function(){Le.postMessage(null)}}else me=function(){E(pe,0)};function Te(M){b=M,I||(I=!0,me())}function be(M,X){N=E(function(){M(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,Te(C))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var U=h;h=X;try{return M()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=h;h=M;try{return X()}finally{h=U}},t.unstable_scheduleCallback=function(M,X,U){var J=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=U+R,M={id:c++,callback:X,priorityLevel:M,startTime:U,expirationTime:R,sortIndex:-1},U>J?(M.sortIndex=U,e(u,M),n(l)===null&&M===n(u)&&(p?(y(N),N=-1):p=!0,be(S,U-J))):(M.sortIndex=R,e(l,M),f||m||(f=!0,Te(C))),M},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(M){var X=h;return function(){var U=h;h=X;try{return M.apply(this,arguments)}finally{h=U}}}})(fE);(function(t){t.exports=fE})(hE);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE=_.exports,Nn=hE.exports;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mE=new Set,ll={};function ks(t,e){Ro(t,e),Ro(t+"Capture",e)}function Ro(t,e){for(ll[t]=e,t=0;t<e.length;t++)mE.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rm=Object.prototype.hasOwnProperty,vA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o1={},a1={};function wA(t){return rm.call(a1,t)?!0:rm.call(o1,t)?!1:vA.test(t)?a1[t]=!0:(o1[t]=!0,!1)}function _A(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SA(t,e,n,r){if(e===null||typeof e>"u"||_A(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qg=/[\-:]([a-z])/g;function Yg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qg,Yg);$t[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qg,Yg);$t[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qg,Yg);$t[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xg(t,e,n,r){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SA(e,n,i,r)&&(n=null),r||i===null?wA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gr=pE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bu=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),gE=Symbol.for("react.provider"),yE=Symbol.for("react.context"),Zg=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),om=Symbol.for("react.suspense_list"),ey=Symbol.for("react.memo"),ti=Symbol.for("react.lazy"),vE=Symbol.for("react.offscreen"),l1=Symbol.iterator;function ha(t){return t===null||typeof t!="object"?null:(t=l1&&t[l1]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,Gf;function Aa(t){if(Gf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gf=e&&e[1]||""}return`
`+Gf+t}var Kf=!1;function Qf(t,e){if(!t||Kf)return"";Kf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Kf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Aa(t):""}function EA(t){switch(t.tag){case 5:return Aa(t.type);case 16:return Aa("Lazy");case 13:return Aa("Suspense");case 19:return Aa("SuspenseList");case 0:case 2:case 15:return t=Qf(t.type,!1),t;case 11:return t=Qf(t.type.render,!1),t;case 1:return t=Qf(t.type,!0),t;default:return""}}function am(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gs:return"Fragment";case qs:return"Portal";case im:return"Profiler";case Jg:return"StrictMode";case sm:return"Suspense";case om:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yE:return(t.displayName||"Context")+".Consumer";case gE:return(t._context.displayName||"Context")+".Provider";case Zg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ey:return e=t.displayName||null,e!==null?e:am(t.type)||"Memo";case ti:e=t._payload,t=t._init;try{return am(t(e))}catch{}}return null}function TA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return am(e);case 8:return e===Jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RA(t){var e=wE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zu(t){t._valueTracker||(t._valueTracker=RA(t))}function _E(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lm(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function u1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SE(t,e){e=e.checked,e!=null&&Xg(t,"checked",e,!1)}function um(t,e){SE(t,e);var n=ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cm(t,e.type,n):e.hasOwnProperty("defaultValue")&&cm(t,e.type,ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cm(t,e,n){(e!=="number"||qc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Na=Array.isArray;function ao(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ki(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function d1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Na(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ki(n)}}function EE(t,e){var n=ki(e.value),r=ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function h1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function TE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?TE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ju,RE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kA=["Webkit","ms","Moz","O"];Object.keys(ja).forEach(function(t){kA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ja[e]=ja[t]})});function kE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ja.hasOwnProperty(t)&&ja[t]?(""+e).trim():e+"px"}function CE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var CA=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fm(t,e){if(e){if(CA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function pm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=null;function ty(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gm=null,lo=null,uo=null;function f1(t){if(t=Yl(t)){if(typeof gm!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Jd(e),gm(t.stateNode,t.type,e))}}function bE(t){lo?uo?uo.push(t):uo=[t]:lo=t}function IE(){if(lo){var t=lo,e=uo;if(uo=lo=null,f1(t),e)for(t=0;t<e.length;t++)f1(e[t])}}function xE(t,e){return t(e)}function AE(){}var Yf=!1;function NE(t,e,n){if(Yf)return t(e,n);Yf=!0;try{return xE(t,e,n)}finally{Yf=!1,(lo!==null||uo!==null)&&(AE(),IE())}}function cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Jd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var ym=!1;if(Or)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){ym=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{ym=!1}function bA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Wa=!1,Gc=null,Kc=!1,vm=null,IA={onError:function(t){Wa=!0,Gc=t}};function xA(t,e,n,r,i,s,o,a,l){Wa=!1,Gc=null,bA.apply(IA,arguments)}function AA(t,e,n,r,i,s,o,a,l){if(xA.apply(this,arguments),Wa){if(Wa){var u=Gc;Wa=!1,Gc=null}else throw Error(P(198));Kc||(Kc=!0,vm=u)}}function Cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $E(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p1(t){if(Cs(t)!==t)throw Error(P(188))}function NA(t){var e=t.alternate;if(!e){if(e=Cs(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return p1(i),t;if(s===r)return p1(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function PE(t){return t=NA(t),t!==null?LE(t):null}function LE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=LE(t);if(e!==null)return e;t=t.sibling}return null}var ME=Nn.unstable_scheduleCallback,m1=Nn.unstable_cancelCallback,$A=Nn.unstable_shouldYield,PA=Nn.unstable_requestPaint,st=Nn.unstable_now,LA=Nn.unstable_getCurrentPriorityLevel,ny=Nn.unstable_ImmediatePriority,DE=Nn.unstable_UserBlockingPriority,Qc=Nn.unstable_NormalPriority,MA=Nn.unstable_LowPriority,OE=Nn.unstable_IdlePriority,Kd=null,cr=null;function DA(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Kd,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:VA,OA=Math.log,UA=Math.LN2;function VA(t){return t>>>=0,t===0?32:31-(OA(t)/UA|0)|0}var Wu=64,Hu=4194304;function $a(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=$a(a):(s&=o,s!==0&&(r=$a(s)))}else o=n&~i,o!==0?r=$a(o):s!==0&&(r=$a(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),i=1<<n,r|=t[n],e&=~i;return r}function FA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zn(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=FA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function wm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UE(){var t=Wu;return Wu<<=1,(Wu&4194240)===0&&(Wu=64),t}function Xf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function zA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ry(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function VE(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var FE,iy,BE,zE,jE,_m=!1,qu=[],mi=null,gi=null,yi=null,dl=new Map,hl=new Map,ii=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g1(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(e.pointerId)}}function pa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yl(e),e!==null&&iy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function WA(t,e,n,r,i){switch(e){case"focusin":return mi=pa(mi,t,e,n,r,i),!0;case"dragenter":return gi=pa(gi,t,e,n,r,i),!0;case"mouseover":return yi=pa(yi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return dl.set(s,pa(dl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hl.set(s,pa(hl.get(s)||null,t,e,n,r,i)),!0}return!1}function WE(t){var e=Qi(t.target);if(e!==null){var n=Cs(e);if(n!==null){if(e=n.tag,e===13){if(e=$E(n),e!==null){t.blockedOn=e,jE(t.priority,function(){BE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mm=r,n.target.dispatchEvent(r),mm=null}else return e=Yl(n),e!==null&&iy(e),t.blockedOn=n,!1;e.shift()}return!0}function y1(t,e,n){Ec(t)&&n.delete(e)}function HA(){_m=!1,mi!==null&&Ec(mi)&&(mi=null),gi!==null&&Ec(gi)&&(gi=null),yi!==null&&Ec(yi)&&(yi=null),dl.forEach(y1),hl.forEach(y1)}function ma(t,e){t.blockedOn===e&&(t.blockedOn=null,_m||(_m=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,HA)))}function fl(t){function e(i){return ma(i,t)}if(0<qu.length){ma(qu[0],t);for(var n=1;n<qu.length;n++){var r=qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mi!==null&&ma(mi,t),gi!==null&&ma(gi,t),yi!==null&&ma(yi,t),dl.forEach(e),hl.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)WE(n),n.blockedOn===null&&ii.shift()}var co=Gr.ReactCurrentBatchConfig,Xc=!0;function qA(t,e,n,r){var i=$e,s=co.transition;co.transition=null;try{$e=1,sy(t,e,n,r)}finally{$e=i,co.transition=s}}function GA(t,e,n,r){var i=$e,s=co.transition;co.transition=null;try{$e=4,sy(t,e,n,r)}finally{$e=i,co.transition=s}}function sy(t,e,n,r){if(Xc){var i=Sm(t,e,n,r);if(i===null)ap(t,e,r,Jc,n),g1(t,r);else if(WA(i,t,e,n,r))r.stopPropagation();else if(g1(t,r),e&4&&-1<jA.indexOf(t)){for(;i!==null;){var s=Yl(i);if(s!==null&&FE(s),s=Sm(t,e,n,r),s===null&&ap(t,e,r,Jc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ap(t,e,r,null,n)}}var Jc=null;function Sm(t,e,n,r){if(Jc=null,t=ty(r),t=Qi(t),t!==null)if(e=Cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$E(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jc=t,null}function HE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LA()){case ny:return 1;case DE:return 4;case Qc:case MA:return 16;case OE:return 536870912;default:return 16}default:return 16}}var di=null,oy=null,Tc=null;function qE(){if(Tc)return Tc;var t,e=oy,n=e.length,r,i="value"in di?di.value:di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Tc=i.slice(t,1<r?1-r:void 0)}function Rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gu(){return!0}function v1(){return!1}function Mn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gu:v1,this.isPropagationStopped=v1,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gu)},persist:function(){},isPersistent:Gu}),e}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ay=Mn(Ko),Ql=Ze({},Ko,{view:0,detail:0}),KA=Mn(Ql),Jf,Zf,ga,Qd=Ze({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ly,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(Jf=t.screenX-ga.screenX,Zf=t.screenY-ga.screenY):Zf=Jf=0,ga=t),Jf)},movementY:function(t){return"movementY"in t?t.movementY:Zf}}),w1=Mn(Qd),QA=Ze({},Qd,{dataTransfer:0}),YA=Mn(QA),XA=Ze({},Ql,{relatedTarget:0}),ep=Mn(XA),JA=Ze({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),ZA=Mn(JA),eN=Ze({},Ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tN=Mn(eN),nN=Ze({},Ko,{data:0}),_1=Mn(nN),rN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sN[t])?!!e[t]:!1}function ly(){return oN}var aN=Ze({},Ql,{key:function(t){if(t.key){var e=rN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ly,charCode:function(t){return t.type==="keypress"?Rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lN=Mn(aN),uN=Ze({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S1=Mn(uN),cN=Ze({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ly}),dN=Mn(cN),hN=Ze({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),fN=Mn(hN),pN=Ze({},Qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mN=Mn(pN),gN=[9,13,27,32],uy=Or&&"CompositionEvent"in window,Ha=null;Or&&"documentMode"in document&&(Ha=document.documentMode);var yN=Or&&"TextEvent"in window&&!Ha,GE=Or&&(!uy||Ha&&8<Ha&&11>=Ha),E1=String.fromCharCode(32),T1=!1;function KE(t,e){switch(t){case"keyup":return gN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function vN(t,e){switch(t){case"compositionend":return QE(e);case"keypress":return e.which!==32?null:(T1=!0,E1);case"textInput":return t=e.data,t===E1&&T1?null:t;default:return null}}function wN(t,e){if(Ks)return t==="compositionend"||!uy&&KE(t,e)?(t=qE(),Tc=oy=di=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GE&&e.locale!=="ko"?null:e.data;default:return null}}var _N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_N[t.type]:e==="textarea"}function YE(t,e,n,r){bE(r),e=Zc(e,"onChange"),0<e.length&&(n=new ay("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qa=null,pl=null;function SN(t){aT(t,0)}function Yd(t){var e=Xs(t);if(_E(e))return t}function EN(t,e){if(t==="change")return e}var XE=!1;if(Or){var tp;if(Or){var np="oninput"in document;if(!np){var k1=document.createElement("div");k1.setAttribute("oninput","return;"),np=typeof k1.oninput=="function"}tp=np}else tp=!1;XE=tp&&(!document.documentMode||9<document.documentMode)}function C1(){qa&&(qa.detachEvent("onpropertychange",JE),pl=qa=null)}function JE(t){if(t.propertyName==="value"&&Yd(pl)){var e=[];YE(e,pl,t,ty(t)),NE(SN,e)}}function TN(t,e,n){t==="focusin"?(C1(),qa=e,pl=n,qa.attachEvent("onpropertychange",JE)):t==="focusout"&&C1()}function RN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yd(pl)}function kN(t,e){if(t==="click")return Yd(e)}function CN(t,e){if(t==="input"||t==="change")return Yd(e)}function bN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:bN;function ml(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rm.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function b1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I1(t,e){var n=b1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=b1(n)}}function ZE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eT(){for(var t=window,e=qc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qc(t.document)}return e}function cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IN(t){var e=eT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ZE(n.ownerDocument.documentElement,n)){if(r!==null&&cy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=I1(n,s);var o=I1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xN=Or&&"documentMode"in document&&11>=document.documentMode,Qs=null,Em=null,Ga=null,Tm=!1;function x1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tm||Qs==null||Qs!==qc(r)||(r=Qs,"selectionStart"in r&&cy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&ml(Ga,r)||(Ga=r,r=Zc(Em,"onSelect"),0<r.length&&(e=new ay("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qs)))}function Ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ys={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},rp={},tT={};Or&&(tT=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Xd(t){if(rp[t])return rp[t];if(!Ys[t])return t;var e=Ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tT)return rp[t]=e[n];return t}var nT=Xd("animationend"),rT=Xd("animationiteration"),iT=Xd("animationstart"),sT=Xd("transitionend"),oT=new Map,A1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){oT.set(t,e),ks(e,[t])}for(var ip=0;ip<A1.length;ip++){var sp=A1[ip],AN=sp.toLowerCase(),NN=sp[0].toUpperCase()+sp.slice(1);Pi(AN,"on"+NN)}Pi(nT,"onAnimationEnd");Pi(rT,"onAnimationIteration");Pi(iT,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(sT,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$N=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function N1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AA(r,e,void 0,t),t.currentTarget=null}function aT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;N1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;N1(i,a,u),s=l}}}if(Kc)throw t=vm,Kc=!1,vm=null,t}function Fe(t,e){var n=e[Im];n===void 0&&(n=e[Im]=new Set);var r=t+"__bubble";n.has(r)||(lT(e,t,2,!1),n.add(r))}function op(t,e,n){var r=0;e&&(r|=4),lT(n,t,r,e)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function gl(t){if(!t[Qu]){t[Qu]=!0,mE.forEach(function(n){n!=="selectionchange"&&($N.has(n)||op(n,!1,t),op(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qu]||(e[Qu]=!0,op("selectionchange",!1,e))}}function lT(t,e,n,r){switch(HE(e)){case 1:var i=qA;break;case 4:i=GA;break;default:i=sy}n=i.bind(null,e,n,t),i=void 0,!ym||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ap(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}NE(function(){var u=s,c=ty(n),d=[];e:{var h=oT.get(t);if(h!==void 0){var m=ay,f=t;switch(t){case"keypress":if(Rc(n)===0)break e;case"keydown":case"keyup":m=lN;break;case"focusin":f="focus",m=ep;break;case"focusout":f="blur",m=ep;break;case"beforeblur":case"afterblur":m=ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=w1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=YA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=dN;break;case nT:case rT:case iT:m=ZA;break;case sT:m=fN;break;case"scroll":m=KA;break;case"wheel":m=mN;break;case"copy":case"cut":case"paste":m=tN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=S1}var p=(e&4)!==0,E=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,w;g!==null;){w=g;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=cl(g,y),S!=null&&p.push(yl(g,S,w)))),E)break;g=g.return}0<p.length&&(h=new m(h,f,null,n,c),d.push({event:h,listeners:p}))}}if((e&7)===0){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==mm&&(f=n.relatedTarget||n.fromElement)&&(Qi(f)||f[Ur]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(f=n.relatedTarget||n.toElement,m=u,f=f?Qi(f):null,f!==null&&(E=Cs(f),f!==E||f.tag!==5&&f.tag!==6)&&(f=null)):(m=null,f=u),m!==f)){if(p=w1,S="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(p=S1,S="onPointerLeave",y="onPointerEnter",g="pointer"),E=m==null?h:Xs(m),w=f==null?h:Xs(f),h=new p(S,g+"leave",m,n,c),h.target=E,h.relatedTarget=w,S=null,Qi(c)===u&&(p=new p(y,g+"enter",f,n,c),p.target=w,p.relatedTarget=E,S=p),E=S,m&&f)t:{for(p=m,y=f,g=0,w=p;w;w=Os(w))g++;for(w=0,S=y;S;S=Os(S))w++;for(;0<g-w;)p=Os(p),g--;for(;0<w-g;)y=Os(y),w--;for(;g--;){if(p===y||y!==null&&p===y.alternate)break t;p=Os(p),y=Os(y)}p=null}else p=null;m!==null&&$1(d,h,m,p,!1),f!==null&&E!==null&&$1(d,E,f,p,!0)}}e:{if(h=u?Xs(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=EN;else if(R1(h))if(XE)C=CN;else{C=RN;var I=TN}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=kN);if(C&&(C=C(t,u))){YE(d,C,n,c);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&cm(h,"number",h.value)}switch(I=u?Xs(u):window,t){case"focusin":(R1(I)||I.contentEditable==="true")&&(Qs=I,Em=u,Ga=null);break;case"focusout":Ga=Em=Qs=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,x1(d,n,c);break;case"selectionchange":if(xN)break;case"keydown":case"keyup":x1(d,n,c)}var b;if(uy)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ks?KE(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(GE&&n.locale!=="ko"&&(Ks||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ks&&(b=qE()):(di=c,oy="value"in di?di.value:di.textContent,Ks=!0)),I=Zc(u,N),0<I.length&&(N=new _1(N,t,null,n,c),d.push({event:N,listeners:I}),b?N.data=b:(b=QE(n),b!==null&&(N.data=b)))),(b=yN?vN(t,n):wN(t,n))&&(u=Zc(u,"onBeforeInput"),0<u.length&&(c=new _1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}aT(d,e)})}function yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cl(t,n),s!=null&&r.unshift(yl(t,s,i)),s=cl(t,e),s!=null&&r.push(yl(t,s,i))),t=t.return}return r}function Os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=cl(n,s),l!=null&&o.unshift(yl(n,l,a))):i||(l=cl(n,s),l!=null&&o.push(yl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var PN=/\r\n?/g,LN=/\u0000|\uFFFD/g;function P1(t){return(typeof t=="string"?t:""+t).replace(PN,`
`).replace(LN,"")}function Yu(t,e,n){if(e=P1(e),P1(t)!==e&&n)throw Error(P(425))}function ed(){}var Rm=null,km=null;function Cm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bm=typeof setTimeout=="function"?setTimeout:void 0,MN=typeof clearTimeout=="function"?clearTimeout:void 0,L1=typeof Promise=="function"?Promise:void 0,DN=typeof queueMicrotask=="function"?queueMicrotask:typeof L1<"u"?function(t){return L1.resolve(null).then(t).catch(ON)}:bm;function ON(t){setTimeout(function(){throw t})}function lp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fl(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function M1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),ar="__reactFiber$"+Qo,vl="__reactProps$"+Qo,Ur="__reactContainer$"+Qo,Im="__reactEvents$"+Qo,UN="__reactListeners$"+Qo,VN="__reactHandles$"+Qo;function Qi(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=M1(t);t!==null;){if(n=t[ar])return n;t=M1(t)}return e}t=n,n=t.parentNode}return null}function Yl(t){return t=t[ar]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Jd(t){return t[vl]||null}var xm=[],Js=-1;function Li(t){return{current:t}}function Be(t){0>Js||(t.current=xm[Js],xm[Js]=null,Js--)}function Oe(t,e){Js++,xm[Js]=t.current,t.current=e}var Ci={},jt=Li(Ci),gn=Li(!1),us=Ci;function ko(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function td(){Be(gn),Be(jt)}function D1(t,e,n){if(jt.current!==Ci)throw Error(P(168));Oe(jt,e),Oe(gn,n)}function uT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,TA(t)||"Unknown",i));return Ze({},n,r)}function nd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,us=jt.current,Oe(jt,t),Oe(gn,gn.current),!0}function O1(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=uT(t,e,us),r.__reactInternalMemoizedMergedChildContext=t,Be(gn),Be(jt),Oe(jt,t)):Be(gn),Oe(gn,n)}var Cr=null,Zd=!1,up=!1;function cT(t){Cr===null?Cr=[t]:Cr.push(t)}function FN(t){Zd=!0,cT(t)}function Mi(){if(!up&&Cr!==null){up=!0;var t=0,e=$e;try{var n=Cr;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cr=null,Zd=!1}catch(i){throw Cr!==null&&(Cr=Cr.slice(t+1)),ME(ny,Mi),i}finally{$e=e,up=!1}}return null}var Zs=[],eo=0,rd=null,id=0,Vn=[],Fn=0,cs=null,br=1,Ir="";function Hi(t,e){Zs[eo++]=id,Zs[eo++]=rd,rd=t,id=e}function dT(t,e,n){Vn[Fn++]=br,Vn[Fn++]=Ir,Vn[Fn++]=cs,cs=t;var r=br;t=Ir;var i=32-Zn(r)-1;r&=~(1<<i),n+=1;var s=32-Zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,br=1<<32-Zn(e)+i|n<<i|r,Ir=s+t}else br=1<<s|n<<i|r,Ir=t}function dy(t){t.return!==null&&(Hi(t,1),dT(t,1,0))}function hy(t){for(;t===rd;)rd=Zs[--eo],Zs[eo]=null,id=Zs[--eo],Zs[eo]=null;for(;t===cs;)cs=Vn[--Fn],Vn[Fn]=null,Ir=Vn[--Fn],Vn[Fn]=null,br=Vn[--Fn],Vn[Fn]=null}var In=null,Cn=null,We=!1,Jn=null;function hT(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function U1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,Cn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:br,overflow:Ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,Cn=null,!0):!1;default:return!1}}function Am(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nm(t){if(We){var e=Cn;if(e){var n=e;if(!U1(t,e)){if(Am(t))throw Error(P(418));e=vi(n.nextSibling);var r=In;e&&U1(t,e)?hT(r,n):(t.flags=t.flags&-4097|2,We=!1,In=t)}}else{if(Am(t))throw Error(P(418));t.flags=t.flags&-4097|2,We=!1,In=t}}}function V1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function Xu(t){if(t!==In)return!1;if(!We)return V1(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cm(t.type,t.memoizedProps)),e&&(e=Cn)){if(Am(t))throw fT(),Error(P(418));for(;e;)hT(t,e),e=vi(e.nextSibling)}if(V1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=In?vi(t.stateNode.nextSibling):null;return!0}function fT(){for(var t=Cn;t;)t=vi(t.nextSibling)}function Co(){Cn=In=null,We=!1}function fy(t){Jn===null?Jn=[t]:Jn.push(t)}var BN=Gr.ReactCurrentBatchConfig;function Yn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var sd=Li(null),od=null,to=null,py=null;function my(){py=to=od=null}function gy(t){var e=sd.current;Be(sd),t._currentValue=e}function $m(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ho(t,e){od=t,py=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(pn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(py!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(od===null)throw Error(P(308));to=t,od.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var Yi=null;function yy(t){Yi===null?Yi=[t]:Yi.push(t)}function pT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ni=!1;function vy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Re&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vr(t,n)}return i=r.interleaved,i===null?(e.next=e,yy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vr(t,n)}function kc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ry(t,n)}}function F1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ad(t,e,n,r){var i=t.updateQueue;ni=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=t,p=a;switch(h=e,m=n,p.tag){case 1:if(f=p.payload,typeof f=="function"){d=f.call(m,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=p.payload,h=typeof f=="function"?f.call(m,d,h):f,h==null)break e;d=Ze({},d,h);break e;case 2:ni=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);hs|=o,t.lanes=o,t.memoizedState=d}}function B1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var gT=new pE.Component().refs;function Pm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eh={isMounted:function(t){return(t=t._reactInternals)?Cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Si(t),s=$r(r,i);s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(er(e,t,i,r),kc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Si(t),s=$r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(er(e,t,i,r),kc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=Si(t),i=$r(n,r);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,r),e!==null&&(er(e,t,r,n),kc(e,t,r))}};function z1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ml(n,r)||!ml(i,s):!0}function yT(t,e,n){var r=!1,i=Ci,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(i=yn(e)?us:jt.current,r=e.contextTypes,s=(r=r!=null)?ko(t,i):Ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function j1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eh.enqueueReplaceState(e,e.state,null)}function Lm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=gT,vy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hn(s):(s=yn(e)?us:jt.current,i.context=ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&eh.enqueueReplaceState(i,i.state,null),ad(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===gT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Ju(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function W1(t){var e=t._init;return e(t._payload)}function vT(t){function e(y,g){if(t){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Ei(y,g),y.index=0,y.sibling=null,y}function s(y,g,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,w,S){return g===null||g.tag!==6?(g=gp(w,y.mode,S),g.return=y,g):(g=i(g,w),g.return=y,g)}function l(y,g,w,S){var C=w.type;return C===Gs?c(y,g,w.props.children,S,w.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ti&&W1(C)===g.type)?(S=i(g,w.props),S.ref=ya(y,g,w),S.return=y,S):(S=Nc(w.type,w.key,w.props,null,y.mode,S),S.ref=ya(y,g,w),S.return=y,S)}function u(y,g,w,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=yp(w,y.mode,S),g.return=y,g):(g=i(g,w.children||[]),g.return=y,g)}function c(y,g,w,S,C){return g===null||g.tag!==7?(g=rs(w,y.mode,S,C),g.return=y,g):(g=i(g,w),g.return=y,g)}function d(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=gp(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bu:return w=Nc(g.type,g.key,g.props,null,y.mode,w),w.ref=ya(y,null,g),w.return=y,w;case qs:return g=yp(g,y.mode,w),g.return=y,g;case ti:var S=g._init;return d(y,S(g._payload),w)}if(Na(g)||ha(g))return g=rs(g,y.mode,w,null),g.return=y,g;Ju(y,g)}return null}function h(y,g,w,S){var C=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(y,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bu:return w.key===C?l(y,g,w,S):null;case qs:return w.key===C?u(y,g,w,S):null;case ti:return C=w._init,h(y,g,C(w._payload),S)}if(Na(w)||ha(w))return C!==null?null:c(y,g,w,S,null);Ju(y,w)}return null}function m(y,g,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,a(g,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bu:return y=y.get(S.key===null?w:S.key)||null,l(g,y,S,C);case qs:return y=y.get(S.key===null?w:S.key)||null,u(g,y,S,C);case ti:var I=S._init;return m(y,g,w,I(S._payload),C)}if(Na(S)||ha(S))return y=y.get(w)||null,c(g,y,S,C,null);Ju(g,S)}return null}function f(y,g,w,S){for(var C=null,I=null,b=g,N=g=0,Z=null;b!==null&&N<w.length;N++){b.index>N?(Z=b,b=null):Z=b.sibling;var x=h(y,b,w[N],S);if(x===null){b===null&&(b=Z);break}t&&b&&x.alternate===null&&e(y,b),g=s(x,g,N),I===null?C=x:I.sibling=x,I=x,b=Z}if(N===w.length)return n(y,b),We&&Hi(y,N),C;if(b===null){for(;N<w.length;N++)b=d(y,w[N],S),b!==null&&(g=s(b,g,N),I===null?C=b:I.sibling=b,I=b);return We&&Hi(y,N),C}for(b=r(y,b);N<w.length;N++)Z=m(b,y,N,w[N],S),Z!==null&&(t&&Z.alternate!==null&&b.delete(Z.key===null?N:Z.key),g=s(Z,g,N),I===null?C=Z:I.sibling=Z,I=Z);return t&&b.forEach(function(ee){return e(y,ee)}),We&&Hi(y,N),C}function p(y,g,w,S){var C=ha(w);if(typeof C!="function")throw Error(P(150));if(w=C.call(w),w==null)throw Error(P(151));for(var I=C=null,b=g,N=g=0,Z=null,x=w.next();b!==null&&!x.done;N++,x=w.next()){b.index>N?(Z=b,b=null):Z=b.sibling;var ee=h(y,b,x.value,S);if(ee===null){b===null&&(b=Z);break}t&&b&&ee.alternate===null&&e(y,b),g=s(ee,g,N),I===null?C=ee:I.sibling=ee,I=ee,b=Z}if(x.done)return n(y,b),We&&Hi(y,N),C;if(b===null){for(;!x.done;N++,x=w.next())x=d(y,x.value,S),x!==null&&(g=s(x,g,N),I===null?C=x:I.sibling=x,I=x);return We&&Hi(y,N),C}for(b=r(y,b);!x.done;N++,x=w.next())x=m(b,y,N,x.value,S),x!==null&&(t&&x.alternate!==null&&b.delete(x.key===null?N:x.key),g=s(x,g,N),I===null?C=x:I.sibling=x,I=x);return t&&b.forEach(function(pe){return e(y,pe)}),We&&Hi(y,N),C}function E(y,g,w,S){if(typeof w=="object"&&w!==null&&w.type===Gs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bu:e:{for(var C=w.key,I=g;I!==null;){if(I.key===C){if(C=w.type,C===Gs){if(I.tag===7){n(y,I.sibling),g=i(I,w.props.children),g.return=y,y=g;break e}}else if(I.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ti&&W1(C)===I.type){n(y,I.sibling),g=i(I,w.props),g.ref=ya(y,I,w),g.return=y,y=g;break e}n(y,I);break}else e(y,I);I=I.sibling}w.type===Gs?(g=rs(w.props.children,y.mode,S,w.key),g.return=y,y=g):(S=Nc(w.type,w.key,w.props,null,y.mode,S),S.ref=ya(y,g,w),S.return=y,y=S)}return o(y);case qs:e:{for(I=w.key;g!==null;){if(g.key===I)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(y,g.sibling),g=i(g,w.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=yp(w,y.mode,S),g.return=y,y=g}return o(y);case ti:return I=w._init,E(y,g,I(w._payload),S)}if(Na(w))return f(y,g,w,S);if(ha(w))return p(y,g,w,S);Ju(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,w),g.return=y,y=g):(n(y,g),g=gp(w,y.mode,S),g.return=y,y=g),o(y)):n(y,g)}return E}var bo=vT(!0),wT=vT(!1),Xl={},dr=Li(Xl),wl=Li(Xl),_l=Li(Xl);function Xi(t){if(t===Xl)throw Error(P(174));return t}function wy(t,e){switch(Oe(_l,e),Oe(wl,t),Oe(dr,Xl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hm(e,t)}Be(dr),Oe(dr,e)}function Io(){Be(dr),Be(wl),Be(_l)}function _T(t){Xi(_l.current);var e=Xi(dr.current),n=hm(e,t.type);e!==n&&(Oe(wl,t),Oe(dr,n))}function _y(t){wl.current===t&&(Be(dr),Be(wl))}var Ye=Li(0);function ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cp=[];function Sy(){for(var t=0;t<cp.length;t++)cp[t]._workInProgressVersionPrimary=null;cp.length=0}var Cc=Gr.ReactCurrentDispatcher,dp=Gr.ReactCurrentBatchConfig,ds=0,Xe=null,ft=null,Et=null,ud=!1,Ka=!1,Sl=0,zN=0;function Mt(){throw Error(P(321))}function Ey(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function Ty(t,e,n,r,i,s){if(ds=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cc.current=t===null||t.memoizedState===null?qN:GN,t=n(r,i),Ka){s=0;do{if(Ka=!1,Sl=0,25<=s)throw Error(P(301));s+=1,Et=ft=null,e.updateQueue=null,Cc.current=KN,t=n(r,i)}while(Ka)}if(Cc.current=cd,e=ft!==null&&ft.next!==null,ds=0,Et=ft=Xe=null,ud=!1,e)throw Error(P(300));return t}function Ry(){var t=Sl!==0;return Sl=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Xe.memoizedState=Et=t:Et=Et.next=t,Et}function qn(){if(ft===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=Et===null?Xe.memoizedState:Et.next;if(e!==null)Et=e,ft=t;else{if(t===null)throw Error(P(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Et===null?Xe.memoizedState=Et=t:Et=Et.next=t}return Et}function El(t,e){return typeof e=="function"?e(t):e}function hp(t){var e=qn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ds&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Xe.lanes|=c,hs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tr(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,hs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fp(t){var e=qn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ST(){}function ET(t,e){var n=Xe,r=qn(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,pn=!0),r=r.queue,ky(kT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Tl(9,RT.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(P(349));(ds&30)!==0||TT(n,e,i)}return i}function TT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RT(t,e,n,r){e.value=n,e.getSnapshot=r,CT(e)&&bT(t)}function kT(t,e,n){return n(function(){CT(e)&&bT(t)})}function CT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function bT(t){var e=Vr(t,1);e!==null&&er(e,t,1,-1)}function H1(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:t},e.queue=t,t=t.dispatch=HN.bind(null,Xe,t),[e.memoizedState,t]}function Tl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function IT(){return qn().memoizedState}function bc(t,e,n,r){var i=ir();Xe.flags|=t,i.memoizedState=Tl(1|e,n,void 0,r===void 0?null:r)}function th(t,e,n,r){var i=qn();r=r===void 0?null:r;var s=void 0;if(ft!==null){var o=ft.memoizedState;if(s=o.destroy,r!==null&&Ey(r,o.deps)){i.memoizedState=Tl(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=Tl(1|e,n,s,r)}function q1(t,e){return bc(8390656,8,t,e)}function ky(t,e){return th(2048,8,t,e)}function xT(t,e){return th(4,2,t,e)}function AT(t,e){return th(4,4,t,e)}function NT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $T(t,e,n){return n=n!=null?n.concat([t]):null,th(4,4,NT.bind(null,e,t),n)}function Cy(){}function PT(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ey(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LT(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ey(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MT(t,e,n){return(ds&21)===0?(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n):(tr(n,e)||(n=UE(),Xe.lanes|=n,hs|=n,t.baseState=!0),e)}function jN(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=dp.transition;dp.transition={};try{t(!1),e()}finally{$e=n,dp.transition=r}}function DT(){return qn().memoizedState}function WN(t,e,n){var r=Si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OT(t))UT(e,n);else if(n=pT(t,e,n,r),n!==null){var i=Zt();er(n,t,r,i),VT(n,e,r)}}function HN(t,e,n){var r=Si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OT(t))UT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tr(a,o)){var l=e.interleaved;l===null?(i.next=i,yy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=pT(t,e,i,r),n!==null&&(i=Zt(),er(n,t,r,i),VT(n,e,r))}}function OT(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function UT(t,e){Ka=ud=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VT(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ry(t,n)}}var cd={readContext:Hn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},qN={readContext:Hn,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:q1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bc(4194308,4,NT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bc(4194308,4,t,e)},useInsertionEffect:function(t,e){return bc(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WN.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:H1,useDebugValue:Cy,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=H1(!1),e=t[0];return t=jN.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=ir();if(We){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Rt===null)throw Error(P(349));(ds&30)!==0||TT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,q1(kT.bind(null,r,s,t),[t]),r.flags|=2048,Tl(9,RT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ir(),e=Rt.identifierPrefix;if(We){var n=Ir,r=br;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GN={readContext:Hn,useCallback:PT,useContext:Hn,useEffect:ky,useImperativeHandle:$T,useInsertionEffect:xT,useLayoutEffect:AT,useMemo:LT,useReducer:hp,useRef:IT,useState:function(){return hp(El)},useDebugValue:Cy,useDeferredValue:function(t){var e=qn();return MT(e,ft.memoizedState,t)},useTransition:function(){var t=hp(El)[0],e=qn().memoizedState;return[t,e]},useMutableSource:ST,useSyncExternalStore:ET,useId:DT,unstable_isNewReconciler:!1},KN={readContext:Hn,useCallback:PT,useContext:Hn,useEffect:ky,useImperativeHandle:$T,useInsertionEffect:xT,useLayoutEffect:AT,useMemo:LT,useReducer:fp,useRef:IT,useState:function(){return fp(El)},useDebugValue:Cy,useDeferredValue:function(t){var e=qn();return ft===null?e.memoizedState=t:MT(e,ft.memoizedState,t)},useTransition:function(){var t=fp(El)[0],e=qn().memoizedState;return[t,e]},useMutableSource:ST,useSyncExternalStore:ET,useId:DT,unstable_isNewReconciler:!1};function xo(t,e){try{var n="",r=e;do n+=EA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pp(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Mm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QN=typeof WeakMap=="function"?WeakMap:Map;function FT(t,e,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hd||(hd=!0,Hm=r),Mm(t,e)},n}function BT(t,e,n){n=$r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mm(t,e),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function G1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=u2.bind(null,t,e,n),e.then(t,t))}function K1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q1(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$r(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var YN=Gr.ReactCurrentOwner,pn=!1;function Xt(t,e,n,r){e.child=t===null?wT(e,null,n,r):bo(e,t.child,n,r)}function Y1(t,e,n,r,i){n=n.render;var s=e.ref;return ho(e,i),r=Ty(t,e,n,r,s,i),n=Ry(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(We&&n&&dy(e),e.flags|=1,Xt(t,e,r,i),e.child)}function X1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ly(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zT(t,e,s,r,i)):(t=Nc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ml,n(o,r)&&t.ref===e.ref)return Fr(t,e,i)}return e.flags|=1,t=Ei(s,r),t.ref=e.ref,t.return=e,e.child=t}function zT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ml(s,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(pn=!0);else return e.lanes=t.lanes,Fr(t,e,i)}return Dm(t,e,n,r,i)}function jT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ro,kn),kn|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(ro,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Oe(ro,kn),kn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Oe(ro,kn),kn|=r;return Xt(t,e,i,n),e.child}function WT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dm(t,e,n,r,i){var s=yn(n)?us:jt.current;return s=ko(e,s),ho(e,i),n=Ty(t,e,n,r,s,i),r=Ry(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(We&&r&&dy(e),e.flags|=1,Xt(t,e,n,i),e.child)}function J1(t,e,n,r,i){if(yn(n)){var s=!0;nd(e)}else s=!1;if(ho(e,i),e.stateNode===null)Ic(t,e),yT(e,n,r),Lm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=yn(n)?us:jt.current,u=ko(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&j1(e,o,r,u),ni=!1;var h=e.memoizedState;o.state=h,ad(e,r,o,i),l=e.memoizedState,a!==r||h!==l||gn.current||ni?(typeof c=="function"&&(Pm(e,n,c,r),l=e.memoizedState),(a=ni||z1(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Yn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=yn(n)?us:jt.current,l=ko(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&j1(e,o,r,l),ni=!1,h=e.memoizedState,o.state=h,ad(e,r,o,i);var f=e.memoizedState;a!==d||h!==f||gn.current||ni?(typeof m=="function"&&(Pm(e,n,m,r),f=e.memoizedState),(u=ni||z1(e,n,u,r,h,f,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Om(t,e,n,r,s,i)}function Om(t,e,n,r,i,s){WT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&O1(e,n,!1),Fr(t,e,s);r=e.stateNode,YN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bo(e,t.child,null,s),e.child=bo(e,null,a,s)):Xt(t,e,a,s),e.memoizedState=r.state,i&&O1(e,n,!0),e.child}function HT(t){var e=t.stateNode;e.pendingContext?D1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&D1(t,e.context,!1),wy(t,e.containerInfo)}function Z1(t,e,n,r,i){return Co(),fy(i),e.flags|=256,Xt(t,e,n,r),e.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function Vm(t){return{baseLanes:t,cachePool:null,transitions:null}}function qT(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Oe(Ye,i&1),t===null)return Nm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ih(o,r,0,null),t=rs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vm(n),e.memoizedState=Um,t):by(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return XN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ei(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ei(a,s):(s=rs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Vm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Um,r}return s=t.child,t=s.sibling,r=Ei(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function by(t,e){return e=ih({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zu(t,e,n,r){return r!==null&&fy(r),bo(e,t.child,null,n),t=by(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pp(Error(P(422))),Zu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ih({mode:"visible",children:r.children},i,0,null),s=rs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&bo(e,t.child,null,o),e.child.memoizedState=Vm(o),e.memoizedState=Um,s);if((e.mode&1)===0)return Zu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(P(419)),r=pp(s,r,void 0),Zu(t,e,o,r)}if(a=(o&t.childLanes)!==0,pn||a){if(r=Rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vr(t,i),er(r,t,i,-1))}return Py(),r=pp(Error(P(421))),Zu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=c2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Cn=vi(i.nextSibling),In=e,We=!0,Jn=null,t!==null&&(Vn[Fn++]=br,Vn[Fn++]=Ir,Vn[Fn++]=cs,br=t.id,Ir=t.overflow,cs=e),e=by(e,r.children),e.flags|=4096,e)}function ew(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$m(t.return,e,n)}function mp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function GT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(t,e,r.children,n),r=Ye.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ew(t,n,e);else if(t.tag===19)ew(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(Ye,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ld(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ld(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mp(e,!0,n,null,s);break;case"together":mp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ic(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JN(t,e,n){switch(e.tag){case 3:HT(e),Co();break;case 5:_T(e);break;case 1:yn(e.type)&&nd(e);break;case 4:wy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Oe(sd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Ye,Ye.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?qT(t,e,n):(Oe(Ye,Ye.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);Oe(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return GT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,jT(t,e,n)}return Fr(t,e,n)}var KT,Fm,QT,YT;KT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fm=function(){};QT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xi(dr.current);var s=null;switch(n){case"input":i=lm(t,i),r=lm(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=dm(t,i),r=dm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ed)}fm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ll.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ll.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};YT=function(t,e,n,r){n!==r&&(e.flags|=4)};function va(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZN(t,e,n){var r=e.pendingProps;switch(hy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return yn(e.type)&&td(),Dt(e),null;case 3:return r=e.stateNode,Io(),Be(gn),Be(jt),Sy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Jn!==null&&(Km(Jn),Jn=null))),Fm(t,e),Dt(e),null;case 5:_y(e);var i=Xi(_l.current);if(n=e.type,t!==null&&e.stateNode!=null)QT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Dt(e),null}if(t=Xi(dr.current),Xu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ar]=e,r[vl]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<Pa.length;i++)Fe(Pa[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":u1(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":d1(r,s),Fe("invalid",r)}fm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Yu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Yu(r.textContent,a,t),i=["children",""+a]):ll.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":zu(r),c1(r,s,!0);break;case"textarea":zu(r),h1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ed)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[vl]=r,KT(t,e,!1,!1),e.stateNode=t;e:{switch(o=pm(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pa.length;i++)Fe(Pa[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":u1(t,r),i=lm(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":d1(t,r),i=dm(t,r),Fe("invalid",t);break;default:i=r}fm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?CE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ul(t,l):typeof l=="number"&&ul(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ll.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fe("scroll",t):l!=null&&Xg(t,s,l,o))}switch(n){case"input":zu(t),c1(t,r,!1);break;case"textarea":zu(t),h1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ki(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ao(t,!!r.multiple,s,!1):r.defaultValue!=null&&ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)YT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Xi(_l.current),Xi(dr.current),Xu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(s=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:Yu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return Dt(e),null;case 13:if(Be(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&Cn!==null&&(e.mode&1)!==0&&(e.flags&128)===0)fT(),Co(),e.flags|=98560,s=!1;else if(s=Xu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[ar]=e}else Co(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Dt(e),s=!1}else Jn!==null&&(Km(Jn),Jn=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Ye.current&1)!==0?mt===0&&(mt=3):Py())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Io(),Fm(t,e),t===null&&gl(e.stateNode.containerInfo),Dt(e),null;case 10:return gy(e.type._context),Dt(e),null;case 17:return yn(e.type)&&td(),Dt(e),null;case 19:if(Be(Ye),s=e.memoizedState,s===null)return Dt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)va(s,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=ld(t),o!==null){for(e.flags|=128,va(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>Ao&&(e.flags|=128,r=!0,va(s,!1),e.lanes=4194304)}else{if(!r)if(t=ld(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),va(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return Dt(e),null}else 2*st()-s.renderingStartTime>Ao&&n!==1073741824&&(e.flags|=128,r=!0,va(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=Ye.current,Oe(Ye,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return $y(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(kn&1073741824)!==0&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function e2(t,e){switch(hy(e),e.tag){case 1:return yn(e.type)&&td(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Io(),Be(gn),Be(jt),Sy(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return _y(e),null;case 13:if(Be(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Ye),null;case 4:return Io(),null;case 10:return gy(e.type._context),null;case 22:case 23:return $y(),null;case 24:return null;default:return null}}var ec=!1,Ut=!1,t2=typeof WeakSet=="function"?WeakSet:Set,j=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function Bm(t,e,n){try{n()}catch(r){tt(t,e,r)}}var tw=!1;function n2(t,e){if(Rm=Xc,t=eT(),cy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(km={focusedElem:t,selectionRange:n},Xc=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var f=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var p=f.memoizedProps,E=f.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:Yn(e.type,p),E);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){tt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return f=tw,tw=!1,f}function Qa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bm(e,n,s)}i=i.next}while(i!==r)}}function nh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XT(t){var e=t.alternate;e!==null&&(t.alternate=null,XT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[vl],delete e[Im],delete e[UN],delete e[VN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JT(t){return t.tag===5||t.tag===3||t.tag===4}function nw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ed));else if(r!==4&&(t=t.child,t!==null))for(jm(t,e,n),t=t.sibling;t!==null;)jm(t,e,n),t=t.sibling}function Wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wm(t,e,n),t=t.sibling;t!==null;)Wm(t,e,n),t=t.sibling}var bt=null,Xn=!1;function Jr(t,e,n){for(n=n.child;n!==null;)ZT(t,e,n),n=n.sibling}function ZT(t,e,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Kd,n)}catch{}switch(n.tag){case 5:Ut||no(n,e);case 6:var r=bt,i=Xn;bt=null,Jr(t,e,n),bt=r,Xn=i,bt!==null&&(Xn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Xn?(t=bt,n=n.stateNode,t.nodeType===8?lp(t.parentNode,n):t.nodeType===1&&lp(t,n),fl(t)):lp(bt,n.stateNode));break;case 4:r=bt,i=Xn,bt=n.stateNode.containerInfo,Xn=!0,Jr(t,e,n),bt=r,Xn=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&Bm(n,e,o),i=i.next}while(i!==r)}Jr(t,e,n);break;case 1:if(!Ut&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Jr(t,e,n),Ut=r):Jr(t,e,n);break;default:Jr(t,e,n)}}function rw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new t2),e.forEach(function(r){var i=d2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,Xn=!1;break e;case 3:bt=a.stateNode.containerInfo,Xn=!0;break e;case 4:bt=a.stateNode.containerInfo,Xn=!0;break e}a=a.return}if(bt===null)throw Error(P(160));ZT(s,o,i),bt=null,Xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eR(e,t),e=e.sibling}function eR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),rr(t),r&4){try{Qa(3,t,t.return),nh(3,t)}catch(p){tt(t,t.return,p)}try{Qa(5,t,t.return)}catch(p){tt(t,t.return,p)}}break;case 1:Kn(e,t),rr(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(Kn(e,t),rr(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var i=t.stateNode;try{ul(i,"")}catch(p){tt(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&SE(i,s),pm(a,o);var u=pm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?CE(i,d):c==="dangerouslySetInnerHTML"?RE(i,d):c==="children"?ul(i,d):Xg(i,c,d,u)}switch(a){case"input":um(i,s);break;case"textarea":EE(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ao(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?ao(i,!!s.multiple,s.defaultValue,!0):ao(i,!!s.multiple,s.multiple?[]:"",!1))}i[vl]=s}catch(p){tt(t,t.return,p)}}break;case 6:if(Kn(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){tt(t,t.return,p)}}break;case 3:if(Kn(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(e.containerInfo)}catch(p){tt(t,t.return,p)}break;case 4:Kn(e,t),rr(t);break;case 13:Kn(e,t),rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ay=st())),r&4&&rw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(u=Ut)||c,Kn(e,t),Ut=u):Kn(e,t),rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(j=t,c=t.child;c!==null;){for(d=j=c;j!==null;){switch(h=j,m=h.child,h.tag){case 0:case 11:case 14:case 15:Qa(4,h,h.return);break;case 1:no(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(p){tt(r,n,p)}}break;case 5:no(h,h.return);break;case 22:if(h.memoizedState!==null){sw(d);continue}}m!==null?(m.return=h,j=m):sw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kE("display",o))}catch(p){tt(t,t.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){tt(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Kn(e,t),rr(t),r&4&&rw(t);break;case 21:break;default:Kn(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(JT(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var s=nw(t);Wm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nw(t);jm(t,a,o);break;default:throw Error(P(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function r2(t,e,n){j=t,tR(t)}function tR(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ec;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=ec;var u=Ut;if(ec=o,(Ut=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?ow(i):l!==null?(l.return=o,j=l):ow(i);for(;s!==null;)j=s,tR(s),s=s.sibling;j=i,ec=a,Ut=u}iw(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,j=s):iw(t)}}function iw(t){for(;j!==null;){var e=j;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Ut||nh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&B1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}B1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&fl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ut||e.flags&512&&zm(e)}catch(h){tt(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function sw(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function ow(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nh(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{zm(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{zm(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var i2=Math.ceil,dd=Gr.ReactCurrentDispatcher,Iy=Gr.ReactCurrentOwner,zn=Gr.ReactCurrentBatchConfig,Re=0,Rt=null,ct=null,At=0,kn=0,ro=Li(0),mt=0,Rl=null,hs=0,rh=0,xy=0,Ya=null,hn=null,Ay=0,Ao=1/0,kr=null,hd=!1,Hm=null,_i=null,tc=!1,hi=null,fd=0,Xa=0,qm=null,xc=-1,Ac=0;function Zt(){return(Re&6)!==0?st():xc!==-1?xc:xc=st()}function Si(t){return(t.mode&1)===0?1:(Re&2)!==0&&At!==0?At&-At:BN.transition!==null?(Ac===0&&(Ac=UE()),Ac):(t=$e,t!==0||(t=window.event,t=t===void 0?16:HE(t.type)),t)}function er(t,e,n,r){if(50<Xa)throw Xa=0,qm=null,Error(P(185));Kl(t,n,r),((Re&2)===0||t!==Rt)&&(t===Rt&&((Re&2)===0&&(rh|=n),mt===4&&si(t,At)),vn(t,r),n===1&&Re===0&&(e.mode&1)===0&&(Ao=st()+500,Zd&&Mi()))}function vn(t,e){var n=t.callbackNode;BA(t,e);var r=Yc(t,t===Rt?At:0);if(r===0)n!==null&&m1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m1(n),e===1)t.tag===0?FN(aw.bind(null,t)):cT(aw.bind(null,t)),DN(function(){(Re&6)===0&&Mi()}),n=null;else{switch(VE(r)){case 1:n=ny;break;case 4:n=DE;break;case 16:n=Qc;break;case 536870912:n=OE;break;default:n=Qc}n=uR(n,nR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nR(t,e){if(xc=-1,Ac=0,(Re&6)!==0)throw Error(P(327));var n=t.callbackNode;if(fo()&&t.callbackNode!==n)return null;var r=Yc(t,t===Rt?At:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=pd(t,r);else{e=r;var i=Re;Re|=2;var s=iR();(Rt!==t||At!==e)&&(kr=null,Ao=st()+500,ns(t,e));do try{a2();break}catch(a){rR(t,a)}while(1);my(),dd.current=s,Re=i,ct!==null?e=0:(Rt=null,At=0,e=mt)}if(e!==0){if(e===2&&(i=wm(t),i!==0&&(r=i,e=Gm(t,i))),e===1)throw n=Rl,ns(t,0),si(t,r),vn(t,st()),n;if(e===6)si(t,r);else{if(i=t.current.alternate,(r&30)===0&&!s2(i)&&(e=pd(t,r),e===2&&(s=wm(t),s!==0&&(r=s,e=Gm(t,s))),e===1))throw n=Rl,ns(t,0),si(t,r),vn(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:qi(t,hn,kr);break;case 3:if(si(t,r),(r&130023424)===r&&(e=Ay+500-st(),10<e)){if(Yc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bm(qi.bind(null,t,hn,kr),e);break}qi(t,hn,kr);break;case 4:if(si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i2(r/1960))-r,10<r){t.timeoutHandle=bm(qi.bind(null,t,hn,kr),r);break}qi(t,hn,kr);break;case 5:qi(t,hn,kr);break;default:throw Error(P(329))}}}return vn(t,st()),t.callbackNode===n?nR.bind(null,t):null}function Gm(t,e){var n=Ya;return t.current.memoizedState.isDehydrated&&(ns(t,e).flags|=256),t=pd(t,e),t!==2&&(e=hn,hn=n,e!==null&&Km(e)),t}function Km(t){hn===null?hn=t:hn.push.apply(hn,t)}function s2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e){for(e&=~xy,e&=~rh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function aw(t){if((Re&6)!==0)throw Error(P(327));fo();var e=Yc(t,0);if((e&1)===0)return vn(t,st()),null;var n=pd(t,e);if(t.tag!==0&&n===2){var r=wm(t);r!==0&&(e=r,n=Gm(t,r))}if(n===1)throw n=Rl,ns(t,0),si(t,e),vn(t,st()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,hn,kr),vn(t,st()),null}function Ny(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(Ao=st()+500,Zd&&Mi())}}function fs(t){hi!==null&&hi.tag===0&&(Re&6)===0&&fo();var e=Re;Re|=1;var n=zn.transition,r=$e;try{if(zn.transition=null,$e=1,t)return t()}finally{$e=r,zn.transition=n,Re=e,(Re&6)===0&&Mi()}}function $y(){kn=ro.current,Be(ro)}function ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MN(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(hy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&td();break;case 3:Io(),Be(gn),Be(jt),Sy();break;case 5:_y(r);break;case 4:Io();break;case 13:Be(Ye);break;case 19:Be(Ye);break;case 10:gy(r.type._context);break;case 22:case 23:$y()}n=n.return}if(Rt=t,ct=t=Ei(t.current,null),At=kn=e,mt=0,Rl=null,xy=rh=hs=0,hn=Ya=null,Yi!==null){for(e=0;e<Yi.length;e++)if(n=Yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yi=null}return t}function rR(t,e){do{var n=ct;try{if(my(),Cc.current=cd,ud){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ud=!1}if(ds=0,Et=ft=Xe=null,Ka=!1,Sl=0,Iy.current=null,n===null||n.return===null){mt=1,Rl=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if((c.mode&1)===0&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=K1(o);if(m!==null){m.flags&=-257,Q1(m,o,a,s,e),m.mode&1&&G1(s,u,e),e=m,l=u;var f=e.updateQueue;if(f===null){var p=new Set;p.add(l),e.updateQueue=p}else f.add(l);break e}else{if((e&1)===0){G1(s,u,e),Py();break e}l=Error(P(426))}}else if(We&&a.mode&1){var E=K1(o);if(E!==null){(E.flags&65536)===0&&(E.flags|=256),Q1(E,o,a,s,e),fy(xo(l,a));break e}}s=l=xo(l,a),mt!==4&&(mt=2),Ya===null?Ya=[s]:Ya.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=FT(s,l,e);F1(s,y);break e;case 1:a=l;var g=s.type,w=s.stateNode;if((s.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_i===null||!_i.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=BT(s,a,e);F1(s,S);break e}}s=s.return}while(s!==null)}oR(n)}catch(C){e=C,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(1)}function iR(){var t=dd.current;return dd.current=cd,t===null?cd:t}function Py(){(mt===0||mt===3||mt===2)&&(mt=4),Rt===null||(hs&268435455)===0&&(rh&268435455)===0||si(Rt,At)}function pd(t,e){var n=Re;Re|=2;var r=iR();(Rt!==t||At!==e)&&(kr=null,ns(t,e));do try{o2();break}catch(i){rR(t,i)}while(1);if(my(),Re=n,dd.current=r,ct!==null)throw Error(P(261));return Rt=null,At=0,mt}function o2(){for(;ct!==null;)sR(ct)}function a2(){for(;ct!==null&&!$A();)sR(ct)}function sR(t){var e=lR(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?oR(t):ct=e,Iy.current=null}function oR(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=ZN(n,e,kn),n!==null){ct=n;return}}else{if(n=e2(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ct=null;return}}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);mt===0&&(mt=5)}function qi(t,e,n){var r=$e,i=zn.transition;try{zn.transition=null,$e=1,l2(t,e,n,r)}finally{zn.transition=i,$e=r}return null}function l2(t,e,n,r){do fo();while(hi!==null);if((Re&6)!==0)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zA(t,s),t===Rt&&(ct=Rt=null,At=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||tc||(tc=!0,uR(Qc,function(){return fo(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=zn.transition,zn.transition=null;var o=$e;$e=1;var a=Re;Re|=4,Iy.current=null,n2(t,n),eR(n,t),IN(km),Xc=!!Rm,km=Rm=null,t.current=n,r2(n),PA(),Re=a,$e=o,zn.transition=s}else t.current=n;if(tc&&(tc=!1,hi=t,fd=i),s=t.pendingLanes,s===0&&(_i=null),DA(n.stateNode),vn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hd)throw hd=!1,t=Hm,Hm=null,t;return(fd&1)!==0&&t.tag!==0&&fo(),s=t.pendingLanes,(s&1)!==0?t===qm?Xa++:(Xa=0,qm=t):Xa=0,Mi(),null}function fo(){if(hi!==null){var t=VE(fd),e=zn.transition,n=$e;try{if(zn.transition=null,$e=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,fd=0,(Re&6)!==0)throw Error(P(331));var i=Re;for(Re|=4,j=t.current;j!==null;){var s=j,o=s.child;if((j.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:Qa(8,c,s)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var h=c.sibling,m=c.return;if(XT(c),c===u){j=null;break}if(h!==null){h.return=m,j=h;break}j=m}}}var f=s.alternate;if(f!==null){var p=f.child;if(p!==null){f.child=null;do{var E=p.sibling;p.sibling=null,p=E}while(p!==null)}}j=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Qa(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,j=y;break e}j=s.return}}var g=t.current;for(j=g;j!==null;){o=j;var w=o.child;if((o.subtreeFlags&2064)!==0&&w!==null)w.return=o,j=w;else e:for(o=g;j!==null;){if(a=j,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:nh(9,a)}}catch(C){tt(a,a.return,C)}if(a===o){j=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,j=S;break e}j=a.return}}if(Re=i,Mi(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Kd,t)}catch{}r=!0}return r}finally{$e=n,zn.transition=e}}return!1}function lw(t,e,n){e=xo(n,e),e=FT(t,e,1),t=wi(t,e,1),e=Zt(),t!==null&&(Kl(t,1,e),vn(t,e))}function tt(t,e,n){if(t.tag===3)lw(t,t,n);else for(;e!==null;){if(e.tag===3){lw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){t=xo(n,t),t=BT(e,t,1),e=wi(e,t,1),t=Zt(),e!==null&&(Kl(e,1,t),vn(e,t));break}}e=e.return}}function u2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(At&n)===n&&(mt===4||mt===3&&(At&130023424)===At&&500>st()-Ay?ns(t,0):xy|=n),vn(t,e)}function aR(t,e){e===0&&((t.mode&1)===0?e=1:(e=Hu,Hu<<=1,(Hu&130023424)===0&&(Hu=4194304)));var n=Zt();t=Vr(t,e),t!==null&&(Kl(t,e,n),vn(t,n))}function c2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aR(t,n)}function d2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),aR(t,n)}var lR;lR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)pn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return pn=!1,JN(t,e,n);pn=(t.flags&131072)!==0}else pn=!1,We&&(e.flags&1048576)!==0&&dT(e,id,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ic(t,e),t=e.pendingProps;var i=ko(e,jt.current);ho(e,n),i=Ty(null,e,r,t,i,n);var s=Ry();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,nd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vy(e),i.updater=eh,e.stateNode=i,i._reactInternals=e,Lm(e,r,t,n),e=Om(null,e,r,!0,s,n)):(e.tag=0,We&&s&&dy(e),Xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=f2(r),t=Yn(r,t),i){case 0:e=Dm(null,e,r,t,n);break e;case 1:e=J1(null,e,r,t,n);break e;case 11:e=Y1(null,e,r,t,n);break e;case 14:e=X1(null,e,r,Yn(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Dm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),J1(t,e,r,i,n);case 3:e:{if(HT(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,mT(t,e),ad(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xo(Error(P(423)),e),e=Z1(t,e,r,n,i);break e}else if(r!==i){i=xo(Error(P(424)),e),e=Z1(t,e,r,n,i);break e}else for(Cn=vi(e.stateNode.containerInfo.firstChild),In=e,We=!0,Jn=null,n=wT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Co(),r===i){e=Fr(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return _T(e),t===null&&Nm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Cm(r,i)?o=null:s!==null&&Cm(r,s)&&(e.flags|=32),WT(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&Nm(e),null;case 13:return qT(t,e,n);case 4:return wy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bo(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Y1(t,e,r,i,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Oe(sd,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!gn.current){e=Fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$r(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$m(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$m(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ho(e,n),i=Hn(i),r=r(i),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,i=Yn(r,e.pendingProps),i=Yn(r.type,i),X1(t,e,r,i,n);case 15:return zT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Ic(t,e),e.tag=1,yn(r)?(t=!0,nd(e)):t=!1,ho(e,n),yT(e,r,i),Lm(e,r,i,n),Om(null,e,r,!0,t,n);case 19:return GT(t,e,n);case 22:return jT(t,e,n)}throw Error(P(156,e.tag))};function uR(t,e){return ME(t,e)}function h2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,r){return new h2(t,e,n,r)}function Ly(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f2(t){if(typeof t=="function")return Ly(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zg)return 11;if(t===ey)return 14}return 2}function Ei(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ly(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gs:return rs(n.children,i,s,e);case Jg:o=8,i|=8;break;case im:return t=Bn(12,n,e,i|2),t.elementType=im,t.lanes=s,t;case sm:return t=Bn(13,n,e,i),t.elementType=sm,t.lanes=s,t;case om:return t=Bn(19,n,e,i),t.elementType=om,t.lanes=s,t;case vE:return ih(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gE:o=10;break e;case yE:o=9;break e;case Zg:o=11;break e;case ey:o=14;break e;case ti:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Bn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function rs(t,e,n,r){return t=Bn(7,t,r,e),t.lanes=n,t}function ih(t,e,n,r){return t=Bn(22,t,r,e),t.elementType=vE,t.lanes=n,t.stateNode={isHidden:!1},t}function gp(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function yp(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xf(0),this.expirationTimes=Xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function My(t,e,n,r,i,s,o,a,l){return t=new p2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Bn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vy(s),t}function m2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cR(t){if(!t)return Ci;t=t._reactInternals;e:{if(Cs(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(yn(n))return uT(t,n,e)}return e}function dR(t,e,n,r,i,s,o,a,l){return t=My(n,r,!0,t,i,s,o,a,l),t.context=cR(null),n=t.current,r=Zt(),i=Si(n),s=$r(r,i),s.callback=e!=null?e:null,wi(n,s,i),t.current.lanes=i,Kl(t,i,r),vn(t,r),t}function sh(t,e,n,r){var i=e.current,s=Zt(),o=Si(i);return n=cR(n),e.context===null?e.context=n:e.pendingContext=n,e=$r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(i,e,o),t!==null&&(er(t,i,o,s),kc(t,i,o)),o}function md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dy(t,e){uw(t,e),(t=t.alternate)&&uw(t,e)}function g2(){return null}var hR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Oy(t){this._internalRoot=t}oh.prototype.render=Oy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));sh(t,e,null,null)};oh.prototype.unmount=Oy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fs(function(){sh(null,t,null,null)}),e[Ur]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=zE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&WE(t)}};function Uy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cw(){}function y2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=md(o);s.call(u)}}var o=dR(e,r,t,0,null,!1,!1,"",cw);return t._reactRootContainer=o,t[Ur]=o.current,gl(t.nodeType===8?t.parentNode:t),fs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=md(l);a.call(u)}}var l=My(t,0,!1,null,null,!1,!1,"",cw);return t._reactRootContainer=l,t[Ur]=l.current,gl(t.nodeType===8?t.parentNode:t),fs(function(){sh(e,l,n,r)}),l}function lh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=md(o);a.call(l)}}sh(e,o,t,i)}else o=y2(n,e,t,i,r);return md(o)}FE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$a(e.pendingLanes);n!==0&&(ry(e,n|1),vn(e,st()),(Re&6)===0&&(Ao=st()+500,Mi()))}break;case 13:fs(function(){var r=Vr(t,1);if(r!==null){var i=Zt();er(r,t,1,i)}}),Dy(t,1)}};iy=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=Zt();er(e,t,134217728,n)}Dy(t,134217728)}};BE=function(t){if(t.tag===13){var e=Si(t),n=Vr(t,e);if(n!==null){var r=Zt();er(n,t,e,r)}Dy(t,e)}};zE=function(){return $e};jE=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};gm=function(t,e,n){switch(e){case"input":if(um(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jd(r);if(!i)throw Error(P(90));_E(r),um(r,i)}}}break;case"textarea":EE(t,n);break;case"select":e=n.value,e!=null&&ao(t,!!n.multiple,e,!1)}};xE=Ny;AE=fs;var v2={usingClientEntryPoint:!1,Events:[Yl,Xs,Jd,bE,IE,Ny]},wa={findFiberByHostInstance:Qi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},w2={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PE(t),t===null?null:t.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||g2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Kd=nc.inject(w2),cr=nc}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v2;Ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uy(e))throw Error(P(200));return m2(t,e,null,n)};Ln.createRoot=function(t,e){if(!Uy(t))throw Error(P(299));var n=!1,r="",i=hR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=My(t,1,!1,null,null,n,!1,r,i),t[Ur]=e.current,gl(t.nodeType===8?t.parentNode:t),new Oy(e)};Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=PE(e),t=t===null?null:t.stateNode,t};Ln.flushSync=function(t){return fs(t)};Ln.hydrate=function(t,e,n){if(!ah(e))throw Error(P(200));return lh(null,t,e,!0,n)};Ln.hydrateRoot=function(t,e,n){if(!Uy(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=hR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dR(e,null,t,1,n!=null?n:null,i,!1,s,o),t[Ur]=e.current,gl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new oh(e)};Ln.render=function(t,e,n){if(!ah(e))throw Error(P(200));return lh(null,t,e,!1,n)};Ln.unmountComponentAtNode=function(t){if(!ah(t))throw Error(P(40));return t._reactRootContainer?(fs(function(){lh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};Ln.unstable_batchedUpdates=Ny;Ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ah(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return lh(t,e,n,!1,r)};Ln.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Ln})(Kg);const _2=rE(Kg.exports);var dw=Kg.exports;nm.createRoot=dw.createRoot,nm.hydrateRoot=dw.hydrateRoot;/**
 * @remix-run/router v1.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}var fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fi||(fi={}));const hw="popstate";function S2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Qm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:T2(i)}return R2(e,n,null,t)}function E2(){return Math.random().toString(36).substr(2,8)}function fw(t){return{usr:t.state,key:t.key}}function Qm(t,e,n,r){return n===void 0&&(n=null),gd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yo(e):e,{state:n,key:e&&e.key||r||E2()})}function T2(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function R2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=fi.Pop,l=null;function u(){a=fi.Pop,l&&l({action:a,location:h.location})}function c(m,f){a=fi.Push;let p=Qm(h.location,m,f);n&&n(p,m);let E=fw(p),y=h.createHref(p);try{o.pushState(E,"",y)}catch{i.location.assign(y)}s&&l&&l({action:a,location:p})}function d(m,f){a=fi.Replace;let p=Qm(h.location,m,f);n&&n(p,m);let E=fw(p),y=h.createHref(p);o.replaceState(E,"",y),s&&l&&l({action:a,location:p})}let h={get action(){return a},get location(){return t(i,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hw,u),l=m,()=>{i.removeEventListener(hw,u),l=null}},createHref(m){return e(i,m)},push:c,replace:d,go(m){return o.go(m)}};return h}var pw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pw||(pw={}));function k2(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Yo(e):e,i=pR(r.pathname||"/",n);if(i==null)return null;let s=fR(t);C2(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=M2(s[a],i);return o}function fR(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&($n(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=is([r,o.relativePath]),l=n.concat(o);i.children&&i.children.length>0&&($n(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),fR(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:P2(a,i.index),routesMeta:l})}),e}function C2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:L2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const b2=/^:\w+$/,I2=3,x2=2,A2=1,N2=10,$2=-2,mw=t=>t==="*";function P2(t,e){let n=t.split("/"),r=n.length;return n.some(mw)&&(r+=$2),e&&(r+=x2),n.filter(i=>!mw(i)).reduce((i,s)=>i+(b2.test(s)?I2:s===""?A2:N2),r)}function L2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function M2(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=D2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:is([i,c.pathname]),pathnameBase:z2(is([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=is([i,c.pathnameBase]))}return s}function D2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=O2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=U2(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function O2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function U2(t,e){try{return decodeURIComponent(t)}catch(n){return mR(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function pR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $n(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yo(t):t;return{pathname:n?n.startsWith("/")?n:F2(n,e):e,search:j2(r),hash:W2(i)}}function F2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function B2(t,e,n,r){r===void 0&&(r=!1);let i=typeof t=="string"?Yo(t):gd({},t),s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=V2(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const is=t=>t.join("/").replace(/\/\/+/g,"/"),z2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,W2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class H2{constructor(e,n,r){this.status=e,this.statusText=n||"",this.data=r}}function q2(t){return t instanceof H2}var uh={exports:{}},ch={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G2=_.exports,K2=Symbol.for("react.element"),Q2=Symbol.for("react.fragment"),Y2=Object.prototype.hasOwnProperty,X2=G2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J2={key:!0,ref:!0,__self:!0,__source:!0};function gR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Y2.call(e,r)&&!J2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:K2,type:t,key:s,ref:o,props:i,_owner:X2.current}}ch.Fragment=Q2;ch.jsx=gR;ch.jsxs=gR;(function(t){t.exports=ch})(uh);const vt=uh.exports.Fragment,v=uh.exports.jsx,V=uh.exports.jsxs,Z2=Object.freeze(Object.defineProperty({__proto__:null,Fragment:vt,jsx:v,jsxs:V},Symbol.toStringTag,{value:"Module"}));/**
 * React Router v6.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ym(){return Ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ym.apply(this,arguments)}function e$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const t$=typeof Object.is=="function"?Object.is:e$,{useState:n$,useEffect:r$,useLayoutEffect:i$,useDebugValue:s$}=To;function o$(t,e,n){const r=e(),[{inst:i},s]=n$({inst:{value:r,getSnapshot:e}});return i$(()=>{i.value=r,i.getSnapshot=e,vp(i)&&s({inst:i})},[t,r,e]),r$(()=>(vp(i)&&s({inst:i}),t(()=>{vp(i)&&s({inst:i})})),[t]),s$(r),r}function vp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!t$(n,r)}catch{return!0}}function a$(t,e,n){return e()}const l$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u$=!l$,c$=u$?a$:o$;"useSyncExternalStore"in To&&(t=>t.useSyncExternalStore)(To);const d$=_.exports.createContext(null),h$=_.exports.createContext(null),yR=_.exports.createContext(null),vR=_.exports.createContext(null),dh=_.exports.createContext(null),Xo=_.exports.createContext({outlet:null,matches:[]}),wR=_.exports.createContext(null);function hh(){return _.exports.useContext(dh)!=null}function fh(){return hh()||$n(!1),_.exports.useContext(dh).location}function f$(t){return t.filter((e,n)=>n===0||!e.route.index&&e.pathnameBase!==t[n-1].pathnameBase)}function p$(){hh()||$n(!1);let{basename:t,navigator:e}=_.exports.useContext(vR),{matches:n}=_.exports.useContext(Xo),{pathname:r}=fh(),i=JSON.stringify(f$(n).map(a=>a.pathnameBase)),s=_.exports.useRef(!1);return _.exports.useEffect(()=>{s.current=!0}),_.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=B2(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:is([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const m$=_.exports.createContext(null);function g$(t){let e=_.exports.useContext(Xo).outlet;return e&&v(m$.Provider,{value:t,children:e})}function Ht(){let{matches:t}=_.exports.useContext(Xo),e=t[t.length-1];return e?e.params:{}}function y$(t,e){hh()||$n(!1);let n=_.exports.useContext(yR),{matches:r}=_.exports.useContext(Xo),i=r[r.length-1],s=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let a=fh(),l;if(e){var u;let f=typeof e=="string"?Yo(e):e;o==="/"||((u=f.pathname)==null?void 0:u.startsWith(o))||$n(!1),l=f}else l=a;let c=l.pathname||"/",d=o==="/"?c:c.slice(o.length)||"/",h=k2(t,{pathname:d}),m=S$(h&&h.map(f=>Object.assign({},f,{params:Object.assign({},s,f.params),pathname:is([o,f.pathname]),pathnameBase:f.pathnameBase==="/"?o:is([o,f.pathnameBase])})),r,n||void 0);return e?v(dh.Provider,{value:{location:Ym({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:fi.Pop},children:m}):m}function v$(){let t=T$(),e=q2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return V(vt,{children:[v("h2",{children:"Unhandled Thrown Error!"}),v("h3",{style:{fontStyle:"italic"},children:e}),n?v("pre",{style:i,children:n}):null,v("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),V("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",v("code",{style:s,children:"errorElement"})," props on\xA0",v("code",{style:s,children:"<Route>"})]})]})}class w$ extends _.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?v(wR.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function _$(t){let{routeContext:e,match:n,children:r}=t,i=_.exports.useContext(d$);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),v(Xo.Provider,{value:e,children:r})}function S$(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||$n(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=n?o.route.errorElement||v(v$,{}):null,c=()=>v(_$,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))},children:l?u:o.route.element!==void 0?o.route.element:s});return n&&(o.route.errorElement||a===0)?v(w$,{location:n.location,component:u,error:l,children:c()}):c()},null)}var Xm;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Xm||(Xm={}));function E$(t){let e=_.exports.useContext(yR);return e||$n(!1),e}function T$(){var t;let e=_.exports.useContext(wR),n=E$(Xm.UseRouteError),r=_.exports.useContext(Xo),i=r.matches[r.matches.length-1];return e||(r||$n(!1),i.route.id||$n(!1),(t=n.errors)==null?void 0:t[i.route.id])}function R$(t){return g$(t.context)}function Yt(t){$n(!1)}function k$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=fi.Pop,navigator:s,static:o=!1}=t;hh()&&$n(!1);let a=e.replace(/^\/*/,"/"),l=_.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Yo(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:m="default"}=r,f=_.exports.useMemo(()=>{let p=pR(u,a);return p==null?null:{pathname:p,search:c,hash:d,state:h,key:m}},[a,u,c,d,h,m]);return f==null?null:v(vR.Provider,{value:l,children:v(dh.Provider,{children:n,value:{location:f,navigationType:i}})})}function C$(t){let{children:e,location:n}=t,r=_.exports.useContext(h$),i=r&&!e?r.router.routes:Jm(e);return y$(i,n)}var gw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(gw||(gw={}));new Promise(()=>{});function Jm(t,e){e===void 0&&(e=[]);let n=[];return _.exports.Children.forEach(t,(r,i)=>{if(!_.exports.isValidElement(r))return;if(r.type===_.exports.Fragment){n.push.apply(n,Jm(r.props.children,e));return}r.type!==Yt&&$n(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=Jm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b$(t){let{basename:e,children:n,window:r}=t,i=_.exports.useRef();i.current==null&&(i.current=S2({window:r,v5Compat:!0}));let s=i.current,[o,a]=_.exports.useState({action:s.action,location:s.location});return _.exports.useLayoutEffect(()=>s.listen(a),[s]),v(k$,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const I$="_filled_js5dg_1",x$="_primary_js5dg_5",A$="_transparent_js5dg_14",N$="_contained_js5dg_24",$$="_outlined_js5dg_50",P$="_error_js5dg_77",L$="_success_js5dg_89",M$="_fullWidth_js5dg_102",D$="_button_js5dg_106",O$="_header_js5dg_118",Rn={filled:I$,primary:x$,transparent:A$,contained:N$,outlined:$$,error:P$,success:L$,fullWidth:M$,button:D$,header:O$},Qe=({type:t,disabled:e=!1,width:n,height:r,margin:i,children:s,onClick:o,color:a="transparent",variant:l="filled",rounded:u=!1,fullWidth:c=!1,startIcon:d,endIcon:h,header:m=!1})=>{const f=y=>{switch(y){case"filled":return Rn.filled;case"contained":return Rn.contained;case"outlined":return Rn.outlined;default:return Rn.filled}},p=y=>{switch(y){case"primary":return Rn.primary;case"transparent":return Rn.transparent;case"error":return Rn.error;case"success":return Rn.success;default:return Rn.transparent}},E=y=>y?Rn.fullWidth:Rn.cutomWidth;return V("button",{type:t,disabled:e,onClick:o,style:{width:`${n}`,height:`${r}`,margin:`${i}`,borderRadius:`${u?"24px":"0px"}`},className:`${f(l)} ${p(a)} ${E(c)} ${Rn.button} ${m&&Rn.header}`,children:[d,s,h]})},_R=""+new URL("logo.024a6a87.svg",import.meta.url).href,U$="_container_gxw60_1",V$="_buttonGroup_gxw60_19",F$="_logo_gxw60_31",wp={container:U$,buttonGroup:V$,logo:F$},ht=()=>{const t=p$();return{toStart:()=>{t("/")},toLogin:()=>{t("/login")},toRegist:()=>{t("/regist")},toReset:()=>{t("/reset")},toComplete:p=>{t("/reset/complete",{state:p})},toProfile:p=>{t(`/${p}/profile`)},toHome:(p,E)=>{E?t(`/${p}/home`,{state:E}):t(`/${p}/home`)},toPrivate:p=>{t(`/${p}/private`)},toPrivateRoom:(p,E)=>{t(`/${p}/private/${E}`)},toGroup:p=>{t(`/${p}/group`)},toGroupRoom:(p,E,y)=>{t(`/${p}/group/${E}`,{state:y})},toJoin:p=>{t(`/${p}/group/join`)},toCreate:p=>{t(`/${p}/group/create`)},toRedirect:p=>{t(".",{replace:!0,state:p})}}},B$=()=>{const{toLogin:t,toRegist:e}=ht();return V("div",{className:wp.container,children:[v("img",{src:_R,alt:"logo",className:wp.logo}),V("div",{className:wp.buttonGroup,children:[v(Qe,{type:"button",color:"primary",variant:"contained",rounded:!0,onClick:e,height:"50px",width:"150px",children:"Get Started"}),v(Qe,{type:"button",color:"transparent",variant:"filled",onClick:t,height:"30px",width:"150px",children:"Sign In >"})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},z$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ER={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),r.push(n[c],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const h=s<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const f=u<<6&192|d;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},j$=function(t){const e=SR(t);return ER.encodeByteArray(e,!0)},TR=function(t){return j$(t).replace(/\./g,"")},W$=function(t){try{return ER.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function G$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q$(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Y$(){return typeof indexedDB=="object"}function X$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="FirebaseError";class yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J$,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Z$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yr(i,a,r)}}function Z$(t,e){return t.replace(eP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eP=/\{\$([^}]+)}/g;function tP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(yw(s)&&yw(o)){if(!yd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function La(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ma(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nP(t,e){const n=new rP(t,e);return n.subscribe.bind(n)}class rP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_p),i.error===void 0&&(i.error=_p),i.complete===void 0&&(i.complete=_p);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new H$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aP(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oP(t){return t===Gi?void 0:t}function aP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const uP={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},cP=Ce.INFO,dP={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},hP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vy{constructor(e){this.name=e,this._logLevel=cP,this._logHandler=hP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const fP=(t,e)=>e.some(n=>t instanceof n);let vw,ww;function pP(){return vw||(vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mP(){return ww||(ww=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RR=new WeakMap,Zm=new WeakMap,kR=new WeakMap,Sp=new WeakMap,Fy=new WeakMap;function gP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ti(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&RR.set(n,t)}).catch(()=>{}),Fy.set(e,t),e}function yP(t){if(Zm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zm.set(t,e)}let eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vP(t){eg=t(eg)}function wP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ep(this),e,...n);return kR.set(r,e.sort?e.sort():[e]),Ti(r)}:mP().includes(t)?function(...e){return t.apply(Ep(this),e),Ti(RR.get(this))}:function(...e){return Ti(t.apply(Ep(this),e))}}function _P(t){return typeof t=="function"?wP(t):(t instanceof IDBTransaction&&yP(t),fP(t,pP())?new Proxy(t,eg):t)}function Ti(t){if(t instanceof IDBRequest)return gP(t);if(Sp.has(t))return Sp.get(t);const e=_P(t);return e!==t&&(Sp.set(t,e),Fy.set(e,t)),e}const Ep=t=>Fy.get(t);function SP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ti(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ti(o.result),l.oldVersion,l.newVersion,Ti(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const EP=["get","getKey","getAll","getAllKeys","count"],TP=["put","add","delete","clear"],Tp=new Map;function _w(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tp.get(e))return Tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Tp.set(e,s),s}vP(t=>({...t,get:(e,n,r)=>_w(e,n)||t.get(e,n,r),has:(e,n)=>!!_w(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tg="@firebase/app",Sw="0.7.33";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Vy("@firebase/app"),CP="@firebase/app-compat",bP="@firebase/analytics-compat",IP="@firebase/analytics",xP="@firebase/app-check-compat",AP="@firebase/app-check",NP="@firebase/auth",$P="@firebase/auth-compat",PP="@firebase/database",LP="@firebase/database-compat",MP="@firebase/functions",DP="@firebase/functions-compat",OP="@firebase/installations",UP="@firebase/installations-compat",VP="@firebase/messaging",FP="@firebase/messaging-compat",BP="@firebase/performance",zP="@firebase/performance-compat",jP="@firebase/remote-config",WP="@firebase/remote-config-compat",HP="@firebase/storage",qP="@firebase/storage-compat",GP="@firebase/firestore",KP="@firebase/firestore-compat",QP="firebase",YP="9.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="[DEFAULT]",XP={[tg]:"fire-core",[CP]:"fire-core-compat",[IP]:"fire-analytics",[bP]:"fire-analytics-compat",[AP]:"fire-app-check",[xP]:"fire-app-check-compat",[NP]:"fire-auth",[$P]:"fire-auth-compat",[PP]:"fire-rtdb",[LP]:"fire-rtdb-compat",[MP]:"fire-fn",[DP]:"fire-fn-compat",[OP]:"fire-iid",[UP]:"fire-iid-compat",[VP]:"fire-fcm",[FP]:"fire-fcm-compat",[BP]:"fire-perf",[zP]:"fire-perf-compat",[jP]:"fire-rc",[WP]:"fire-rc-compat",[HP]:"fire-gcs",[qP]:"fire-gcs-compat",[GP]:"fire-fst",[KP]:"fire-fst-compat","fire-js":"fire-js",[QP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Map,ng=new Map;function JP(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ms(t){const e=t.name;if(ng.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;ng.set(e,t);for(const n of vd.values())JP(n,t);return!0}function ph(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gs=new Jl("app","Firebase",ZP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=YP;function tL(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:CR,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw gs.create("bad-app-name",{appName:String(r)});const i=vd.get(r);if(i){if(yd(t,i.options)&&yd(n,i.config))return i;throw gs.create("duplicate-app",{appName:r})}const s=new lP(r);for(const a of ng.values())s.addComponent(a);const o=new eL(t,n,s);return vd.set(r,o),o}function By(t=CR){const e=vd.get(t);if(!e)throw gs.create("no-app",{appName:t});return e}function hr(t,e,n){var r;let i=(r=XP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(a.join(" "));return}ms(new bi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="firebase-heartbeat-database",rL=1,kl="firebase-heartbeat-store";let Rp=null;function bR(){return Rp||(Rp=SP(nL,rL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(kl)}}}).catch(t=>{throw gs.create("idb-open",{originalErrorMessage:t.message})})),Rp}async function iL(t){var e;try{return(await bR()).transaction(kl).objectStore(kl).get(IR(t))}catch(n){if(n instanceof yr)ps.warn(n.message);else{const r=gs.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});ps.warn(r.message)}}}async function Ew(t,e){var n;try{const i=(await bR()).transaction(kl,"readwrite");return await i.objectStore(kl).put(e,IR(t)),i.done}catch(r){if(r instanceof yr)ps.warn(r.message);else{const i=gs.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});ps.warn(i.message)}}}function IR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=1024,oL=30*24*60*60*1e3;class aL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Tw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=oL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Tw(),{heartbeatsToSend:n,unsentEntries:r}=lL(this._heartbeatsCache.heartbeats),i=TR(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Tw(){return new Date().toISOString().substring(0,10)}function lL(t,e=sL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Rw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y$()?X$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await iL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ew(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ew(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rw(t){return TR(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){ms(new bi("platform-logger",e=>new RP(e),"PRIVATE")),ms(new bi("heartbeat",e=>new aL(e),"PRIVATE")),hr(tg,Sw,t),hr(tg,Sw,"esm2017"),hr("fire-js","")}cL("");var dL="firebase",hL="9.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(dL,hL,"app");function zy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xR(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fL=xR,AR=new Jl("auth","Firebase",xR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Vy("@firebase/auth");function $c(t,...e){kw.logLevel<=Ce.ERROR&&kw.error(`Auth (${Jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw jy(t,...e)}function fr(t,...e){return jy(t,...e)}function pL(t,e,n){const r=Object.assign(Object.assign({},fL()),{[e]:n});return new Jl("auth","Firebase",r).create(e,{appName:t.name})}function jy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AR.create(t,...e)}function ie(t,e,...n){if(!t)throw jy(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $c(e),new Error(e)}function Br(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new Map;function Ar(t){Br(t instanceof Function,"Expected a class definition");let e=Cw.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cw.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t,e){const n=ph(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(yd(s,e!=null?e:{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}function gL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yL(){return bw()==="http:"||bw()==="https:"}function bw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yL()||G$()||"connection"in navigator)?navigator.onLine:!0}function wL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=q$()||K$()}get(){return vL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new eu(3e4,6e4);function Zo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bs(t,e,n,r,i={}){return $R(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Zl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),NR.fetch()(PR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function $R(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_L),e);try{const i=new EL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw rc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw rc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw rc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw pL(t,c,u);nr(t,c)}}catch(i){if(i instanceof yr)throw i;nr(t,"network-request-failed")}}async function tu(t,e,n,r,i={}){const s=await bs(t,e,n,r,i);return"mfaPendingCredential"in s&&nr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function PR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Wy(t.config,i):`${t.config.apiScheme}://${i}`}class EL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),SL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e){return bs(t,"POST","/v1/accounts:delete",e)}async function RL(t,e){return bs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kL(t,e=!1){const n=et(t),r=await n.getIdToken(e),i=Hy(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ja(kp(i.auth_time)),issuedAtTime:Ja(kp(i.iat)),expirationTime:Ja(kp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function kp(t){return Number(t)*1e3}function Hy(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const s=W$(r);return s?JSON.parse(s):($c("Failed to decode base64 JWT payload"),null)}catch(s){return $c("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function CL(t){const e=Hy(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yr&&bL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ja(this.lastLoginAt),this.creationTime=Ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await No(t,RL(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NL(s.providerUserInfo):[],a=AL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new LR(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function xL(t){const e=et(t);await wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NL(t){return t.map(e=>{var{providerId:n}=e,r=zy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(t,e){const n=await $R(t,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await $L(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Cl;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ss{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new LR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await No(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kL(this,e)}reload(){return xL(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await No(this,TL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,f=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:S,isAnonymous:C,providerData:I,stsTokenManager:b}=n;ie(w&&b,e,"internal-error");const N=Cl.fromJSON(this.name,b);ie(typeof w=="string",e,"internal-error"),Zr(d,e.name),Zr(h,e.name),ie(typeof S=="boolean",e,"internal-error"),ie(typeof C=="boolean",e,"internal-error"),Zr(m,e.name),Zr(f,e.name),Zr(p,e.name),Zr(E,e.name),Zr(y,e.name),Zr(g,e.name);const Z=new ss({uid:w,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:C,photoURL:f,phoneNumber:m,tenantId:p,stsTokenManager:N,createdAt:y,lastLoginAt:g});return I&&Array.isArray(I)&&(Z.providerData=I.map(x=>Object.assign({},x))),E&&(Z._redirectEventId=E),Z}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cl;i.updateFromServerResponse(n);const s=new ss({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wd(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MR.type="NONE";const Iw=MR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e,n){return`firebase:${t}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Pc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Pc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new po(Ar(Iw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ar(Iw);const o=Pc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ss._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new po(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new po(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FR(e))return"Blackberry";if(BR(e))return"Webos";if(qy(e))return"Safari";if((e.includes("chrome/")||OR(e))&&!e.includes("edge/"))return"Chrome";if(VR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DR(t=Wt()){return/firefox\//i.test(t)}function qy(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OR(t=Wt()){return/crios\//i.test(t)}function UR(t=Wt()){return/iemobile/i.test(t)}function VR(t=Wt()){return/android/i.test(t)}function FR(t=Wt()){return/blackberry/i.test(t)}function BR(t=Wt()){return/webos/i.test(t)}function mh(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PL(t=Wt()){var e;return mh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LL(){return Q$()&&document.documentMode===10}function zR(t=Wt()){return mh(t)||VR(t)||BR(t)||FR(t)||/windows phone/i.test(t)||UR(t)}function ML(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t,e=[]){let n;switch(t){case"Browser":n=xw(Wt());break;case"Worker":n=`${xw(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Aw(this),this.idTokenSubscription=new Aw(this),this.beforeStateQueue=new DL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AR,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await wd(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?et(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ar(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function gh(t){return et(t)}class Aw{constructor(e){this.auth=e,this.observer=null,this.addObserver=nP(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function UL(t,e){return bs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e){return tu(t,"POST","/v1/accounts:signInWithPassword",Zo(t,e))}async function FL(t,e){return bs(t,"POST","/v1/accounts:sendOobCode",Zo(t,e))}async function BL(t,e){return FL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e){return tu(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}async function jL(t,e){return tu(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Gy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new bl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return VL(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return zL(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return UL(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return jL(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t,e){return tu(t,"POST","/v1/accounts:signInWithIdp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="http://localhost";class ys extends Gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=zy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:WL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qL(t){const e=La(Ma(t)).link,n=e?La(Ma(e)).deep_link_id:null,r=La(Ma(t)).deep_link_id;return(r?La(Ma(r)).link:null)||r||n||e||t}class Ky{constructor(e){var n,r,i,s,o,a;const l=La(Ma(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=HL((i=l.mode)!==null&&i!==void 0?i:null);ie(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=qL(e);try{return new Ky(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,n){return bl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ky.parseLink(n);return ie(r,"argument-error"),bl._fromEmailAndCode(e,r.code,r.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends WR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends nu{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ys._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends nu{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends nu{constructor(){super("twitter.com")}static credential(e,n){return ys._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e){return tu(t,"POST","/v1/accounts:signUp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ss._fromIdTokenResponse(e,r,i),o=Nw(r);return new vs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Nw(r);return new vs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Nw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _d(e,n,r,i)}}function HR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(t,s,e,r):s})}async function KL(t,e,n=!1){const r=await No(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await No(t,HR(i,s,e,t),n);ie(o.idToken,i,"internal-error");const a=Hy(o.idToken);ie(a,i,"internal-error");const{sub:l}=a;return ie(t.uid===l,i,"user-mismatch"),vs._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&nr(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t,e,n=!1){const r="signIn",i=await HR(t,r,e),s=await vs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function YL(t,e){return qR(gh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e,n){var r;ie(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ie(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ie(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ie(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e,n){const r=et(t),i={requestType:"PASSWORD_RESET",email:e};n&&XL(r,i,n),await BL(r,i)}async function ZL(t,e,n){const r=gh(t),i=await GL(r,{returnSecureToken:!0,email:e,password:n}),s=await vs._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function eM(t,e,n){return YL(et(t),ea.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e){return bs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=et(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await No(r,tM(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t,e){return et(t).setPersistence(e)}function rM(t,e,n,r){return et(t).onAuthStateChanged(e,n,r)}function iM(t){return et(t).signOut()}const Sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(){const t=Wt();return qy(t)||mh(t)}const oM=1e3,aM=10;class KR extends GR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sM()&&ML(),this.fallbackToPolling=zR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);LL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KR.type="LOCAL";const lM=KR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends GR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QR.type="SESSION";const Qy=QR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await uM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Yy("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function dM(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function hM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pM(){return YR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="firebaseLocalStorageDb",mM=1,Ed="firebaseLocalStorage",JR="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(t,e){return t.transaction([Ed],e?"readwrite":"readonly").objectStore(Ed)}function gM(){const t=indexedDB.deleteDatabase(XR);return new ru(t).toPromise()}function ig(){const t=indexedDB.open(XR,mM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ed,{keyPath:JR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ed)?e(r):(r.close(),await gM(),e(await ig()))})})}async function Pw(t,e,n){const r=vh(t,!0).put({[JR]:e,value:n});return new ru(r).toPromise()}async function yM(t,e){const n=vh(t,!1).get(e),r=await new ru(n).toPromise();return r===void 0?null:r.value}function Lw(t,e){const n=vh(t,!0).delete(e);return new ru(n).toPromise()}const vM=800,wM=3;class ZR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(pM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hM(),!this.activeServiceWorker)return;this.sender=new cM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ig();return await Pw(e,Sd,"1"),await Lw(e,Sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Pw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=vh(i,!1).getAll();return new ru(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZR.type="LOCAL";const _M=ZR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function EM(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",SM().appendChild(r)})}function TM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t,e){return e?Ar(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends Gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kM(t){return qR(t.auth,new Xy(t),t.bypassAuthState)}function CM(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),QL(n,new Xy(t),t.bypassAuthState)}async function bM(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),KL(n,new Xy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kM;case"linkViaPopup":case"linkViaRedirect":return bM;case"reauthViaPopup":case"reauthViaRedirect":return CM;default:nr(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new eu(2e3,1e4);class io extends ek{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=Yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,IM.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="pendingRedirect",Lc=new Map;class AM extends ek{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const r=await NM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NM(t,e){const n=LM(e),r=PM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $M(t,e){Lc.set(t._key(),e)}function PM(t){return Ar(t._redirectPersistence)}function LM(t){return Pc(xM,t.config.apiKey,t.name)}async function MM(t,e,n=!1){const r=gh(t),i=RM(r,e),o=await new AM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=10*60*1e3;class OM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mw(e))}saveEventToCache(e){this.cachedEventUids.add(Mw(e)),this.lastProcessedEventTime=Date.now()}}function Mw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t,e={}){return bs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BM=/^https?/;async function zM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VM(t);for(const n of e)try{if(jM(n))return}catch{}nr(t,"unauthorized-domain")}function jM(t){const e=rg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BM.test(n))return!1;if(FM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new eu(3e4,6e4);function Dw(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HM(t){return new Promise((e,n)=>{var r,i,s;function o(){Dw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dw(),n(fr(t,"network-request-failed"))},timeout:WM.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pr().gapi)===null||s===void 0)&&s.load)o();else{const a=TM("iframefcb");return pr()[a]=()=>{gapi.load?o():n(fr(t,"network-request-failed"))},EM(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function qM(t){return Mc=Mc||HM(t),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new eu(5e3,15e3),KM="__/auth/iframe",QM="emulator/auth/iframe",YM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JM(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wy(e,QM):`https://${t.config.authDomain}/${KM}`,r={apiKey:e.apiKey,appName:t.name,v:Jo},i=XM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zl(r).slice(1)}`}async function ZM(t){const e=await qM(t),n=pr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:JM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fr(t,"network-request-failed"),a=pr().setTimeout(()=>{s(o)},GM.get());function l(){pr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tD=500,nD=600,rD="_blank",iD="http://localhost";class Ow{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sD(t,e,n,r=tD,i=nD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},eD),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Wt().toLowerCase();n&&(a=OR(u)?rD:n),DR(u)&&(e=e||iD,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[m,f])=>`${h}${m}=${f},`,"");if(PL(u)&&a!=="_self")return oD(e||"",a),new Ow(null);const d=window.open(e||"",a,c);ie(d,t,"popup-blocked");try{d.focus()}catch{}return new Ow(d)}function oD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="__/auth/handler",lD="emulator/auth/handler";function Uw(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jo,eventId:i};if(e instanceof WR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof nu){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${uD(t)}?${Zl(a).slice(1)}`}function uD({config:t}){return t.emulator?Wy(t,lD):`https://${t.authDomain}/${aD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="webStorageSupport";class cD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qy,this._completeRedirectFn=MM,this._overrideRedirectResult=$M}async _openPopup(e,n,r,i){var s;Br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Uw(e,n,r,rg(),i);return sD(e,o,Yy())}async _openRedirect(e,n,r,i){return await this._originValidation(e),dM(Uw(e,n,r,rg(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZM(e),r=new OM(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cp,{type:Cp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Cp];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zR()||qy()||mh()}}const dD=cD;var Vw="@firebase/auth",Fw="0.20.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function pD(t){ms(new bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{ie(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ie(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jR(t)},c=new OL(a,l,u);return gL(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ms(new bi("auth-internal",e=>{const n=gh(e.getProvider("auth").getImmediate());return(r=>new hD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(Vw,Fw,fD(t)),hr(Vw,Fw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t=By()){const e=ph(t,"auth");return e.isInitialized()?e.getImmediate():mL(t,{popupRedirectResolver:dD,persistence:[_M,lM,Qy]})}pD("Browser");var gD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K,Jy=Jy||{},le=gD||self;function Td(){}function wh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function iu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function yD(t){return Object.prototype.hasOwnProperty.call(t,bp)&&t[bp]||(t[bp]=++vD)}var bp="closure_uid_"+(1e9*Math.random()>>>0),vD=0;function wD(t,e,n){return t.call.apply(t.bind,arguments)}function _D(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Bt=wD:Bt=_D,Bt.apply(null,arguments)}function ic(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Lt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Di(){this.s=this.s,this.o=this.o}var SD=0;Di.prototype.s=!1;Di.prototype.na=function(){!this.s&&(this.s=!0,this.M(),SD!=0)&&yD(this)};Di.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Zy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var ED=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{le.addEventListener("test",Td,e),le.removeEventListener("test",Td,e)}catch{}return t}();function Rd(t){return/^[\s\xa0]*$/.test(t)}var zw=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ip(t,e){return t<e?-1:t>e?1:0}function _h(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function lr(t){return _h().indexOf(t)!=-1}function ev(t){return ev[" "](t),t}ev[" "]=Td;function TD(t){var e=CD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var RD=lr("Opera"),$o=lr("Trident")||lr("MSIE"),rk=lr("Edge"),sg=rk||$o,ik=lr("Gecko")&&!(_h().toLowerCase().indexOf("webkit")!=-1&&!lr("Edge"))&&!(lr("Trident")||lr("MSIE"))&&!lr("Edge"),kD=_h().toLowerCase().indexOf("webkit")!=-1&&!lr("Edge");function sk(){var t=le.document;return t?t.documentMode:void 0}var kd;e:{var xp="",Ap=function(){var t=_h();if(ik)return/rv:([^\);]+)(\)|;)/.exec(t);if(rk)return/Edge\/([\d\.]+)/.exec(t);if($o)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(kD)return/WebKit\/(\S+)/.exec(t);if(RD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ap&&(xp=Ap?Ap[1]:""),$o){var Np=sk();if(Np!=null&&Np>parseFloat(xp)){kd=String(Np);break e}}kd=xp}var CD={};function bD(){return TD(function(){let t=0;const e=zw(String(kd)).split("."),n=zw("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Ip(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Ip(i[2].length==0,s[2].length==0)||Ip(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var og;if(le.document&&$o){var jw=sk();og=jw||parseInt(kd,10)||void 0}else og=void 0;var ID=og;function Il(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ik){e:{try{ev(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:xD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Il.X.h.call(this)}}Lt(Il,zt);var xD={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var su="closure_listenable_"+(1e6*Math.random()|0),AD=0;function ND(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++AD,this.ba=this.ea=!1}function Sh(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function tv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ok(t){const e={};for(const n in t)e[n]=t[n];return e}const Ww="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ak(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Ww.length;s++)n=Ww[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Eh(t){this.src=t,this.g={},this.h=0}Eh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=lg(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new ND(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function ag(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=nk(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function lg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var nv="closure_lm_"+(1e6*Math.random()|0),$p={};function lk(t,e,n,r,i){if(r&&r.once)return ck(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lk(t,e[s],n,r,i);return null}return n=sv(n),t&&t[su]?t.N(e,n,iu(r)?!!r.capture:!!r,i):uk(t,e,n,!1,r,i)}function uk(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=iu(i)?!!i.capture:!!i,a=iv(t);if(a||(t[nv]=a=new Eh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=$D(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ED||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $D(){function t(n){return e.call(t.src,t.listener,n)}const e=PD;return t}function ck(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ck(t,e[s],n,r,i);return null}return n=sv(n),t&&t[su]?t.O(e,n,iu(r)?!!r.capture:!!r,i):uk(t,e,n,!0,r,i)}function dk(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dk(t,e[s],n,r,i);else r=iu(r)?!!r.capture:!!r,n=sv(n),t&&t[su]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=lg(s,n,r,i),-1<n&&(Sh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=iv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=lg(e,n,r,i)),(n=-1<t?e[t]:null)&&rv(n))}function rv(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[su])ag(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=iv(e))?(ag(n,t),n.h==0&&(n.src=null,e[nv]=null)):Sh(t)}}}function hk(t){return t in $p?$p[t]:$p[t]="on"+t}function PD(t,e){if(t.ba)t=!0;else{e=new Il(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&rv(t),t=n.call(r,e)}return t}function iv(t){return t=t[nv],t instanceof Eh?t:null}var Pp="__closure_events_fn_"+(1e9*Math.random()>>>0);function sv(t){return typeof t=="function"?t:(t[Pp]||(t[Pp]=function(e){return t.handleEvent(e)}),t[Pp])}function kt(){Di.call(this),this.i=new Eh(this),this.P=this,this.I=null}Lt(kt,Di);kt.prototype[su]=!0;kt.prototype.removeEventListener=function(t,e,n,r){dk(this,t,e,n,r)};function Nt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;e=new zt(r,t),ak(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=sc(o,r,!0,e)&&i}if(o=e.g=t,i=sc(o,r,!0,e)&&i,i=sc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=sc(o,r,!1,e)&&i}kt.prototype.M=function(){if(kt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sh(n[r]);delete t.g[e],t.h--}}this.I=null};kt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function sc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&ag(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var ov=le.JSON.stringify;function LD(){var t=mk;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class MD{constructor(){this.h=this.g=null}add(e,n){const r=fk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var fk=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new DD,t=>t.reset());class DD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function OD(t){le.setTimeout(()=>{throw t},0)}function pk(t,e){ug||UD(),cg||(ug(),cg=!0),mk.add(t,e)}var ug;function UD(){var t=le.Promise.resolve(void 0);ug=function(){t.then(VD)}}var cg=!1,mk=new MD;function VD(){for(var t;t=LD();){try{t.h.call(t.g)}catch(n){OD(n)}var e=fk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}cg=!1}function Th(t,e){kt.call(this),this.h=t||1,this.g=e||le,this.j=Bt(this.kb,this),this.l=Date.now()}Lt(Th,kt);K=Th.prototype;K.ca=!1;K.R=null;K.kb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Nt(this,"tick"),this.ca&&(av(this),this.start()))}};K.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function av(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}K.M=function(){Th.X.M.call(this),av(this),delete this.g};function lv(t,e,n){if(typeof t=="function")n&&(t=Bt(t,n));else if(t&&typeof t.handleEvent=="function")t=Bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function gk(t){t.g=lv(()=>{t.g=null,t.i&&(t.i=!1,gk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class FD extends Di{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gk(this)}M(){super.M(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xl(t){Di.call(this),this.h=t,this.g={}}Lt(xl,Di);var Hw=[];function yk(t,e,n,r){Array.isArray(n)||(n&&(Hw[0]=n.toString()),n=Hw);for(var i=0;i<n.length;i++){var s=lk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function vk(t){tv(t.g,function(e,n){this.g.hasOwnProperty(n)&&rv(e)},t),t.g={}}xl.prototype.M=function(){xl.X.M.call(this),vk(this)};xl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Rh(){this.g=!0}Rh.prototype.Aa=function(){this.g=!1};function BD(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function zD(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function so(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+WD(t,n)+(r?" "+r:"")})}function jD(t,e){t.info(function(){return"TIMEOUT: "+e})}Rh.prototype.info=function(){};function WD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return ov(n)}catch{return e}}var Is={},qw=null;function kh(){return qw=qw||new kt}Is.Oa="serverreachability";function wk(t){zt.call(this,Is.Oa,t)}Lt(wk,zt);function Al(t){const e=kh();Nt(e,new wk(e))}Is.STAT_EVENT="statevent";function _k(t,e){zt.call(this,Is.STAT_EVENT,t),this.stat=e}Lt(_k,zt);function Jt(t){const e=kh();Nt(e,new _k(e,t))}Is.Pa="timingevent";function Sk(t,e){zt.call(this,Is.Pa,t),this.size=e}Lt(Sk,zt);function ou(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var Ch={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Ek={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function uv(){}uv.prototype.h=null;function Gw(t){return t.h||(t.h=t.i())}function Tk(){}var au={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function cv(){zt.call(this,"d")}Lt(cv,zt);function dv(){zt.call(this,"c")}Lt(dv,zt);var dg;function bh(){}Lt(bh,uv);bh.prototype.g=function(){return new XMLHttpRequest};bh.prototype.i=function(){return{}};dg=new bh;function lu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new xl(this),this.O=HD,t=sg?125:void 0,this.T=new Th(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Rk}function Rk(){this.i=null,this.g="",this.h=!1}var HD=45e3,hg={},Cd={};K=lu.prototype;K.setTimeout=function(t){this.O=t};function fg(t,e,n){t.K=1,t.v=xh(zr(e)),t.s=n,t.P=!0,kk(t,null)}function kk(t,e){t.F=Date.now(),uu(t),t.A=zr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Pk(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Rk,t.g=eC(t.l,n?e:null,!t.s),0<t.N&&(t.L=new FD(Bt(t.Ka,t,t.g),t.N)),yk(t.S,t.g,"readystatechange",t.hb),e=t.H?ok(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Al(),BD(t.j,t.u,t.A,t.m,t.U,t.s)}K.hb=function(t){t=t.target;const e=this.L;e&&Nr(t)==3?e.l():this.Ka(t)};K.Ka=function(t){try{if(t==this.g)e:{const c=Nr(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||sg||this.g&&(this.h.h||this.g.fa()||Xw(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?Al(3):Al(2)),Ih(this);var n=this.g.aa();this.Y=n;t:if(Ck(this)){var r=Xw(this.g);t="";var i=r.length,s=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),Za(this);var o="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,zD(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rd(a)){var u=a;break t}}u=null}if(n=u)so(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pg(this,n);else{this.i=!1,this.o=3,Jt(12),Ji(this),Za(this);break e}}this.P?(bk(this,c,o),sg&&this.i&&c==3&&(yk(this.S,this.T,"tick",this.gb),this.T.start())):(so(this.j,this.m,o,null),pg(this,o)),c==4&&Ji(this),this.i&&!this.I&&(c==4?Yk(this.l,this):(this.i=!1,uu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Jt(12)):(this.o=0,Jt(13)),Ji(this),Za(this)}}}catch{}finally{}};function Ck(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function bk(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=qD(t,n),i==Cd){e==4&&(t.o=4,Jt(14),r=!1),so(t.j,t.m,null,"[Incomplete Response]");break}else if(i==hg){t.o=4,Jt(15),so(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else so(t.j,t.m,i,null),pg(t,i);Ck(t)&&i!=Cd&&i!=hg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),vv(e),e.K=!0,Jt(11))):(so(t.j,t.m,n,"[Invalid Chunked Response]"),Ji(t),Za(t))}K.gb=function(){if(this.g){var t=Nr(this.g),e=this.g.fa();this.C<e.length&&(Ih(this),bk(this,t,e),this.i&&t!=4&&uu(this))}};function qD(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Cd:(n=Number(e.substring(n,r)),isNaN(n)?hg:(r+=1,r+n>e.length?Cd:(e=e.substr(r,n),t.C=r+n,e)))}K.cancel=function(){this.I=!0,Ji(this)};function uu(t){t.V=Date.now()+t.O,Ik(t,t.O)}function Ik(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ou(Bt(t.fb,t),e)}function Ih(t){t.B&&(le.clearTimeout(t.B),t.B=null)}K.fb=function(){this.B=null;const t=Date.now();0<=t-this.V?(jD(this.j,this.A),this.K!=2&&(Al(),Jt(17)),Ji(this),this.o=2,Za(this)):Ik(this,this.V-t)};function Za(t){t.l.G==0||t.I||Yk(t.l,t)}function Ji(t){Ih(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,av(t.T),vk(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function pg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||mg(n.h,t))){if(!t.J&&mg(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)xd(n),$h(n);else break e;yv(n),Jt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=ou(Bt(n.bb,n),6e3));if(1>=Dk(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Zi(n,11)}else if((t.J||n.g==t)&&xd(n),!Rd(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const f=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var s=r.h;s.g||f.indexOf("spdy")==-1&&f.indexOf("quic")==-1&&f.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(hv(s,s.h),s.h=null))}if(r.D){const p=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.za=p,He(r.F,r.D,p))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=Zk(r,r.H?r.ka:null,r.V),o.J){Ok(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Ih(a),uu(a)),r.g=o}else Kk(r);0<n.i.length&&Ph(n)}else u[0]!="stop"&&u[0]!="close"||Zi(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Zi(n,7):gv(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Al(4)}catch{}}function GD(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function KD(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function xk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=KD(t),r=GD(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Ak=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function os(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof os){this.h=e!==void 0?e:t.h,bd(this,t.j),this.s=t.s,this.g=t.g,Id(this,t.m),this.l=t.l,e=t.i;var n=new Nl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Kw(this,n),this.o=t.o}else t&&(n=String(t).match(Ak))?(this.h=!!e,bd(this,n[1]||"",!0),this.s=Da(n[2]||""),this.g=Da(n[3]||"",!0),Id(this,n[4]),this.l=Da(n[5]||"",!0),Kw(this,n[6]||"",!0),this.o=Da(n[7]||"")):(this.h=!!e,this.i=new Nl(null,this.h))}os.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Oa(e,Qw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Oa(e,Qw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Oa(n,n.charAt(0)=="/"?JD:XD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Oa(n,eO)),t.join("")};function zr(t){return new os(t)}function bd(t,e,n){t.j=n?Da(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Id(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Kw(t,e,n){e instanceof Nl?(t.i=e,tO(t.i,t.h)):(n||(e=Oa(e,ZD)),t.i=new Nl(e,t.h))}function He(t,e,n){t.i.set(e,n)}function xh(t){return He(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Da(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Oa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,YD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Qw=/[#\/\?@]/g,XD=/[#\?:]/g,JD=/[#\?]/g,ZD=/[#\?@]/g,eO=/#/g;function Nl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Oi(t){t.g||(t.g=new Map,t.h=0,t.i&&QD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}K=Nl.prototype;K.add=function(t,e){Oi(this),this.i=null,t=ta(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Nk(t,e){Oi(t),e=ta(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $k(t,e){return Oi(t),e=ta(t,e),t.g.has(e)}K.forEach=function(t,e){Oi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};K.oa=function(){Oi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};K.W=function(t){Oi(this);let e=[];if(typeof t=="string")$k(this,t)&&(e=e.concat(this.g.get(ta(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};K.set=function(t,e){return Oi(this),this.i=null,t=ta(this,t),$k(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};K.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function Pk(t,e,n){Nk(t,e),0<n.length&&(t.i=null,t.g.set(ta(t,e),Zy(n)),t.h+=n.length)}K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ta(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function tO(t,e){e&&!t.j&&(Oi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Nk(this,r),Pk(this,i,n))},t)),t.j=e}var nO=class{constructor(t,e){this.h=t,this.g=e}};function Lk(t){this.l=t||rO,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ga&&le.g.Ga()&&le.g.Ga().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rO=10;function Mk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Dk(t){return t.h?1:t.g?t.g.size:0}function mg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function hv(t,e){t.g?t.g.add(e):t.h=e}function Ok(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Lk.prototype.cancel=function(){if(this.i=Uk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Uk(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Zy(t.i)}function fv(){}fv.prototype.stringify=function(t){return le.JSON.stringify(t,void 0)};fv.prototype.parse=function(t){return le.JSON.parse(t,void 0)};function iO(){this.g=new fv}function sO(t,e,n){const r=n||"";try{xk(t,function(i,s){let o=i;iu(i)&&(o=ov(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function oO(t,e){const n=new Rh;if(le.Image){const r=new Image;r.onload=ic(oc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ic(oc,n,r,"TestLoadImage: error",!1,e),r.onabort=ic(oc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ic(oc,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function oc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cu(t){this.l=t.$b||null,this.j=t.ib||!1}Lt(cu,uv);cu.prototype.g=function(){return new Ah(this.l,this.j)};cu.prototype.i=function(t){return function(){return t}}({});function Ah(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=pv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lt(Ah,kt);var pv=0;K=Ah.prototype;K.open=function(t,e){if(this.readyState!=pv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$l(this)};K.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||le).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))};K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,du(this)),this.readyState=pv};K.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$l(this)),this.g&&(this.readyState=3,$l(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vk(this)}else t.text().then(this.Ua.bind(this),this.ga.bind(this))};function Vk(t){t.j.read().then(t.Sa.bind(t)).catch(t.ga.bind(t))}K.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?du(this):$l(this),this.readyState==3&&Vk(this)}};K.Ua=function(t){this.g&&(this.response=this.responseText=t,du(this))};K.Ta=function(t){this.g&&(this.response=t,du(this))};K.ga=function(){this.g&&du(this)};function du(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$l(t)}K.setRequestHeader=function(t,e){this.v.append(t,e)};K.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};K.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function $l(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var aO=le.JSON.parse;function dt(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fk,this.K=this.L=!1}Lt(dt,kt);var Fk="",lO=/^https?$/i,uO=["POST","PUT"];K=dt.prototype;K.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dg.g(),this.C=this.u?Gw(this.u):Gw(dg),this.g.onreadystatechange=Bt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Yw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=le.FormData&&t instanceof le.FormData,!(0<=nk(uO,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jk(this),0<this.B&&((this.K=cO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.qa,this)):this.A=lv(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Yw(this,s)}};function cO(t){return $o&&bD()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}K.qa=function(){typeof Jy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function Yw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Bk(t),Nh(t)}function Bk(t){t.D||(t.D=!0,Nt(t,"complete"),Nt(t,"error"))}K.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),Nh(this))};K.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nh(this,!0)),dt.X.M.call(this)};K.Ha=function(){this.s||(this.F||this.v||this.l?zk(this):this.eb())};K.eb=function(){zk(this)};function zk(t){if(t.h&&typeof Jy<"u"&&(!t.C[1]||Nr(t)!=4||t.aa()!=2)){if(t.v&&Nr(t)==4)lv(t.Ha,0,t);else if(Nt(t,"readystatechange"),Nr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Ak)[1]||null;if(!i&&le.self&&le.self.location){var s=le.self.location.protocol;i=s.substr(0,s.length-1)}r=!lO.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var o=2<Nr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",Bk(t)}}finally{Nh(t)}}}}function Nh(t,e){if(t.g){jk(t);const n=t.g,r=t.C[0]?Td:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function jk(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}function Nr(t){return t.g?t.g.readyState:0}K.aa=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}};K.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};K.Ra=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),aO(e)}};function Xw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Fk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}K.Ea=function(){return this.m};K.Na=function(){return typeof this.j=="string"?this.j:String(this.j)};function Wk(t){let e="";return tv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function mv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):He(t,e,n))}function _a(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Hk(t){this.Ca=0,this.i=[],this.j=new Rh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=_a("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=_a("baseRetryDelayMs",5e3,t),this.ab=_a("retryDelaySeedMs",1e4,t),this.Za=_a("forwardChannelMaxRetries",2,t),this.ta=_a("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Yb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Lk(t&&t.concurrentRequestLimit),this.Fa=new iO,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=t&&t.Wb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}K=Hk.prototype;K.ma=8;K.G=1;function gv(t){if(qk(t),t.G==3){var e=t.U++,n=zr(t.F);He(n,"SID",t.I),He(n,"RID",e),He(n,"TYPE","terminate"),hu(t,n),e=new lu(t,t.j,e,void 0),e.K=2,e.v=xh(zr(n)),n=!1,le.navigator&&le.navigator.sendBeacon&&(n=le.navigator.sendBeacon(e.v.toString(),"")),!n&&le.Image&&(new Image().src=e.v,n=!0),n||(e.g=eC(e.l,null),e.g.da(e.v)),e.F=Date.now(),uu(e)}Jk(t)}function $h(t){t.g&&(vv(t),t.g.cancel(),t.g=null)}function qk(t){$h(t),t.u&&(le.clearTimeout(t.u),t.u=null),xd(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function Ph(t){Mk(t.h)||t.m||(t.m=!0,pk(t.Ja,t),t.C=0)}function dO(t,e){return Dk(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Ya?0:t.Za)?!1:(t.m=ou(Bt(t.Ja,t,e),Xk(t,t.C)),t.C++,!0)}K.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new lu(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=ok(s),ak(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Gk(this,i,e),n=zr(this.F),He(n,"RID",t),He(n,"CVER",22),this.D&&He(n,"X-HTTP-Session-Id",this.D),hu(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Wk(s)))+"&"+e:this.o&&mv(n,this.o,s)),hv(this.h,i),this.Xa&&He(n,"TYPE","init"),this.O?(He(n,"$req",e),He(n,"SID","null"),i.Z=!0,fg(i,n,null)):fg(i,n,e),this.G=2}}else this.G==3&&(t?Jw(this,t):this.i.length==0||Mk(this.h)||Jw(this))};function Jw(t,e){var n;e?n=e.m:n=t.U++;const r=zr(t.F);He(r,"SID",t.I),He(r,"RID",n),He(r,"AID",t.T),hu(t,r),t.o&&t.s&&mv(r,t.o,t.s),n=new lu(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Gk(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),hv(t.h,n),fg(n,r,e)}function hu(t,e){t.ia&&tv(t.ia,function(n,r){He(e,r,n)}),t.l&&xk({},function(n,r){He(e,r,n)})}function Gk(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Bt(t.l.Qa,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{sO(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Kk(t){t.g||t.u||(t.Z=1,pk(t.Ia,t),t.A=0)}function yv(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=ou(Bt(t.Ia,t),Xk(t,t.A)),t.A++,!0)}K.Ia=function(){if(this.u=null,Qk(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=ou(Bt(this.cb,this),t)}};K.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Jt(10),$h(this),Qk(this))};function vv(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function Qk(t){t.g=new lu(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=zr(t.sa);He(e,"RID","rpc"),He(e,"SID",t.I),He(e,"CI",t.L?"0":"1"),He(e,"AID",t.T),He(e,"TYPE","xmlhttp"),hu(t,e),t.o&&t.s&&mv(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=xh(zr(e)),n.s=null,n.P=!0,kk(n,t)}K.bb=function(){this.v!=null&&(this.v=null,$h(this),yv(this),Jt(19))};function xd(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function Yk(t,e){var n=null;if(t.g==e){xd(t),vv(t),t.g=null;var r=2}else if(mg(t.h,e))n=e.D,Ok(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=kh(),Nt(r,new Sk(r,n)),Ph(t)}else Kk(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&dO(t,e)||r==2&&yv(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Zi(t,5);break;case 4:Zi(t,10);break;case 3:Zi(t,6);break;default:Zi(t,2)}}}function Xk(t,e){let n=t.Wa+Math.floor(Math.random()*t.ab);return t.l||(n*=2),n*e}function Zi(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Bt(t.jb,t);n||(n=new os("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||bd(n,"https"),xh(n)),oO(n.toString(),r)}else Jt(2);t.G=0,t.l&&t.l.va(e),Jk(t),qk(t)}K.jb=function(t){t?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Jk(t){if(t.G=0,t.la=[],t.l){const e=Uk(t.h);(e.length!=0||t.i.length!=0)&&(Bw(t.la,e),Bw(t.la,t.i),t.h.i.length=0,Zy(t.i),t.i.length=0),t.l.ua()}}function Zk(t,e,n){var r=n instanceof os?zr(n):new os(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Id(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new os(null,void 0);r&&bd(s,r),e&&(s.g=e),i&&Id(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&He(r,n,e),He(r,"VER",t.ma),hu(t,r),r}function eC(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new dt(new cu({ib:!0})):new dt(t.ra),e.L=t.H,e}function tC(){}K=tC.prototype;K.xa=function(){};K.wa=function(){};K.va=function(){};K.ua=function(){};K.Qa=function(){};function Ad(){if($o&&!(10<=Number(ID)))throw Error("Environmental error: no available transport.")}Ad.prototype.g=function(t,e){return new Pn(t,e)};function Pn(t,e){kt.call(this),this.g=new Hk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Xb)&&!Rd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rd(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new na(this)}Lt(Pn,kt);Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Jt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Zk(t,null,t.V),Ph(t)};Pn.prototype.close=function(){gv(this.g)};Pn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ov(t),t=n);e.i.push(new nO(e.$a++,t)),e.G==3&&Ph(e)};Pn.prototype.M=function(){this.g.l=null,delete this.j,gv(this.g),delete this.g,Pn.X.M.call(this)};function nC(t){cv.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Lt(nC,cv);function rC(){dv.call(this),this.status=1}Lt(rC,dv);function na(t){this.g=t}Lt(na,tC);na.prototype.xa=function(){Nt(this.g,"a")};na.prototype.wa=function(t){Nt(this.g,new nC(t))};na.prototype.va=function(t){Nt(this.g,new rC)};na.prototype.ua=function(){Nt(this.g,"b")};Ad.prototype.createWebChannel=Ad.prototype.g;Pn.prototype.send=Pn.prototype.u;Pn.prototype.open=Pn.prototype.m;Pn.prototype.close=Pn.prototype.close;Ch.NO_ERROR=0;Ch.TIMEOUT=8;Ch.HTTP_ERROR=6;Ek.COMPLETE="complete";Tk.EventType=au;au.OPEN="a";au.CLOSE="b";au.ERROR="c";au.MESSAGE="d";kt.prototype.listen=kt.prototype.N;dt.prototype.listenOnce=dt.prototype.O;dt.prototype.getLastError=dt.prototype.Na;dt.prototype.getLastErrorCode=dt.prototype.Ea;dt.prototype.getStatus=dt.prototype.aa;dt.prototype.getResponseJson=dt.prototype.Ra;dt.prototype.getResponseText=dt.prototype.fa;dt.prototype.send=dt.prototype.da;var hO=function(){return new Ad},fO=function(){return kh()},Lp=Ch,pO=Ek,mO=Is,Zw={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gO=cu,ac=Tk,yO=dt;const e_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra="9.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Vy("@firebase/firestore");function t_(){return ws.logLevel}function Q(t,...e){if(ws.logLevel<=Ce.DEBUG){const n=e.map(wv);ws.debug(`Firestore (${ra}): ${t}`,...n)}}function jr(t,...e){if(ws.logLevel<=Ce.ERROR){const n=e.map(wv);ws.error(`Firestore (${ra}): ${t}`,...n)}}function n_(t,...e){if(ws.logLevel<=Ce.WARN){const n=e.map(wv);ws.warn(`Firestore (${ra}): ${t}`,...n)}}function wv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Ue(t,e){t||ce()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class _O{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new vO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new cn(e)}}class SO{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ue(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class EO{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new SO(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RO{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.A=n.token,new TO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function Po(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new gt(0,0))}static max(){return new we(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends Pl{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const CO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Pl{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return CO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(qe.fromString(e))}static fromName(e){return new ne(qe.fromString(e).popFirst(5))}static empty(){return new ne(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new qe(e.slice()))}}function bO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Ii(i,ne.empty(),e)}function IO(t){return new Ii(t.readTime,t.key,-1)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(we.min(),ne.empty(),-1)}static max(){return new Ii(we.max(),ne.empty(),-1)}}function xO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==AO)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function pu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_v.at=-1;class wt{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:It.RED,this.left=i!=null?i:It.EMPTY,this.right=s!=null?s:It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new It(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(t,e,n,r,i){return this}insert(t,e,n){return new It(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i_(this.data.getIterator())}getIteratorFrom(e){return new i_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class i_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new yt(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const $O=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=$O.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lo(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function aC(t){const e=t.mapValue.fields.__previous_value__;return oC(e)?aC(e):e}function Ll(t){const e=xi(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ml{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}function Lh(t){return t==null}function Nd(t){return t===0&&1/t==-1/0}function LO(t){return typeof t=="number"&&Number.isInteger(t)&&!Nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oC(t)?4:MO(t)?9007199254740991:10:ce()}function gr(t,e){if(t===e)return!0;const n=_s(t);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ll(t).isEqual(Ll(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=xi(r.timestampValue),o=xi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Lo(r.bytesValue).isEqual(Lo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=lt(r.doubleValue),o=lt(i.doubleValue);return s===o?Nd(s)===Nd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(r_(s)!==r_(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!gr(s[a],o[a])))return!1;return!0}(t,e);default:return ce()}}function Dl(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=_s(t),r=_s(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=lt(i.integerValue||i.doubleValue),a=lt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return s_(t.timestampValue,e.timestampValue);case 4:return s_(Ll(t),Ll(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Lo(i),a=Lo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Ae(o[l],a[l]);if(u!==0)return u}return Ae(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Ae(lt(i.latitude),lt(s.latitude));return o!==0?o:Ae(lt(i.longitude),lt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Mo(o[l],a[l]);if(u)return u}return Ae(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===uc.mapValue&&s===uc.mapValue)return 0;if(i===uc.mapValue)return 1;if(s===uc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Ae(a[c],u[c]);if(d!==0)return d;const h=Mo(o[a[c]],l[u[c]]);if(h!==0)return h}return Ae(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ce()}}function s_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=xi(t),r=xi(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function go(t){return gg(t)}function gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=xi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Lo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ne.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=gg(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${gg(r.fields[a])}`;return s+"}"}(t.mapValue):ce();var e,n}function yg(t){return!!t&&"integerValue"in t}function Sv(t){return!!t&&"arrayValue"in t}function o_(t){return!!t&&"nullValue"in t}function a_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dc(t){return!!t&&"mapValue"in t}function el(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=el(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=el(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fn(el(this.value))}}function lC(t){const e=[];return xs(t.fields,(n,r)=>{const i=new Vt([n]);if(Dc(r)){const s=lC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new xt(e,0,we.min(),we.min(),fn.empty(),0)}static newFoundDocument(e,n,r){return new xt(e,1,n,we.min(),r,0)}static newNoDocument(e,n){return new xt(e,2,n,we.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,we.min(),fn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function l_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new DO(t,e,n,r,i,s,o)}function Ev(t){const e=fe(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+go(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.ht=n}return e.ht}function OO(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${go(r.value)}`;var r}).join(", ")}]`),Lh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>go(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>go(n)).join(",")),`Target(${e})`}function Tv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!HO(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!gr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c_(t.startAt,e.startAt)&&c_(t.endAt,e.endAt)}function vg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class mn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new UO(e,n,r):n==="array-contains"?new BO(e,r):n==="in"?new zO(e,r):n==="not-in"?new jO(e,r):n==="array-contains-any"?new WO(e,r):new mn(e,n,r)}static lt(e,n,r){return n==="in"?new VO(e,r):new FO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Mo(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.ft(Mo(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class UO extends mn{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.ft(n)}}class VO extends mn{constructor(e,n){super(e,"in",n),this.keys=uC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FO extends mn{constructor(e,n){super(e,"not-in",n),this.keys=uC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class BO extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sv(n)&&Dl(n.arrayValue,this.value)}}class zO extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class jO extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dl(this.value.arrayValue,n)}}class WO extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}class $d{constructor(e,n){this.position=e,this.inclusive=n}}class yo{constructor(e,n="asc"){this.field=e,this.dir=n}}function HO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function u_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Mo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function c_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function qO(t,e,n,r,i,s,o,a){return new mu(t,e,n,r,i,s,o,a)}function Mh(t){return new mu(t)}function d_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function dC(t){for(const e of t.filters)if(e.dt())return e.field;return null}function GO(t){return t.collectionGroup!==null}function Ol(t){const e=fe(t);if(e._t===null){e._t=[];const n=dC(e),r=cC(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new yo(n)),e._t.push(new yo(Vt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new yo(Vt.keyField(),s))}}}return e._t}function Wr(t){const e=fe(t);if(!e.wt)if(e.limitType==="F")e.wt=l_(e.path,e.collectionGroup,Ol(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ol(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new yo(s.field,o))}const r=e.endAt?new $d(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $d(e.startAt.position,e.startAt.inclusive):null;e.wt=l_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function wg(t,e,n){return new mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dh(t,e){return Tv(Wr(t),Wr(e))&&t.limitType===e.limitType}function hC(t){return`${Ev(Wr(t))}|lt:${t.limitType}`}function _g(t){return`Query(target=${OO(Wr(t))}; limitType=${t.limitType})`}function Rv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=u_(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ol(n),r)||n.endAt&&!function(i,s,o){const a=u_(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ol(n),r))}(t,e)}function KO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fC(t){return(e,n)=>{let r=!1;for(const i of Ol(t)){const s=QO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QO(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Mo(a,l):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function mC(t){return{integerValue:""+t}}function YO(t,e){return LO(e)?mC(e):pC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function XO(t,e,n){return t instanceof Ul?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Vl?yC(t,e):t instanceof Fl?vC(t,e):function(r,i){const s=gC(r,i),o=h_(s)+h_(r.yt);return yg(s)&&yg(r.yt)?mC(o):pC(r.It,o)}(t,e)}function JO(t,e,n){return t instanceof Vl?yC(t,e):t instanceof Fl?vC(t,e):n}function gC(t,e){return t instanceof Pd?yg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ul extends Oh{}class Vl extends Oh{constructor(e){super(),this.elements=e}}function yC(t,e){const n=wC(e);for(const r of t.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fl extends Oh{constructor(e){super(),this.elements=e}}function vC(t,e){let n=wC(e);for(const r of t.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}class Pd extends Oh{constructor(e,n){super(),this.It=e,this.yt=n}}function h_(t){return lt(t.integerValue||t.doubleValue)}function wC(t){return Sv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n){this.field=e,this.transform=n}}function eU(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Vl&&r instanceof Vl||n instanceof Fl&&r instanceof Fl?Po(n.elements,r.elements,gr):n instanceof Pd&&r instanceof Pd?gr(n.yt,r.yt):n instanceof Ul&&r instanceof Ul}(t.transform,e.transform)}class tU{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uh{}function _C(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kv(t.key,Wn.none()):new gu(t.key,t.data,Wn.none());{const n=t.data,r=fn.empty();let i=new yt(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ui(t.key,r,new jn(i.toArray()),Wn.none())}}function nU(t,e,n){t instanceof gu?function(r,i,s){const o=r.value.clone(),a=p_(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ui?function(r,i,s){if(!Oc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=p_(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(SC(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function tl(t,e,n,r){return t instanceof gu?function(i,s,o,a){if(!Oc(i.precondition,s))return o;const l=i.value.clone(),u=m_(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ui?function(i,s,o,a){if(!Oc(i.precondition,s))return o;const l=m_(i.fieldTransforms,a,s),u=s.data;return u.setAll(SC(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Oc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function rU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gC(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function f_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Po(n,r,(i,s)=>eU(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gu extends Uh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ui extends Uh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function p_(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,JO(o,a,n[i]))}return r}function m_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,XO(s,o,e))}return r}class kv extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iU extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ee;function oU(t){switch(t){default:return ce();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function EC(t){if(t===void 0)return jr("GRPC error has no .code"),A.UNKNOWN;switch(t){case at.OK:return A.OK;case at.CANCELLED:return A.CANCELLED;case at.UNKNOWN:return A.UNKNOWN;case at.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case at.INTERNAL:return A.INTERNAL;case at.UNAVAILABLE:return A.UNAVAILABLE;case at.UNAUTHENTICATED:return A.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case at.NOT_FOUND:return A.NOT_FOUND;case at.ALREADY_EXISTS:return A.ALREADY_EXISTS;case at.PERMISSION_DENIED:return A.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case at.ABORTED:return A.ABORTED;case at.OUT_OF_RANGE:return A.OUT_OF_RANGE;case at.UNIMPLEMENTED:return A.UNIMPLEMENTED;case at.DATA_LOSS:return A.DATA_LOSS;default:return ce()}}(Ee=at||(at={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return sC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=new wt(ne.comparator);function Hr(){return aU}const TC=new wt(ne.comparator);function Ua(...t){let e=TC;for(const n of t)e=e.insert(n.key,n);return e}function RC(t){let e=TC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function es(){return nl()}function kC(){return nl()}function nl(){return new ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const lU=new wt(ne.comparator),uU=new yt(ne.comparator);function _e(...t){let e=uU;for(const n of t)e=e.add(n);return e}const cU=new yt(Ae);function CC(){return cU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n)),new Vh(we.min(),r,CC(),Hr(),_e())}}class yu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new yu(Pt.EMPTY_BYTE_STRING,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class bC{constructor(e,n){this.targetId=e,this.At=n}}class IC{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g_{constructor(){this.Rt=0,this.bt=v_(),this.Pt=Pt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=_e(),n=_e(),r=_e();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new yu(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=v_()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class dU{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Hr(),this.qt=y_(),this.Kt=new yt(Ae)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(vg(s))if(r===0){const o=new ne(s.path);this.jt(n,o,xt.newNoDocument(o,we.min()))}else Ue(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&vg(a.target)){const l=new ne(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,xt.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=_e();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Vh(e,n,this.Kt,this.Ut,r);return this.Ut=Hr(),this.qt=y_(),this.Kt=new yt(Ae),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new g_,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new yt(Ae),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new g_),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function y_(){return new wt(ne.comparator)}function v_(){return new wt(ne.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class pU{constructor(e,n){this.databaseId=e,this.gt=n}}function Ld(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xC(t,e){return t.gt?e.toBase64():e.toUint8Array()}function mU(t,e){return Ld(t,e.toTimestamp())}function Lr(t){return Ue(!!t),we.fromTimestamp(function(e){const n=xi(e);return new gt(n.seconds,n.nanos)}(t))}function Cv(t,e){return function(n){return new qe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function AC(t){const e=qe.fromString(t);return Ue(PC(e)),e}function Sg(t,e){return Cv(t.databaseId,e.path)}function Mp(t,e){const n=AC(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(NC(n))}function Eg(t,e){return Cv(t.databaseId,e)}function gU(t){const e=AC(t);return e.length===4?qe.emptyPath():NC(e)}function Tg(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NC(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function w_(t,e,n){return{name:Sg(t,e),fields:n.value.mapValue.fields}}function yU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.gt?(Ue(u===void 0||typeof u=="string"),Pt.fromBase64String(u||"")):(Ue(u===void 0||u instanceof Uint8Array),Pt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?A.UNKNOWN:EC(l.code);return new Y(u,l.message||"")}(o);n=new IC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mp(t,r.document.name),s=Lr(r.document.updateTime),o=new fn({mapValue:{fields:r.document.fields}}),a=xt.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Uc(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mp(t,r.document),s=r.readTime?Lr(r.readTime):we.min(),o=xt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Uc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mp(t,r.document),s=r.removedTargetIds||[];n=new Uc([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new sU(i),o=r.targetId;n=new bC(o,s)}}return n}function vU(t,e){let n;if(e instanceof gu)n={update:w_(t,e.key,e.value)};else if(e instanceof kv)n={delete:Sg(t,e.key)};else if(e instanceof Ui)n={update:w_(t,e.key,e.data),updateMask:IU(e.fieldMask)};else{if(!(e instanceof iU))return ce();n={verify:Sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ul)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Vl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Fl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Pd)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:mU(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce()}(t,e.precondition)),n}function wU(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Lr(r.updateTime):Lr(i);return s.isEqual(we.min())&&(s=Lr(i)),new tU(s,r.transformResults||[])}(n,e))):[]}function _U(t,e){return{documents:[Eg(t,e.path)]}}function SU(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Eg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Eg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(d){if(d.op==="=="){if(a_(d.value))return{unaryFilter:{field:Us(d.field),op:"IS_NAN"}};if(o_(d.value))return{unaryFilter:{field:Us(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(a_(d.value))return{unaryFilter:{field:Us(d.field),op:"IS_NOT_NAN"}};if(o_(d.value))return{unaryFilter:{field:Us(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(d.field),op:kU(d.op),value:d.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Us(c.field),direction:RU(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.gt||Lh(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function EU(t){let e=gU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=$C(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new yo(oo(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Lh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new $d(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new $d(h,d)}(n.endAt)),qO(e,i,o,s,a,"F",l,u)}function TU(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ce()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function $C(t){return t?t.unaryFilter!==void 0?[bU(t)]:t.fieldFilter!==void 0?[CU(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>$C(e)).reduce((e,n)=>e.concat(n)):ce():[]}function RU(t){return hU[t]}function kU(t){return fU[t]}function Us(t){return{fieldPath:t.canonicalString()}}function oo(t){return Vt.fromServerFormat(t.fieldPath)}function CU(t){return mn.create(oo(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(t.fieldFilter.op),t.fieldFilter.value)}function bU(t){switch(t.unaryFilter.op){case"IS_NAN":const e=oo(t.unaryFilter.field);return mn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=oo(t.unaryFilter.field);return mn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=oo(t.unaryFilter.field);return mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=oo(t.unaryFilter.field);return mn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}function IU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=_C(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,r)=>f_(n,r))&&Po(this.baseMutations,e.baseMutations,(n,r)=>f_(n,r))}}class bv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=lU;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,i,s=we.min(),o=we.min(),a=Pt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.re=e}}function $U(t){const e=EU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.Ye=new LU}addToCollectionParentIndex(e,n){return this.Ye.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Ii.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class LU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Do(0)}static vn(){return new Do(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(){this.changes=new ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&tl(r.mutation,i,jn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ua();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hr();const o=nl(),a=nl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ui)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),tl(c.mutation,u,c.mutation.getFieldMask(),gt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new DU(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=nl();let i=new wt((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||jn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=kC();c.forEach(h=>{if(!s.has(h)){const m=_C(n.get(h),r.get(h));m!==null&&d.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(es());let a=-1,l=s;return o.next(u=>L.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?L.resolve():this.getBaseDocument(e,c,d).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(c=>({batchId:a,changes:RC(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Ua();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ua();return this.indexManager.getCollectionParents(e,i).next(o=>L.forEach(o,a=>{const l=function(u,c){return new mu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,xt.newInvalidDocument(u)))});let o=Ua();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&tl(u.mutation,l,jn.empty(),gt.now()),Rv(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):L.resolve(xt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return L.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Lr(r.createTime)}),L.resolve()}getNamedQuery(e,n){return L.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:$U(r.bundledQuery),readTime:Lr(r.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(){this.overlays=new wt(ne.comparator),this.es=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=es();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=es(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new wt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=es(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return L.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new AU(n,r));let s=this.es.get(n);s===void 0&&(s=_e(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.ns=new yt(St.ss),this.rs=new yt(St.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new St(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new St(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new ne(new qe([])),r=new St(n,e),i=new St(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ne(new qe([])),r=new St(n,e),i=new St(n,e+1);let s=_e();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new St(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ne.comparator(e.key,n.key)||Ae(e._s,n._s)}static os(e,n){return Ae(e._s,n._s)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new yt(St.ss)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new St(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Ae);return n.forEach(i=>{const s=new St(i,0),o=new St(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),L.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new St(new ne(s),0);let a=new yt(Ae);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),L.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return L.forEach(n.mutations,i=>{const s=new St(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new St(n,0),i=this.gs.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.Es=e,this.docs=new wt(ne.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xt.newInvalidDocument(i))}),L.resolve(r)}getAllFromCollection(e,n,r){let i=Hr();const s=new ne(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||xO(IO(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,i){ce()}As(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zU(this)}getSize(e){return L.resolve(this.size)}}class zU extends MU{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.persistence=e,this.Rs=new ia(n=>Ev(n),Tv),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Iv,this.targetCount=0,this.vs=Do.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),L.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Dn(n),L.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new _v(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new jU(this),this.indexManager=new PU,this.remoteDocumentCache=function(r){return new BU(r)}(r=>this.referenceDelegate.xs(r)),this.It=new NU(n),this.Ns=new UU(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new FU(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new HU(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return L.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class HU extends NO{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.Fs=new Iv,this.$s=null}static Bs(e){return new xv(e)}get Ls(){if(this.$s)return this.$s;throw ce()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),L.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Ls,r=>{const i=ne.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return L.or([()=>L.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Av(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Mi(e,n,i,r)).next(s=>s||this.Oi(e,n))}ki(e,n){if(d_(n))return L.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wg(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,wg(n,null,"F")):this.Bi(e,u,n,l)}))})))}Mi(e,n,r,i){return d_(n)||i.isEqual(we.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Oi(e,n):(t_()<=Ce.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_g(n)),this.Bi(e,o,n,bO(i,-1)))})}Fi(e,n){let r=new yt(fC(e));return n.forEach((i,s)=>{Rv(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return t_()<=Ce.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",_g(n)),this.Ni.getDocumentsMatchingQuery(e,n,Ii.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new wt(Ae),this.qi=new ia(s=>Ev(s),Tv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OU(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function KU(t,e,n,r){return new GU(t,e,n,r)}async function LC(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function QU(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=L.resolve();return d.forEach(m=>{h=h.next(()=>u.getEntry(a,m)).next(f=>{const p=l.docVersions.get(m);Ue(p!==null),f.version.compareTo(p)<0&&(c.applyToRemoteDocument(f,l),f.isValidDocument()&&(f.setReadTime(l.commitVersion),u.addEntry(f)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=_e();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MC(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function YU(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?m=m.withResumeToken(Pt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(f,p,E){return f.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,m,c)&&a.push(n.Cs.updateTargetData(s,m))});let l=Hr(),u=_e();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(XU(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(we.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ui=i,s))}function XU(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function JU(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZU(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new as(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Rg(t,e,n){const r=fe(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!pu(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function __(t,e,n){const r=fe(t);let i=we.min(),s=_e();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=fe(a),d=c.qi.get(u);return d!==void 0?L.resolve(c.Ui.get(d)):c.Cs.getTargetData(l,u)}(r,o,Wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:_e())).next(a=>(e4(r,KO(e),a),{documents:a,Hi:s})))}function e4(t,e,n){let r=we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class S_{constructor(){this.activeTargetIds=CC()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t4{constructor(){this.Lr=new S_,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new S_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ao(e,n);Q("RestConnection","Sending: ",o,r);const a={};return this.ho(a,i,s),this.lo(e,o,a,r).then(l=>(Q("RestConnection","Received: ",l),l),l=>{throw n_("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ra,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=r4[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((s,o)=>{const a=new yO;a.listenOnce(pO.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Lp.NO_ERROR:const u=a.getResponseJson();Q("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Lp.TIMEOUT:Q("Connection",'RPC "'+e+'" timed out'),o(new Y(A.DEADLINE_EXCEEDED,"Request time out"));break;case Lp.HTTP_ERROR:const c=a.getStatus();if(Q("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(m){const f=m.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(f)>=0?f:A.UNKNOWN}(d.status);o(new Y(h,d.message))}else o(new Y(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Y(A.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Q("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=hO(),o=fO(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new gO({})),this.ho(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");Q("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new i4({Hr:f=>{d?Q("Connection","Not sending because WebChannel is closed:",f):(c||(Q("Connection","Opening WebChannel transport."),u.open(),c=!0),Q("Connection","WebChannel sending:",f),u.send(f))},Jr:()=>u.close()}),m=(f,p,E)=>{f.listen(p,y=>{try{E(y)}catch(g){setTimeout(()=>{throw g},0)}})};return m(u,ac.EventType.OPEN,()=>{d||Q("Connection","WebChannel transport opened.")}),m(u,ac.EventType.CLOSE,()=>{d||(d=!0,Q("Connection","WebChannel transport closed"),h.io())}),m(u,ac.EventType.ERROR,f=>{d||(d=!0,n_("Connection","WebChannel transport errored:",f),h.io(new Y(A.UNAVAILABLE,"The operation could not be completed")))}),m(u,ac.EventType.MESSAGE,f=>{var p;if(!d){const E=f.data[0];Ue(!!E);const y=E,g=y.error||((p=y[0])===null||p===void 0?void 0:p.error);if(g){Q("Connection","WebChannel received error:",g);const w=g.status;let S=function(I){const b=at[I];if(b!==void 0)return EC(b)}(w),C=g.message;S===void 0&&(S=A.INTERNAL,C="Unknown error status: "+w+" with message "+g.message),d=!0,h.io(new Y(S,C)),u.close()}else Q("Connection","WebChannel received:",E),h.ro(E)}}),m(o,mO.STAT_EVENT,f=>{f.stat===Zw.PROXY?Q("Connection","Detected buffering proxy"):f.stat===Zw.NOPROXY&&Q("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){return new pU(t,!0)}class DC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new DC(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new Y(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o4 extends OC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=yU(this.It,e),r=function(i){if(!("targetChange"in i))return we.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?Lr(s.readTime):we.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Tg(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=vg(a)?{documents:_U(i,a)}:{query:SU(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=xC(i,s.resumeToken):s.snapshotVersion.compareTo(we.min())>0&&(o.readTime=Ld(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=TU(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Tg(this.It),n.removeTarget=e,this.Bo(n)}}class a4 extends OC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=wU(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.Zo(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Tg(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vU(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Y(A.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(A.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(A.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class u4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(jr(n),this.ou=!1):Q("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(o=>{r.enqueueAndForget(async()=>{As(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=fe(a);l._u.add(4),await vu(l),l.gu.set("Unknown"),l._u.delete(4),await Bh(l)}(this))})}),this.gu=new u4(r,i)}}async function Bh(t){if(As(t))for(const e of t.wu)await e(!0)}async function vu(t){for(const e of t.wu)await e(!1)}function UC(t,e){const n=fe(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Pv(n)?$v(n):sa(n).ko()&&Nv(n,e))}function VC(t,e){const n=fe(t),r=sa(n);n.du.delete(e),r.ko()&&FC(n,e),n.du.size===0&&(r.ko()?r.Fo():As(n)&&n.gu.set("Unknown"))}function Nv(t,e){t.yu.Ot(e.targetId),sa(t).zo(e)}function FC(t,e){t.yu.Ot(e),sa(t).Ho(e)}function $v(t){t.yu=new dU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),sa(t).start(),t.gu.uu()}function Pv(t){return As(t)&&!sa(t).No()&&t.du.size>0}function As(t){return fe(t)._u.size===0}function BC(t){t.yu=void 0}async function d4(t){t.du.forEach((e,n)=>{Nv(t,e)})}async function h4(t,e){BC(t),Pv(t)?(t.gu.hu(e),$v(t)):t.gu.set("Unknown")}async function f4(t,e,n){if(t.gu.set("Online"),e instanceof IC&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Md(t,r)}else if(e instanceof Uc?t.yu.Gt(e):e instanceof bC?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(we.min()))try{const r=await MC(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Pt.EMPTY_BYTE_STRING,l.snapshotVersion)),FC(i,a);const u=new as(l.target,a,1,l.sequenceNumber);Nv(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await Md(t,r)}}async function Md(t,e,n){if(!pu(e))throw e;t._u.add(1),await vu(t),t.gu.set("Offline"),n||(n=()=>MC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await Bh(t)})}function zC(t,e){return e().catch(n=>Md(t,n,e))}async function zh(t){const e=fe(t),n=Ai(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;p4(e);)try{const i=await JU(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,m4(e,i)}catch(i){await Md(e,i)}jC(e)&&WC(e)}function p4(t){return As(t)&&t.fu.length<10}function m4(t,e){t.fu.push(e);const n=Ai(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function jC(t){return As(t)&&!Ai(t).No()&&t.fu.length>0}function WC(t){Ai(t).start()}async function g4(t){Ai(t).eu()}async function y4(t){const e=Ai(t);for(const n of t.fu)e.Xo(n.mutations)}async function v4(t,e,n){const r=t.fu.shift(),i=bv.from(r,e,n);await zC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zh(t)}async function w4(t,e){e&&Ai(t).Yo&&await async function(n,r){if(i=r.code,oU(i)&&i!==A.ABORTED){const s=n.fu.shift();Ai(n).Oo(),await zC(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await zh(n)}var i}(t,e),jC(t)&&WC(t)}async function T_(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=As(n);n._u.add(3),await vu(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await Bh(n)}async function _4(t,e){const n=fe(t);e?(n._u.delete(2),await Bh(n)):e||(n._u.add(2),await vu(n),n.gu.set("Unknown"))}function sa(t){return t.pu||(t.pu=function(e,n,r){const i=fe(e);return i.su(),new o4(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:d4.bind(null,t),Zr:h4.bind(null,t),Wo:f4.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),Pv(t)?$v(t):t.gu.set("Unknown")):(await t.pu.stop(),BC(t))})),t.pu}function Ai(t){return t.Iu||(t.Iu=function(e,n,r){const i=fe(e);return i.su(),new a4(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:g4.bind(null,t),Zr:w4.bind(null,t),tu:y4.bind(null,t),Zo:v4.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await zh(t)):(await t.Iu.stop(),t.fu.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Lv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mv(t,e){if(jr("AsyncQueue",`${e}: ${t}`),pu(t))return new Y(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Ua(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.Tu=new wt(ne.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):ce():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Oo{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Oo(e,n,vo.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.Au=void 0,this.listeners=[]}}class E4{constructor(){this.queries=new ia(e=>hC(e),Dh),this.onlineState="Unknown",this.Ru=new Set}}async function Dv(t,e){const n=fe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new S4),i)try{s.Au=await n.onListen(r)}catch(o){const a=Mv(o,`Initialization of query '${_g(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&Uv(n)}async function Ov(t,e){const n=fe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function T4(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&Uv(n)}function R4(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Uv(t){t.Ru.forEach(e=>{e.next()})}class Vv{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.key=e}}class qC{constructor(e){this.key=e}}class k4{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=_e(),this.mutatedKeys=_e(),this.Ku=fC(e),this.Gu=new vo(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new R_,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),m=Rv(this.query,d)?d:null,f=!!h&&this.mutatedKeys.has(h.key),p=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;h&&m?h.data.isEqual(m.data)?f!==p&&(r.track({type:3,doc:m}),E=!0):this.zu(h,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Ku(m,l)>0||u&&this.Ku(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),E=!0):h&&!m&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:a,mutatedKeys:s}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((u,c)=>function(d,h){const m=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return m(d)-m(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.qu.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new Oo(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new R_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=_e(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new qC(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new HC(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=_e();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Oo.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class C4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class b4{constructor(e){this.key=e,this.ec=!1}}class I4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new ia(a=>hC(a),Dh),this.ic=new Map,this.rc=new Set,this.oc=new wt(ne.comparator),this.uc=new Map,this.cc=new Iv,this.ac={},this.hc=new Map,this.lc=Do.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function x4(t,e){const n=V4(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await ZU(n.localStore,Wr(e));n.isPrimaryClient&&UC(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await A4(n,e,r,a==="current")}return i}async function A4(t,e,n,r){t.dc=(c,d,h)=>async function(m,f,p,E){let y=f.view.ju(p);y.$i&&(y=await __(m.localStore,f.query,!1).then(({documents:S})=>f.view.ju(S,y)));const g=E&&E.targetChanges.get(f.targetId),w=f.view.applyChanges(y,m.isPrimaryClient,g);return C_(m,f.targetId,w.Yu),w.snapshot}(t,c,d,h);const i=await __(t.localStore,e,!0),s=new k4(e,i.Hi),o=s.ju(i.documents),a=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);C_(t,n,l.Yu);const u=new C4(e,n,s);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),l.snapshot}async function N4(t,e){const n=fe(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Dh(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Rg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),VC(n.remoteStore,r.targetId),kg(n,r.targetId)}).catch(fu)):(kg(n,r.targetId),await Rg(n.localStore,r.targetId,!0))}async function $4(t,e,n){const r=F4(t);try{const i=await function(s,o){const a=fe(s),l=gt.now(),u=o.reduce((h,m)=>h.add(m.key),_e());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=Hr(),f=_e();return a.Gi.getEntries(h,u).next(p=>{m=p,m.forEach((E,y)=>{y.isValidDocument()||(f=f.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,m)).next(p=>{c=p;const E=[];for(const y of o){const g=rU(y,c.get(y.key).overlayedDocument);g!=null&&E.push(new Ui(y.key,g,lC(g.value.mapValue),Wn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,E,o)}).next(p=>{d=p;const E=p.applyToLocalDocumentSet(c,f);return a.documentOverlayCache.saveOverlays(h,p.batchId,E)})}).then(()=>({batchId:d.batchId,changes:RC(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new wt(Ae)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await wu(r,i.changes),await zh(r.remoteStore)}catch(i){const s=Mv(i,"Failed to persist write");n.reject(s)}}async function GC(t,e){const n=fe(t);try{const r=await YU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Ue(o.ec):i.removedDocuments.size>0&&(Ue(o.ec),o.ec=!1))}),await wu(n,r,e)}catch(r){await fu(r)}}function k_(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=fe(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&Uv(a)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function P4(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new wt(ne.comparator);o=o.insert(s,xt.newNoDocument(s,we.min()));const a=_e().add(s),l=new Vh(we.min(),new Map,new yt(Ae),o,a);await GC(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Fv(r)}else await Rg(r.localStore,e,!1).then(()=>kg(r,e,n)).catch(fu)}async function L4(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await QU(n.localStore,e);QC(n,r,null),KC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wu(n,i)}catch(i){await fu(i)}}async function M4(t,e,n){const r=fe(t);try{const i=await function(s,o){const a=fe(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Ue(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);QC(r,e,n),KC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wu(r,i)}catch(i){await fu(i)}}function KC(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function QC(t,e,n){const r=fe(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function kg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||YC(t,r)})}function YC(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(VC(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Fv(t))}function C_(t,e,n){for(const r of n)r instanceof HC?(t.cc.addReference(r.key,e),D4(t,r)):r instanceof qC?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||YC(t,r.key)):ce()}function D4(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.rc.add(r),Fv(t))}function Fv(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new ne(qe.fromString(e)),r=t.lc.next();t.uc.set(r,new b4(n)),t.oc=t.oc.insert(n,r),UC(t.remoteStore,new as(Wr(Mh(n.path)),r,2,_v.at))}}async function wu(t,e,n){const r=fe(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=Av.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.Wo(i),await async function(a,l){const u=fe(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>L.forEach(l,d=>L.forEach(d.Si,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>L.forEach(d.Di,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!pu(c))throw c;Q("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ui.get(d),m=h.snapshotVersion,f=h.withLastLimboFreeSnapshotVersion(m);u.Ui=u.Ui.insert(d,f)}}}(r.localStore,s))}async function O4(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await LC(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new Y(A.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wu(n,r.ji)}}function U4(t,e){const n=fe(t),r=n.uc.get(e);if(r&&r.ec)return _e().add(r.key);{let i=_e();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function V4(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P4.bind(null,e),e.nc.Wo=T4.bind(null,e.eventManager),e.nc._c=R4.bind(null,e.eventManager),e}function F4(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M4.bind(null,e),e}class B4{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return KU(this.persistence,new qU,e.initialUser,this.It)}gc(e){return new WU(xv.Bs,this.It)}mc(e){return new t4}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class z4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O4.bind(null,this.syncEngine),await _4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new E4}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new s4(i));var i;return function(s,o,a,l){return new l4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>k_(this.syncEngine,a,0),o=E_.C()?new E_:new n4,new c4(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new I4(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=fe(e);Q("RemoteStore","RemoteStore shutting down."),n._u.add(5),await vu(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=iC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function W4(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await LC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function H4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q4(t);Q("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>T_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>T_(e.remoteStore,s)),t.onlineComponents=e}async function q4(t){return t.offlineComponents||(Q("FirestoreClient","Using default OfflineComponentProvider"),await W4(t,new B4)),t.offlineComponents}async function XC(t){return t.onlineComponents||(Q("FirestoreClient","Using default OnlineComponentProvider"),await H4(t,new z4)),t.onlineComponents}function G4(t){return XC(t).then(e=>e.syncEngine)}async function Dd(t){const e=await XC(t),n=e.eventManager;return n.onListen=x4.bind(null,e.syncEngine),n.onUnlisten=N4.bind(null,e.syncEngine),n}function K4(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Bv({next:d=>{s.enqueueAndForget(()=>Ov(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new Y(A.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new Y(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Vv(Mh(o.path),u,{includeMetadataChanges:!0,Nu:!0});return Dv(i,c)}(await Dd(t),t.asyncQueue,e,n,r)),r.promise}function Q4(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Bv({next:d=>{s.enqueueAndForget(()=>Ov(i,c)),d.fromCache&&a.source==="server"?l.reject(new Y(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Vv(o,u,{includeMetadataChanges:!0,Nu:!0});return Dv(i,c)}(await Dd(t),t.asyncQueue,e,n,r)),r.promise}const b_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e,n){if(!n)throw new Y(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y4(t,e,n,r){if(e===!0&&r===!0)throw new Y(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I_(t){if(!ne.isDocumentKey(t))throw new Y(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x_(t){if(ne.isDocumentKey(t))throw new Y(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zv(t);throw new Y(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Y4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new wO;switch(n.type){case"gapi":const r=n.client;return new EO(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=b_.get(e);n&&(Q("ComponentProvider","Removing Datastore"),b_.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class oa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class Ri extends oa{constructor(e,n,r){super(e,n,Mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ne(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function Ft(t,e,...n){if(t=et(t),JC("collection","path",e),t instanceof jv){const r=qe.fromString(e,...n);return x_(r),new Ri(t,null,r)}{if(!(t instanceof en||t instanceof Ri))throw new Y(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return x_(r),new Ri(t.firestore,null,r)}}function wn(t,e,...n){if(t=et(t),arguments.length===1&&(e=iC.R()),JC("doc","path",e),t instanceof jv){const r=qe.fromString(e,...n);return I_(r),new en(t,null,new ne(r))}{if(!(t instanceof en||t instanceof Ri))throw new Y(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return I_(r),new en(t.firestore,t instanceof Ri?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new DC(this,"async_queue_retry"),this.jc=()=>{const n=Dp();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Dp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new Pr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!pu(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{this.qc=r,this.Kc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=Lv.createAndSchedule(this,e,n,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&ce()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function N_(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class qr extends jv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new X4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ZC(this),this._firestoreClient.terminate()}}function J4(t,e){const n=typeof t=="object"?t:By(),r=typeof t=="string"?t:e||"(default)";return ph(n,"firestore").getImmediate({identifier:r})}function jh(t){return t._firestoreClient||ZC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ZC(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new PO(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new j4(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Pt.fromBase64String(e))}catch(n){throw new Y(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uo(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=/^__.*__$/;class e3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class eb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class Hv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Od(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(tb(this.na)&&Z4.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class t3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||Fh(e)}fa(e,n,r,i=!1){return new Hv({na:e,methodName:n,la:r,path:Vt.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function qv(t){const e=t._freezeSettings(),n=Fh(t._databaseId);return new t3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nb(t,e,n,r,i,s={}){const o=t.fa(s.merge||s.mergeFields?2:0,e,n,i);Kv("Data must be an object, but it was:",o,r);const a=rb(r,o);let l,u;if(s.merge)l=new jn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Cg(e,d,n);if(!o.contains(h))throw new Y(A.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);sb(c,h)||c.push(h)}l=new jn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new e3(new fn(a),l,u)}class qh extends Hh{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}class Gv extends Hh{_toFieldTransform(e){return new ZO(e.path,new Ul)}isEqual(e){return e instanceof Gv}}function n3(t,e,n,r){const i=t.fa(1,e,n);Kv("Data must be an object, but it was:",i,r);const s=[],o=fn.empty();xs(r,(l,u)=>{const c=Qv(e,l,n);u=et(u);const d=i.ua(c);if(u instanceof qh)s.push(c);else{const h=Gh(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new jn(s);return new eb(o,a,i.fieldTransforms)}function r3(t,e,n,r,i,s){const o=t.fa(1,e,n),a=[Cg(e,r,n)],l=[i];if(s.length%2!=0)throw new Y(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Cg(e,s[h])),l.push(s[h+1]);const u=[],c=fn.empty();for(let h=a.length-1;h>=0;--h)if(!sb(u,a[h])){const m=a[h];let f=l[h];f=et(f);const p=o.ua(m);if(f instanceof qh)u.push(m);else{const E=Gh(f,p);E!=null&&(u.push(m),c.set(m,E))}}const d=new jn(u);return new eb(c,d,o.fieldTransforms)}function Gh(t,e){if(ib(t=et(t)))return Kv("Unsupported field value:",e,t),rb(t,e);if(t instanceof Hh)return function(n,r){if(!tb(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Gh(o,r.ca(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=et(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return YO(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=gt.fromDate(n);return{timestampValue:Ld(r.It,i)}}if(n instanceof gt){const i=new gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ld(r.It,i)}}if(n instanceof Wv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Uo)return{bytesValue:xC(r.It,n._byteString)};if(n instanceof en){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${zv(n)}`)}(t,e)}function rb(t,e){const n={};return sC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(t,(r,i)=>{const s=Gh(i,e.ia(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ib(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof Wv||t instanceof Uo||t instanceof en||t instanceof Hh)}function Kv(t,e,n){if(!ib(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=zv(n);throw r==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function Cg(t,e,n){if((e=et(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return Qv(t,e);throw Od("Field path arguments must be of type string or ",t,!1,void 0,n)}const i3=new RegExp("[~\\*/\\[\\]]");function Qv(t,e,n){if(e.search(i3)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Od(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y(A.INVALID_ARGUMENT,a+t+l)}function sb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s3 extends ob{data(){return super.data()}}function Yv(t,e){return typeof e=="string"?Qv(t,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ab extends ob{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vc extends ab{data(e={}){return super.data(e)}}class lb{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Va(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vc(this._firestore,this._userDataWriter,r.key,r,new Va(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Vc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Va(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Vc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Va(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:o3(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a3{}function Op(t,...e){for(const n of e)t=n._apply(t);return t}class l3 extends a3{constructor(e,n){super(),this.wa=e,this.ya=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Y(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Y(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new yo(i,s);return function(a,l){if(cC(a)===null){const u=dC(a);u!==null&&u3(a,u,l.field)}}(r,o),o}(e._query,this.wa,this.ya);return new oa(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new mu(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function $_(t,e="asc"){const n=e,r=Yv("orderBy",t);return new l3(r,n)}function u3(t,e,n){if(!n.isEqual(e))throw new Y(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){const r={};return xs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Wv(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=aC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const n=xi(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Ue(PC(r));const i=new Ml(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){t=xn(t,en);const e=xn(t.firestore,qr);return K4(jh(e),t._key).then(n=>hb(e,t,n))}class Jv extends c3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function Zv(t){t=xn(t,oa);const e=xn(t.firestore,qr),n=jh(e),r=new Jv(e);return ub(t._query),Q4(n,t._query).then(i=>new lb(e,r,t,i))}function _u(t,e,n){t=xn(t,en);const r=xn(t.firestore,qr),i=cb(t.converter,e,n);return Kh(r,[nb(qv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wn.none())])}function db(t,e,n,...r){t=xn(t,en);const i=xn(t.firestore,qr),s=qv(i);let o;return o=typeof(e=et(e))=="string"||e instanceof Wh?r3(s,"updateDoc",t._key,e,n,r):n3(s,"updateDoc",t._key,e),Kh(i,[o.toMutation(t._key,Wn.exists(!0))])}function e0(t){return Kh(xn(t.firestore,qr),[new kv(t._key,Wn.none())])}function Vo(t,e){const n=xn(t.firestore,qr),r=wn(t),i=cb(t.converter,e);return Kh(n,[nb(qv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then(()=>r)}function pi(t,...e){var n,r,i;t=et(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||N_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(N_(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof en)u=xn(t.firestore,qr),c=Mh(t._key.path),l={next:d=>{e[o]&&e[o](hb(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=xn(t,oa);u=xn(d.firestore,qr),c=d._query;const h=new Jv(u);l={next:m=>{e[o]&&e[o](new lb(u,h,d,m))},error:e[o+1],complete:e[o+2]},ub(t._query)}return function(d,h,m,f){const p=new Bv(f),E=new Vv(h,p,m);return d.asyncQueue.enqueueAndForget(async()=>Dv(await Dd(d),E)),()=>{p.Rc(),d.asyncQueue.enqueueAndForget(async()=>Ov(await Dd(d),E))}}(jh(u),c,a,l)}function Kh(t,e){return function(n,r){const i=new Pr;return n.asyncQueue.enqueueAndForget(async()=>$4(await G4(n),r,i)),i.promise}(jh(t),e)}function hb(t,e,n){const r=n.docs.get(e._key),i=new Jv(t);return new ab(t,i,e._key,r,new Va(n.hasPendingWrites,n.fromCache),e.converter)}function Qh(){return new Gv("serverTimestamp")}(function(t,e=!0){(function(n){ra=n})(Jo),ms(new bi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new qr(new _O(n.getProvider("auth-internal")),new RO(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Y(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),hr(e_,"3.5.0",t),hr(e_,"3.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="firebasestorage.googleapis.com",pb="storageBucket",d3=2*60*1e3,h3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends yr{constructor(e,n){super(Up(e),`Firebase Storage: ${n} (${Up(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}_codeEquals(e){return Up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Up(t){return"storage/"+t}function t0(){const t="An unknown error occurred, please check the error payload for server response.";return new ot("unknown",t)}function f3(t){return new ot("object-not-found","Object '"+t+"' does not exist.")}function p3(t){return new ot("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function m3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot("unauthenticated",t)}function g3(){return new ot("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function y3(t){return new ot("unauthorized","User does not have permission to access '"+t+"'.")}function v3(){return new ot("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function w3(){return new ot("canceled","User canceled the upload/download.")}function _3(t){return new ot("invalid-url","Invalid URL '"+t+"'.")}function S3(t){return new ot("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function E3(){return new ot("no-default-bucket","No default bucket found. Did you set the '"+pb+"' property when initializing the app?")}function T3(){return new ot("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function R3(){return new ot("no-download-url","The given file does not have any download URLs.")}function bg(t){return new ot("invalid-argument",t)}function mb(){return new ot("app-deleted","The Firebase app was deleted.")}function k3(t){return new ot("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rl(t,e){return new ot("invalid-format","String does not match format '"+t+"': "+e)}function Sa(t){throw new ot("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(r.path==="")return r;throw S3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),f={bucket:1,path:3},p=n===fb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",y=new RegExp(`^https?://${p}/${i}/${E}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:m,indices:f,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<w.length;S++){const C=w[S],I=C.regex.exec(e);if(I){const b=I[C.indices.bucket];let N=I[C.indices.path];N||(N=""),r=new bn(b,N),C.postModify(r);break}}if(r==null)throw _3(e);return r}}class C3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(m,l())},E)}function h(){s&&clearTimeout(s)}function m(E,...y){if(u){h();return}if(E){h(),c.call(null,E,...y);return}if(l()||o){h(),c.call(null,E,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let f=!1;function p(E){f||(f=!0,h(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,p(!0)},n),p}function I3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){return t!==void 0}function A3(t){return typeof t=="object"&&!Array.isArray(t)}function n0(t){return typeof t=="string"||t instanceof String}function P_(t){return r0()&&t instanceof Blob}function r0(){return typeof Blob<"u"}function L_(t,e,n,r){if(r<e)throw bg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw bg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function gb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ls||(ls={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,r,i,s,o,a,l,u,c,d){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,m)=>{this.resolve_=h,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new cc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ls.NO_ERROR,l=s.getStatus();if(!a||this.isRetryStatusCode_(l)){const c=s.getErrorCode()===ls.ABORT;r(!1,new cc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new cc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());x3(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=t0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?mb():w3();o(l)}else{const l=v3();o(l)}};this.canceled_?n(!1,new cc(!1,null,!0)):this.backoffId_=b3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&I3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s}}class cc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function P3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function L3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function M3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function D3(t,e,n,r,i,s){const o=gb(t.urlParams),a=t.url+o,l=Object.assign({},t.headers);return L3(l,e),$3(l,n),P3(l,s),M3(l,r),new N3(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function U3(...t){const e=O3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(r0())return new Blob(t);throw new ot("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function V3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vp{constructor(e,n){this.data=e,this.contentType=n||null}}function B3(t,e){switch(t){case ur.RAW:return new Vp(yb(e));case ur.BASE64:case ur.BASE64URL:return new Vp(vb(t,e));case ur.DATA_URL:return new Vp(j3(e),W3(e))}throw t0()}function yb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function z3(t){let e;try{e=decodeURIComponent(t)}catch{throw rl(ur.DATA_URL,"Malformed data URL.")}return yb(e)}function vb(t,e){switch(t){case ur.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw rl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ur.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw rl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=F3(e)}catch{throw rl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class wb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw rl(ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=H3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function j3(t){const e=new wb(t);return e.base64?vb(ur.BASE64,e.rest):z3(e.rest)}function W3(t){return new wb(t).contentType}function H3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){let r=0,i="";P_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(P_(this.data_)){const r=this.data_,i=V3(r,e,n);return i===null?null:new ci(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ci(r,!0)}}static getBlob(...e){if(r0()){const n=e.map(r=>r instanceof ci?r.data_:r);return new ci(U3.apply(null,n))}else{const n=e.map(o=>n0(o)?B3(ur.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ci(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t){let e;try{e=JSON.parse(t)}catch{return null}return A3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function G3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Sb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t,e){return e}class Qt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||K3}}let dc=null;function Q3(t){return!n0(t)||t.length<2?t:Sb(t)}function Eb(){if(dc)return dc;const t=[];t.push(new Qt("bucket")),t.push(new Qt("generation")),t.push(new Qt("metageneration")),t.push(new Qt("name","fullPath",!0));function e(s,o){return Q3(o)}const n=new Qt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Qt("size");return i.xform=r,t.push(i),t.push(new Qt("timeCreated")),t.push(new Qt("updated")),t.push(new Qt("md5Hash",null,!0)),t.push(new Qt("cacheControl",null,!0)),t.push(new Qt("contentDisposition",null,!0)),t.push(new Qt("contentEncoding",null,!0)),t.push(new Qt("contentLanguage",null,!0)),t.push(new Qt("contentType",null,!0)),t.push(new Qt("metadata","customMetadata",!0)),dc=t,dc}function Y3(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new bn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function X3(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Y3(r,t),r}function Tb(t,e,n){const r=_b(e);return r===null?null:X3(t,r,n)}function J3(t,e,n,r){const i=_b(e);if(i===null||!n0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),m=i0(h,n,r),f=gb({alt:"media",token:u});return m+f})[0]}function Z3(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Rb{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t){if(!t)throw t0()}function eV(t,e){function n(r,i){const s=Tb(t,i,e);return kb(s!==null),s}return n}function tV(t,e){function n(r,i){const s=Tb(t,i,e);return kb(s!==null),J3(s,i,t.host,t._protocol)}return n}function Cb(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=g3():i=m3():n.getStatus()===402?i=p3(t.bucket):n.getStatus()===403?i=y3(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function nV(t){const e=Cb(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=f3(t.path)),s.serverResponse=i.serverResponse,s}return n}function rV(t,e,n){const r=e.fullServerUrl(),i=i0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Rb(i,s,tV(t,n),o);return a.errorHandler=nV(e),a}function iV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function sV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=iV(null,e)),r}function oV(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let S=0;S<2;S++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=sV(e,r,i),c=Z3(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=ci.getBlob(d,r,h);if(m===null)throw T3();const f={name:u.fullPath},p=i0(s,t.host,t._protocol),E="POST",y=t.maxUploadRetryTime,g=new Rb(p,E,eV(t,n),y);return g.urlParams=f,g.headers=o,g.body=m.uploadData(),g.errorHandler=Cb(e),g}class aV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ls.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ls.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ls.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Sa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lV extends aV{initXhr(){this.xhr_.responseType="text"}}function bb(){return new lV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ss(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Sb(this._location.path)}get storage(){return this._service}get parent(){const e=q3(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new Ss(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw k3(e)}}function uV(t,e,n){t._throwIfRoot("uploadBytes");const r=oV(t.storage,t._location,Eb(),new ci(e,!0),n);return t.storage.makeRequestWithTokens(r,bb).then(i=>({metadata:i,ref:t}))}function cV(t){t._throwIfRoot("getDownloadURL");const e=rV(t.storage,t._location,Eb());return t.storage.makeRequestWithTokens(e,bb).then(n=>{if(n===null)throw R3();return n})}function dV(t,e){const n=G3(t._location.path,e),r=new bn(t._location.bucket,n);return new Ss(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){return/^[A-Za-z]+:\/\//.test(t)}function fV(t,e){return new Ss(t,e)}function Ib(t,e){if(t instanceof s0){const n=t;if(n._bucket==null)throw E3();const r=new Ss(n,n._bucket);return e!=null?Ib(r,e):r}else return e!==void 0?dV(t,e):t}function pV(t,e){if(e&&hV(e)){if(t instanceof s0)return fV(t,e);throw bg("To use ref(service, url), the first argument must be a Storage instance.")}else return Ib(t,e)}function M_(t,e){const n=e==null?void 0:e[pb];return n==null?null:bn.makeFromBucketSpec(n,t)}class s0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=fb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=d3,this._maxUploadRetryTime=h3,this._requests=new Set,i!=null?this._bucket=bn.makeFromBucketSpec(i,this._host):this._bucket=M_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=M_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ss(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new C3(mb());{const s=D3(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const D_="@firebase/storage",O_="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="storage";function Ab(t,e,n){return t=et(t),uV(t,e,n)}function Nb(t){return t=et(t),cV(t)}function $b(t,e){return t=et(t),pV(t,e)}function mV(t=By(),e){return t=et(t),ph(t,xb).getImmediate({identifier:e})}function gV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new s0(n,r,i,e,Jo)}function yV(){ms(new bi(xb,gV,"PUBLIC").setMultipleInstances(!0)),hr(D_,O_,""),hr(D_,O_,"esm2017")}yV();const vV={apiKey:"AIzaSyA7KbF_weoI73obY5__6Jk0w_jVUaZOsH8",authDomain:"chat-app-4a684.firebaseapp.com",projectId:"chat-app-4a684",database:"https://chat-app-4a684/firebaseio.com",storageBucket:"chat-app-4a684.appspot.com",messagingSenderId:"456483435242",appId:"1:456483435242:web:052756066a06a8af961d93"},o0=tL(vV),Ni=mD(o0),Ne=J4(o0),Pb=mV(o0);function wV(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var _V=wV,ye=_V;function SV(t){return!!t&&typeof t.then=="function"}var Ge=SV;function EV(t,e){if(t!=null)return t;throw ye(e!=null?e:"Got unexpected null or undefined")}var Ke=EV;function he(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Yh{getValue(){throw ye("BaseLoadable")}toPromise(){throw ye("BaseLoadable")}valueMaybe(){throw ye("BaseLoadable")}valueOrThrow(){throw ye(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw ye("BaseLoadable")}promiseOrThrow(){throw ye(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw ye("BaseLoadable")}errorOrThrow(){throw ye(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw ye("BaseLoadable")}}class TV extends Yh{constructor(e){super(),he(this,"state","hasValue"),he(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Ge(n)?Es(n):Fo(n)?n:Su(n)}catch(n){return Ge(n)?Es(n.next(()=>this.map(e))):Xh(n)}}}class RV extends Yh{constructor(e){super(),he(this,"state","hasError"),he(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class Lb extends Yh{constructor(e){super(),he(this,"state","loading"),he(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Es(this.contents.then(n=>{const r=e(n);if(Fo(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(Ge(n))return n.then(()=>this.map(e).contents);throw n}))}}function Su(t){return Object.freeze(new TV(t))}function Xh(t){return Object.freeze(new RV(t))}function Es(t){return Object.freeze(new Lb(t))}function Mb(){return Object.freeze(new Lb(new Promise(()=>{})))}function kV(t){return t.every(e=>e.state==="hasValue")?Su(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Xh(Ke(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Es(Promise.all(t.map(e=>e.contents)))}function Db(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Fo(i)?i:Ge(i)?Es(i):Su(i)),r=kV(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function Fo(t){return t instanceof Yh}const CV={of:t=>Ge(t)?Es(t):Fo(t)?t:Su(t),error:t=>Xh(t),loading:()=>Mb(),all:Db,isLoadable:Fo};var Ns={loadableWithValue:Su,loadableWithError:Xh,loadableWithPromise:Es,loadableLoading:Mb,loadableAll:Db,isLoadable:Fo,RecoilLoadable:CV},bV=Ns.loadableWithValue,IV=Ns.loadableWithError,xV=Ns.loadableWithPromise,AV=Ns.loadableLoading,NV=Ns.loadableAll,$V=Ns.isLoadable,PV=Ns.RecoilLoadable,Eu=Object.freeze({__proto__:null,loadableWithValue:bV,loadableWithError:IV,loadableWithPromise:xV,loadableLoading:AV,loadableAll:NV,isLoadable:$V,RecoilLoadable:PV});const Jh=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function Zh(t){var e;return(e=Jh.get(t))!==null&&e!==void 0?e:!1}Zh.setPass=t=>{Jh.set(t,!0)};Zh.setFail=t=>{Jh.set(t,!1)};Zh.clear=()=>{Jh.clear()};var Me=Zh,Fp,Bp,zp;const LV=(Fp=rt.createMutableSource)!==null&&Fp!==void 0?Fp:rt.unstable_createMutableSource,Ob=(Bp=rt.useMutableSource)!==null&&Bp!==void 0?Bp:rt.unstable_useMutableSource,Ub=(zp=rt.useSyncExternalStore)!==null&&zp!==void 0?zp:rt.unstable_useSyncExternalStore;function MV(){return Me("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Me("recoil_sync_external_store")&&Ub!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Me("recoil_mutable_source")&&Ob!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Me("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Me("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function DV(){return!1}var Tu={createMutableSource:LV,useMutableSource:Ob,useSyncExternalStore:Ub,reactMode:MV,isFastRefreshEnabled:DV};class a0{constructor(e){he(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class Vb extends a0{}class Fb extends a0{}function OV(t){return t instanceof Vb||t instanceof Fb}var ef={AbstractRecoilValue:a0,RecoilState:Vb,RecoilValueReadOnly:Fb,isRecoilValue:OV},UV=ef.AbstractRecoilValue,VV=ef.RecoilState,FV=ef.RecoilValueReadOnly,BV=ef.isRecoilValue,Bo=Object.freeze({__proto__:null,AbstractRecoilValue:UV,RecoilState:VV,RecoilValueReadOnly:FV,isRecoilValue:BV});function zV(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var tf=zV;function jV(t,e,{error:n}={}){return null}var WV=jV,l0=WV;class Bb{}const HV=new Bb,Ts=new Map,u0=new Map;function qV(t){return tf(t,e=>Ke(u0.get(e)))}function GV(t){if(Ts.has(t.key)){const n=`Duplicate atom key "${t.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(n)}Ts.set(t.key,t);const e=t.set==null?new Bo.RecoilValueReadOnly(t.key):new Bo.RecoilState(t.key);return u0.set(t.key,e),e}class zb extends Error{}function KV(t){const e=Ts.get(t);if(e==null)throw new zb(`Missing definition for RecoilValue: "${t}""`);return e}function QV(t){return Ts.get(t)}const Ud=new Map;function YV(t){var e;if(!Me("recoil_memory_managament_2020"))return;const n=Ts.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Ts.delete(t),(r=jb(t))===null||r===void 0||r(),Ud.delete(t)}}function XV(t,e){!Me("recoil_memory_managament_2020")||(e===void 0?Ud.delete(t):Ud.set(t,e))}function jb(t){return Ud.get(t)}var En={nodes:Ts,recoilValues:u0,registerNode:GV,getNode:KV,getNodeMaybe:QV,deleteNodeConfigIfPossible:YV,setConfigDeletionHandler:XV,getConfigDeletionHandler:jb,recoilValuesForKeys:qV,NodeMissingError:zb,DefaultValue:Bb,DEFAULT_VALUE:HV};function JV(t,e){e()}var ZV={enqueueExecution:JV};function eF(t,e){return e={exports:{}},t(e,e.exports),e.exports}var tF=eF(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},u=function(T){return function(){return T}},c=n.hash=function(k){var T=typeof k>"u"?"undefined":e(k);if(T==="number")return k;T!=="string"&&(k+="");for(var $=0,F=0,B=k.length;F<B;++F){var H=k.charCodeAt(F);$=($<<5)-$+H|0}return $},d=function(T){return T-=T>>1&1431655765,T=(T&858993459)+(T>>2&858993459),T=T+(T>>4)&252645135,T+=T>>8,T+=T>>16,T&127},h=function(T,$){return $>>>T&s},m=function(T){return 1<<T},f=function(T,$){return d(T&$-1)},p=function(T,$,F,B){var H=B;if(!T){var ae=B.length;H=new Array(ae);for(var se=0;se<ae;++se)H[se]=B[se]}return H[$]=F,H},E=function(T,$,F){var B=F.length-1,H=0,ae=0,se=F;if(T)H=ae=$;else for(se=new Array(B);H<$;)se[ae++]=F[H++];for(++H;H<=B;)se[ae++]=F[H++];return T&&(se.length=B),se},y=function(T,$,F,B){var H=B.length;if(T){for(var ae=H;ae>=$;)B[ae--]=B[ae];return B[$]=F,B}for(var se=0,oe=0,ve=new Array(H+1);se<$;)ve[oe++]=B[se++];for(ve[$]=F;se<H;)ve[++oe]=B[se++];return ve},g=1,w=2,S=3,C=4,I={__hamt_isEmpty:!0},b=function(T){return T===I||T&&T.__hamt_isEmpty},N=function(T,$,F,B){return{type:g,edit:T,hash:$,key:F,value:B,_modify:M}},Z=function(T,$,F){return{type:w,edit:T,hash:$,children:F,_modify:X}},x=function(T,$,F){return{type:S,edit:T,mask:$,children:F,_modify:U}},ee=function(T,$,F){return{type:C,edit:T,size:$,children:F,_modify:J}},pe=function(T){return T===I||T.type===g||T.type===w},me=function(T,$,F,B,H){for(var ae=[],se=B,oe=0,ve=0;se;++ve)se&1&&(ae[ve]=H[oe++]),se>>>=1;return ae[$]=F,ee(T,oe+1,ae)},re=function(T,$,F,B){for(var H=new Array($-1),ae=0,se=0,oe=0,ve=B.length;oe<ve;++oe)if(oe!==F){var ze=B[oe];ze&&!b(ze)&&(H[ae++]=ze,se|=1<<oe)}return x(T,se,H)},Le=function k(T,$,F,B,H,ae){if(F===H)return Z(T,F,[ae,B]);var se=h($,F),oe=h($,H);return x(T,m(se)|m(oe),se===oe?[k(T,$+r,F,B,H,ae)]:se<oe?[B,ae]:[ae,B])},Te=function(T,$,F,B,H,ae,se,oe){for(var ve=H.length,ze=0;ze<ve;++ze){var an=H[ze];if(F(se,an.key)){var _t=an.value,On=ae(_t);return On===_t?H:On===l?(--oe.value,E(T,ze,H)):p(T,ze,N($,B,se,On),H)}}var Gn=ae();return Gn===l?H:(++oe.value,p(T,ve,N($,B,se,Gn),H))},be=function(T,$){return T===$.edit},M=function(T,$,F,B,H,ae,se){if($(ae,this.key)){var oe=B(this.value);return oe===this.value?this:oe===l?(--se.value,I):be(T,this)?(this.value=oe,this):N(T,H,ae,oe)}var ve=B();return ve===l?this:(++se.value,Le(T,F,this.hash,this,H,N(T,H,ae,ve)))},X=function(T,$,F,B,H,ae,se){if(H===this.hash){var oe=be(T,this),ve=Te(oe,T,$,this.hash,this.children,B,ae,se);return ve===this.children?this:ve.length>1?Z(T,this.hash,ve):ve[0]}var ze=B();return ze===l?this:(++se.value,Le(T,F,this.hash,this,H,N(T,H,ae,ze)))},U=function(T,$,F,B,H,ae,se){var oe=this.mask,ve=this.children,ze=h(F,H),an=m(ze),_t=f(oe,an),On=oe&an,Gn=On?ve[_t]:I,Ds=Gn._modify(T,$,F+r,B,H,ae,se);if(Gn===Ds)return this;var Vu=be(T,this),ca=oe,da=void 0;if(On&&b(Ds)){if(ca&=~an,!ca)return I;if(ve.length<=2&&pe(ve[_t^1]))return ve[_t^1];da=E(Vu,_t,ve)}else if(!On&&!b(Ds)){if(ve.length>=o)return me(T,ze,Ds,oe,ve);ca|=an,da=y(Vu,_t,Ds,ve)}else da=p(Vu,_t,Ds,ve);return Vu?(this.mask=ca,this.children=da,this):x(T,ca,da)},J=function(T,$,F,B,H,ae,se){var oe=this.size,ve=this.children,ze=h(F,H),an=ve[ze],_t=(an||I)._modify(T,$,F+r,B,H,ae,se);if(an===_t)return this;var On=be(T,this),Gn=void 0;if(b(an)&&!b(_t))++oe,Gn=p(On,ze,_t,ve);else if(!b(an)&&b(_t)){if(--oe,oe<=a)return re(T,oe,ze,ve);Gn=p(On,ze,I,ve)}else Gn=p(On,ze,_t,ve);return On?(this.size=oe,this.children=Gn,this):ee(T,oe,Gn)};I._modify=function(k,T,$,F,B,H,ae){var se=F();return se===l?I:(++ae.value,N(k,B,H,se))};function R(k,T,$,F,B){this._editable=k,this._edit=T,this._config=$,this._root=F,this._size=B}R.prototype.setTree=function(k,T){return this._editable?(this._root=k,this._size=T,this):k===this._root?this:new R(this._editable,this._edit,this._config,k,T)};var O=n.tryGetHash=function(k,T,$,F){for(var B=F._root,H=0,ae=F._config.keyEq;;)switch(B.type){case g:return ae($,B.key)?B.value:k;case w:{if(T===B.hash)for(var se=B.children,oe=0,ve=se.length;oe<ve;++oe){var ze=se[oe];if(ae($,ze.key))return ze.value}return k}case S:{var an=h(H,T),_t=m(an);if(B.mask&_t){B=B.children[f(B.mask,_t)],H+=r;break}return k}case C:{if(B=B.children[h(H,T)],B){H+=r;break}return k}default:return k}};R.prototype.tryGetHash=function(k,T,$){return O(k,T,$,this)};var D=n.tryGet=function(k,T,$){return O(k,$._config.hash(T),T,$)};R.prototype.tryGet=function(k,T){return D(k,T,this)};var te=n.getHash=function(k,T,$){return O(void 0,k,T,$)};R.prototype.getHash=function(k,T){return te(k,T,this)},n.get=function(k,T){return O(void 0,T._config.hash(k),k,T)},R.prototype.get=function(k,T){return D(T,k,this)};var z=n.has=function(k,T,$){return O(l,k,T,$)!==l};R.prototype.hasHash=function(k,T){return z(k,T,this)};var ue=n.has=function(k,T){return z(T._config.hash(k),k,T)};R.prototype.has=function(k){return ue(k,this)};var ge=function(T,$){return T===$};n.make=function(k){return new R(0,0,{keyEq:k&&k.keyEq||ge,hash:k&&k.hash||c},I,0)},n.empty=n.make();var q=n.isEmpty=function(k){return k&&!!b(k._root)};R.prototype.isEmpty=function(){return q(this)};var De=n.modifyHash=function(k,T,$,F){var B={value:F._size},H=F._root._modify(F._editable?F._edit:NaN,F._config.keyEq,0,k,T,$,B);return F.setTree(H,B.value)};R.prototype.modifyHash=function(k,T,$){return De($,k,T,this)};var it=n.modify=function(k,T,$){return De(k,$._config.hash(T),T,$)};R.prototype.modify=function(k,T){return it(T,k,this)};var Ie=n.setHash=function(k,T,$,F){return De(u($),k,T,F)};R.prototype.setHash=function(k,T,$){return Ie(k,T,$,this)};var Ve=n.set=function(k,T,$){return Ie($._config.hash(k),k,T,$)};R.prototype.set=function(k,T){return Ve(k,T,this)};var Tn=u(l),Tr=n.removeHash=function(k,T,$){return De(Tn,k,T,$)};R.prototype.removeHash=R.prototype.deleteHash=function(k,T){return Tr(k,T,this)};var on=n.remove=function(k,T){return Tr(T._config.hash(k),k,T)};R.prototype.remove=R.prototype.delete=function(k){return on(k,this)};var Kt=n.beginMutation=function(k){return new R(k._editable+1,k._edit+1,k._config,k._root,k._size)};R.prototype.beginMutation=function(){return Kt(this)};var Pu=n.endMutation=function(k){return k._editable=k._editable&&k._editable-1,k};R.prototype.endMutation=function(){return Pu(this)};var Bf=n.mutate=function(k,T){var $=Kt(T);return k($),Pu($)};R.prototype.mutate=function(k){return Bf(k,this)};var Wi=function(T){return T&&Ms(T[0],T[1],T[2],T[3],T[4])},Ms=function(T,$,F,B,H){for(;F<T;){var ae=$[F++];if(ae&&!b(ae))return Lu(ae,B,[T,$,F,B,H])}return Wi(H)},Lu=function(T,$,F){switch(T.type){case g:return{value:$(T),rest:F};case w:case C:case S:var B=T.children;return Ms(B.length,B,0,$,F);default:return Wi(F)}},zf={done:!0};function Xr(k){this.v=k}Xr.prototype.next=function(){if(!this.v)return zf;var k=this.v;return this.v=Wi(k.rest),k},Xr.prototype[Symbol.iterator]=function(){return this};var Rr=function(T,$){return new Xr(Lu(T._root,$))},jf=function(T){return[T.key,T.value]},Wf=n.entries=function(k){return Rr(k,jf)};R.prototype.entries=R.prototype[Symbol.iterator]=function(){return Wf(this)};var Mu=function(T){return T.key},Hf=n.keys=function(k){return Rr(k,Mu)};R.prototype.keys=function(){return Hf(this)};var de=function(T){return T.value},Du=n.values=R.prototype.values=function(k){return Rr(k,de)};R.prototype.values=function(){return Du(this)};var Ou=n.fold=function(k,T,$){var F=$._root;if(F.type===g)return k(T,F.value,F.key);for(var B=[F.children],H=void 0;H=B.pop();)for(var ae=0,se=H.length;ae<se;){var oe=H[ae++];oe&&oe.type&&(oe.type===g?T=k(T,oe.value,oe.key):B.push(oe.children))}return T};R.prototype.fold=function(k,T){return Ou(k,T,this)};var Uu=n.forEach=function(k,T){return Ou(function($,F,B){return k(F,B,T)},null,T)};R.prototype.forEach=function(k){return Uu(k,this)};var n1=n.count=function(k){return k._size};R.prototype.count=function(){return n1(this)},Object.defineProperty(R.prototype,"size",{get:R.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class nF{constructor(e){he(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return d0(this)}toMap(){return new Map(this._map)}}class c0{constructor(e){if(he(this,"_hamt",tF.empty.beginMutation()),e instanceof c0){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return d0(this)}toMap(){return new Map(this._hamt)}}function d0(t){return Me("recoil_hamt_2020")?new c0(t):new nF(t)}var rF={persistentMap:d0},iF=rF.persistentMap,sF=Object.freeze({__proto__:null,persistentMap:iF});function oF(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var il=oF;function aF(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Vd=aF;function lF(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function uF(t){return{nodeDeps:Vd(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Vd(t.nodeToNodeSubscriptions,e=>new Set(e))}}function jp(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:il(e,o);for(const l of a)s.has(l)||s.set(l,new Set),Ke(s.get(l)).add(t);if(o){const l=il(o,e);for(const u of l){if(!s.has(u))return;const c=Ke(s.get(u));c.delete(t),c.size===0&&s.delete(u)}}}function cF(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((s=l.previousTree)===null||s===void 0||s.version);const u=n.getGraph(r);if(jp(t,e,u),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const d=n.getGraph(l.currentTree.version);jp(t,e,d,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const d=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(d!==void 0){const h=n.getGraph(d);jp(t,e,h,u)}}}var Ru={cloneGraph:uF,graph:lF,saveDepsToStore:cF};let dF=0;const hF=()=>dF++;let fF=0;const pF=()=>fF++;let mF=0;const gF=()=>mF++;var nf={getNextTreeStateVersion:hF,getNextStoreID:pF,getNextComponentID:gF};const{persistentMap:U_}=sF,{graph:yF}=Ru,{getNextTreeStateVersion:Wb}=nf;function Hb(){const t=Wb();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:U_(),nonvalidatedAtoms:U_()}}function vF(){const t=Hb();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,yF()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var qb={makeEmptyTreeState:Hb,makeEmptyStoreState:vF,getNextTreeStateVersion:Wb};class Gb{}function wF(){return new Gb}var rf={RetentionZone:Gb,retentionZone:wF};function _F(t,e){const n=new Set(t);return n.add(e),n}function SF(t,e){const n=new Set(t);return n.delete(e),n}function EF(t,e,n){const r=new Map(t);return r.set(e,n),r}function TF(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function RF(t,e){const n=new Map(t);return n.delete(e),n}function kF(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var Kb={setByAddingToSet:_F,setByDeletingFromSet:SF,mapBySettingInMap:EF,mapByUpdatingInMap:TF,mapByDeletingFromMap:RF,mapByDeletingMultipleFromMap:kF};function*CF(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var h0=CF;function bF(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var Qb=bF;const{getNode:ku,getNodeMaybe:IF,recoilValuesForKeys:V_}=En,{RetentionZone:F_}=rf,{setByAddingToSet:xF}=Kb,AF=Object.freeze(new Set);class NF extends Error{}function $F(t,e,n){if(!Me("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof F_)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Me("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof F_)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function f0(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=ku(n),o=$F(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function PF(t,e,n){f0(t,t.getState().currentTree,e,n)}function LF(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function MF(t,e,n){return f0(t,e,n,"get"),ku(n).get(t,e)}function Yb(t,e,n){return ku(n).peek(t,e)}function DF(t,e,n){var r;const i=IF(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:xF(t.dirtyAtoms,e)}}function OF(t,e,n,r){const i=ku(n);if(i.set==null)throw new NF(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return f0(t,e,n,"set"),s(t,e,r)}function UF(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=ku(n).nodeType;return Qb({type:s},{loadable:()=>Yb(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return V_((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:V_(h0(Xb(t,e,new Set([n])),l=>l!==n)),components:tf((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function Xb(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:AF;for(const u of l)r.has(u)||i.push(u)}return r}var Vi={getNodeLoadable:MF,peekNodeLoadable:Yb,setNodeValue:OF,initializeNode:PF,cleanUpNode:LF,setUnvalidatedAtomValue_DEPRECATED:DF,peekNodeInfo:UF,getDownstreamNodes:Xb};let Jb=null;function VF(t){Jb=t}function FF(){var t;(t=Jb)===null||t===void 0||t()}var Zb={setInvalidateMemoizedSnapshot:VF,invalidateMemoizedSnapshot:FF};const{getDownstreamNodes:BF,getNodeLoadable:eI,setNodeValue:zF}=Vi,{getNextComponentID:jF}=nf,{getNode:WF,getNodeMaybe:tI}=En,{DefaultValue:p0}=En,{reactMode:HF}=Tu,{AbstractRecoilValue:qF,RecoilState:GF,RecoilValueReadOnly:KF,isRecoilValue:QF}=Bo,{invalidateMemoizedSnapshot:YF}=Zb;function XF(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=s.previousTree)===null||i===void 0||i.version);const o=eI(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function JF(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof p0?n.delete(i):n.set(i,r)}),n}function ZF(t,e,{key:n},r){if(typeof r=="function"){const i=eI(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw ye(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function e5(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=ZF(t,e,i,s),a=zF(t,e,i.key,o);for(const[l,u]of a.entries())Ig(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;Ig(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=tI(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else l0(`Unknown action ${n.type}`)}function Ig(t,e,n){n.state==="hasValue"&&n.contents instanceof p0?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function nI(t,e){t.replaceState(n=>{const r=rI(n);for(const i of e)e5(t,r,i);return iI(t,r),YF(),r})}function sf(t,e){if(sl.length){const n=sl[sl.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else nI(t,[e])}const sl=[];function t5(){const t=new Map;return sl.push(t),()=>{for(const[e,n]of t)nI(e,n);sl.pop()}}function rI(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function iI(t,e){const n=BF(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=tI(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function sI(t,e,n){sf(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function n5(t,e,n){if(n instanceof p0)return sI(t,e,n);sf(t,{type:"setLoadable",recoilValue:e,loadable:n})}function r5(t,e){sf(t,{type:"markModified",recoilValue:e})}function i5(t,e,n){sf(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function s5(t,{key:e},n,r=null){const i=jF(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),Ke(s.nodeToComponentSubscriptions.get(e)).set(i,[r!=null?r:"<not captured>",n]);const o=HF();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function o5(t,e){var n;const{currentTree:r}=t.getState(),i=WF(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var vr={RecoilValueReadOnly:KF,AbstractRecoilValue:qF,RecoilState:GF,getRecoilValueAsLoadable:XF,setRecoilValue:sI,setRecoilValueLoadable:n5,markRecoilValueModified:r5,setUnvalidatedRecoilValue:i5,subscribeToRecoilValue:s5,isRecoilValue:QF,applyAtomValueWrites:JF,batchStart:t5,writeLoadableToTreeState:Ig,invalidateDownstreams:iI,copyTreeState:rI,refreshRecoilValue:o5};function a5(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var l5=a5;const{cleanUpNode:u5}=Vi,{deleteNodeConfigIfPossible:c5,getNode:oI}=En,{RetentionZone:aI}=rf,d5=12e4,lI=new Set;function uI(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of e)if(o instanceof aI)for(const a of m5(n,o))i.add(a);else i.add(o);const s=h5(t,i);for(const o of s)p5(t,r,o)}function h5(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const u=new Set,c=f5(t,r,l,s,o);for(const f of c){var d;if(oI(f).retainedBy==="recoilRoot"){o.add(f);continue}if(((d=n.retention.referenceCounts.get(f))!==null&&d!==void 0?d:0)>0){o.add(f);continue}if(cI(f).some(E=>n.retention.referenceCounts.get(E))){o.add(f);continue}const p=i.nodeToNodeSubscriptions.get(f);if(p&&l5(p,E=>o.has(E))){o.add(f);continue}s.add(f),u.add(f)}const h=new Set;for(const f of u)for(const p of(m=i.nodeDeps.get(f))!==null&&m!==void 0?m:lI){var m;s.has(p)||h.add(p)}h.size&&a(h)}}function f5(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(Ke(n.values().next().value));return o;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=s.nodeToNodeSubscriptions.get(u);if(c)for(const d of c)l(d);a.add(u),n.delete(u),o.push(u)}}function p5(t,e,n){if(!Me("recoil_memory_managament_2020"))return;u5(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=cI(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const u of l){var a;(a=o.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}c5(n)}function m5(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:lI}function cI(t){const e=oI(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof aI?[e]:e}function g5(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):uI(t,new Set([e]))}function y5(t,e,n){var r;if(!Me("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?dI(t,e):i.set(e,s)}function dI(t,e){if(!Me("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),g5(t,e)}function v5(t){if(!Me("recoil_memory_managament_2020"))return;const e=t.getState();uI(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function w5(t){return t===void 0?"recoilRoot":t}var $s={SUSPENSE_TIMEOUT_MS:d5,updateRetainCount:y5,updateRetainCountToZero:dI,releaseScheduledRetainablesNow:v5,retainedByOptionWithDefault:w5};const{unstable_batchedUpdates:_5}=_2;var S5={unstable_batchedUpdates:_5};const{unstable_batchedUpdates:E5}=S5;var T5={unstable_batchedUpdates:E5};const{batchStart:R5}=vr,{unstable_batchedUpdates:k5}=T5;let m0=k5;const C5=t=>{m0=t},b5=()=>m0,I5=t=>{m0(()=>{let e=()=>{};try{e=R5(),t()}finally{e()}})};var of={getBatcher:b5,setBatcher:C5,batchUpdates:I5};function*x5(t){for(const e of t)for(const n of e)yield n}var hI=x5;const fI=typeof Window>"u"||typeof window>"u",A5=t=>!fI&&(t===window||t instanceof Window),N5=typeof navigator<"u"&&navigator.product==="ReactNative";var g0={isSSR:fI,isReactNative:N5,isWindow:A5};function $5(t,e){let n;return(...i)=>{n||(n={});const s=e(...i);return Object.hasOwnProperty.call(n,s)||(n[s]=t(...i)),n[s]}}function P5(t,e){let n,r;return(...s)=>{const o=e(...s);return n===o||(n=o,r=t(...s)),r}}function L5(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var M5={memoizeWithArgsHash:$5,memoizeOneWithArgsHash:P5,memoizeOneWithArgsHashAndInvalidation:L5};const{batchUpdates:xg}=of,{initializeNode:D5,peekNodeInfo:O5}=Vi,{graph:U5}=Ru,{getNextStoreID:V5}=nf,{DEFAULT_VALUE:F5,recoilValues:B_,recoilValuesForKeys:z_}=En,{AbstractRecoilValue:B5,getRecoilValueAsLoadable:z5,setRecoilValue:j_,setUnvalidatedRecoilValue:j5}=vr,{updateRetainCount:Fc}=$s,{setInvalidateMemoizedSnapshot:W5}=Zb,{getNextTreeStateVersion:H5,makeEmptyStoreState:q5}=qb,{isSSR:G5}=g0,{memoizeOneWithArgsHashAndInvalidation:K5}=M5;class af{constructor(e,n){he(this,"_store",void 0),he(this,"_refCount",1),he(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),z5(this._store,r))),he(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),he(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return z_(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?B_.values():r.isInitialized===!0?z_(hI([i,s])):h0(B_.values(),({key:o})=>!i.has(o)&&!s.has(o))}),he(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),O5(this._store,this._store.getState().currentTree,r))),he(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new Ag(this,xg);return r(i),i}),he(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new Ag(this,xg);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:V5(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return Ke(i.get(r));const s=U5();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw ye("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)D5(this._store,r,"get"),Fc(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){G5||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Me("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Me("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function pI(t,e,n=!1){const r=t.getState(),i=n?H5():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(tf(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function Q5(t){const e=new af(q5());return t!=null?e.map(t):e}const[W_,mI]=K5((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:Ke(r.previousTree);return new af(pI(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});W5(mI);function Y5(t,e="latest"){const n=W_(t,e);return n.isRetained()?n:(mI(),W_(t,e))}class Ag extends af{constructor(e,n){super(pI(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),he(this,"_batch",void 0),he(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Fc(s,r.key,1),j_(this.getStore_INTERNAL(),r,i)})}),he(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Fc(i,r.key,1),j_(this.getStore_INTERNAL(),r,F5)})}),he(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();xg(()=>{for(const[s,o]of r.entries())Fc(i,s,1),j5(i,new B5(s),o)})}),this._batch=n}}var lf={Snapshot:af,MutableSnapshot:Ag,freshSnapshot:Q5,cloneSnapshot:Y5},X5=lf.Snapshot,J5=lf.MutableSnapshot,Z5=lf.freshSnapshot,eB=lf.cloneSnapshot,uf=Object.freeze({__proto__:null,Snapshot:X5,MutableSnapshot:J5,freshSnapshot:Z5,cloneSnapshot:eB});function tB(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var nB=tB;const{useRef:rB}=rt;function iB(t){const e=rB(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var H_=iB;const{getNextTreeStateVersion:sB,makeEmptyStoreState:gI}=qb,{cleanUpNode:oB,getDownstreamNodes:aB,initializeNode:lB,setNodeValue:uB,setUnvalidatedAtomValue_DEPRECATED:cB}=Vi,{graph:dB}=Ru,{cloneGraph:hB}=Ru,{getNextStoreID:yI}=nf,{createMutableSource:Wp,reactMode:vI}=Tu,{applyAtomValueWrites:fB}=vr,{releaseScheduledRetainablesNow:wI}=$s,{freshSnapshot:pB}=uf,{useCallback:mB,useContext:_I,useEffect:Ng,useMemo:gB,useRef:yB,useState:vB}=rt;function Ea(){throw ye("This component must be used inside a <RecoilRoot> component.")}const SI=Object.freeze({storeID:yI(),getState:Ea,replaceState:Ea,getGraph:Ea,subscribeToTransactions:Ea,addTransactionMetadata:Ea});let $g=!1;function q_(t){if($g)throw ye("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Me("recoil_memory_managament_2020")&&Me("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&wI(t);const n=e.currentTree.version,r=sB();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,hB(Ke(e.graphsByVersion.get(n))))}}const EI=rt.createContext({current:SI}),cf=()=>_I(EI),TI=rt.createContext(null);function wB(){return _I(TI)}function y0(t,e,n){const r=aB(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function RI(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!vI().early||e.suspendedComponentResolvers.size>0)&&(y0(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function _B(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,RI(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):l0("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Me("recoil_memory_managament_2020")&&n==null&&wI(t)}finally{e.commitDepth--}}function SB({setNotifyBatcherOfChange:t}){const e=cf(),[,n]=vB([]);return t(()=>n({})),Ng(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Ng(()=>{ZV.enqueueExecution("Batcher",()=>{_B(e.current)})}),null}function EB(t,e){const n=gI();return e({set:(r,i)=>{const s=n.currentTree,o=uB(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...s,dirtyAtoms:nB(s.dirtyAtoms,a),atomValues:fB(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=cB(n.currentTree,s,i)})}}),n}function TB(t){const e=pB(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let G_=0;function RB({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=m=>{const f=i.current.graphsByVersion;if(f.has(m))return Ke(f.get(m));const p=dB();return f.set(m,p),p},o=(m,f)=>{if(f==null){const{transactionSubscriptions:p}=d.current.getState(),E=G_++;return p.set(E,m),{release:()=>{p.delete(E)}}}else{const{nodeTransactionSubscriptions:p}=d.current.getState();p.has(f)||p.set(f,new Map);const E=G_++;return Ke(p.get(f)).set(E,m),{release:()=>{const y=p.get(f);y&&(y.delete(E),y.size===0&&p.delete(f))}}}},a=m=>{q_(d.current);for(const f of Object.keys(m))Ke(d.current.getState().nextTree).transactionMetadata[f]=m[f]},l=m=>{q_(d.current);const f=Ke(i.current.nextTree);let p;try{$g=!0,p=m(f)}finally{$g=!1}p!==f&&(i.current.nextTree=p,vI().early&&y0(d.current,i.current,p),Ke(u.current)())},u=yB(null),c=mB(m=>{u.current=m},[u]),d=H_(()=>n!=null?n:{storeID:yI(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(d.current=n),i=H_(()=>t!=null?EB(d.current,t):e!=null?TB(e):gI());const h=gB(()=>Wp==null?void 0:Wp(i,()=>i.current.currentTree.version),[i]);return Ng(()=>{const m=d.current;for(const f of new Set(m.getState().knownAtoms))lB(m,f,"get");return()=>{for(const f of m.getState().knownAtoms)oB(m,f)}},[d]),v(EI.Provider,{value:d,children:V(TI.Provider,{value:h,children:[v(SB,{setNotifyBatcherOfChange:c}),r]})})}function kB(t){const{override:e,...n}=t,r=cf();return e===!1&&r.current!==SI?t.children:v(RB,{...n})}function CB(){return cf().current.storeID}var Kr={RecoilRoot:kB,useStoreRef:cf,useRecoilMutableSource:wB,useRecoilStoreID:CB,notifyComponents_FOR_TESTING:y0,sendEndOfBatchNotifications_FOR_TESTING:RI};function bB(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var IB=bB;const{useEffect:xB,useRef:AB}=rt;function NB(t){const e=AB();return xB(()=>{e.current=t}),e.current}var kI=NB;const{useStoreRef:$B}=Kr,{SUSPENSE_TIMEOUT_MS:PB}=$s,{updateRetainCount:Ta}=$s,{RetentionZone:LB}=rf,{useEffect:MB,useRef:DB}=rt,{isSSR:K_}=g0;function OB(t){if(!!Me("recoil_memory_managament_2020"))return UB(t)}function UB(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof LB?o:o.key),r=$B();MB(()=>{if(!Me("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!K_)window.clearTimeout(i.current),i.current=null;else for(const a of n)Ta(o,a,1);return()=>{for(const a of n)Ta(o,a,-1)}},[r,...n]);const i=DB(),s=kI(n);if(!K_&&(s===void 0||!IB(s,n))){const o=r.current;for(const a of n)Ta(o,a,1);if(s)for(const a of s)Ta(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Ta(o,a,-1)},PB)}}var v0=OB;function VB(){return"<component name not available>"}var Cu=VB;const{batchUpdates:FB}=of,{DEFAULT_VALUE:CI}=En,{reactMode:aa,useMutableSource:BB,useSyncExternalStore:zB}=Tu,{useRecoilMutableSource:jB,useStoreRef:wr}=Kr,{AbstractRecoilValue:Pg,getRecoilValueAsLoadable:bu,setRecoilValue:Fd,setUnvalidatedRecoilValue:WB,subscribeToRecoilValue:zo}=vr,{useCallback:_n,useEffect:jo,useMemo:bI,useRef:ol,useState:w0}=rt,{setByAddingToSet:HB}=Kb;function _0(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{n.current.getState().suspendedComponentResolvers.add(i)}):t.state==="hasError"?t.contents:ye(`Invalid value of loadable atom "${e.key}"`)}function qB(){const t=Cu(),e=wr(),[,n]=w0([]),r=ol(new Set);r.current=new Set;const i=ol(new Set),s=ol(new Map),o=_n(l=>{const u=s.current.get(l);u&&(u.release(),s.current.delete(l))},[s]),a=_n((l,u)=>{s.current.has(u)&&n([])},[]);return jo(()=>{const l=e.current;il(r.current,i.current).forEach(u=>{if(s.current.has(u))return;const c=zo(l,new Pg(u),h=>a(h,u),t);s.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),il(i.current,r.current).forEach(u=>{o(u)}),i.current=r.current}),jo(()=>{const l=s.current;return il(r.current,new Set(l.keys())).forEach(u=>{const c=zo(e.current,new Pg(u),d=>a(d,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>o(c))},[t,e,o,a]),bI(()=>{function l(f){return p=>{Fd(e.current,f,p)}}function u(f){return()=>Fd(e.current,f,CI)}function c(f){var p;r.current.has(f.key)||(r.current=HB(r.current,f.key));const E=e.current.getState();return bu(e.current,f,aa().early&&(p=E.nextTree)!==null&&p!==void 0?p:E.currentTree)}function d(f){const p=c(f);return _0(p,f,e)}function h(f){return[d(f),l(f)]}function m(f){return[c(f),l(f)]}return{getRecoilValue:d,getRecoilValueLoadable:c,getRecoilState:h,getRecoilStateLoadable:m,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const GB={current:0};function KB(t){const e=wr(),n=Cu(),r=_n(()=>{var a;const l=e.current,u=l.getState(),c=aa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:bu(l,t,c),key:t.key}},[e,t]),i=_n(a=>{let l;return()=>{var u,c;const d=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(d.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===d.key?l:(l=d,d)}},[]),s=bI(()=>i(r),[r,i]),o=_n(a=>{const l=e.current;return zo(l,t,a,n).release},[e,t,n]);return zB(o,s,s).loadable}function QB(t){const e=wr(),n=_n(()=>{var u;const c=e.current,d=c.getState(),h=aa().early&&(u=d.nextTree)!==null&&u!==void 0?u:d.currentTree;return bu(c,t,h)},[e,t]),r=_n(()=>n(),[n]),i=Cu(),s=_n((u,c)=>{const d=e.current;return zo(d,t,()=>{if(!Me("recoil_suppress_rerender_in_callback"))return c();const m=n();l.current.is(m)||c(),l.current=m},i).release},[e,t,i,n]),o=jB();if(o==null)throw ye("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=BB(o,r,s),l=ol(a);return jo(()=>{l.current=a}),a}function II(t){const e=wr(),n=Cu(),r=_n(()=>{var l;const u=e.current,c=u.getState(),d=aa().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return bu(u,t,d)},[e,t]),i=_n(()=>({loadable:r(),key:t.key}),[r,t.key]),s=_n(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);jo(()=>{const l=zo(e.current,t,u=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=w0(i);return o.key!==t.key?i().loadable:o.loadable}function YB(t){const e=wr(),[,n]=w0([]),r=Cu(),i=_n(()=>{var a;const l=e.current,u=l.getState(),c=aa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return bu(l,t,c)},[e,t]),s=i(),o=ol(s);return jo(()=>{o.current=s}),jo(()=>{const a=e.current,l=a.getState(),u=zo(a,t,d=>{var h;if(!Me("recoil_suppress_rerender_in_callback"))return n([]);const m=i();(h=o.current)!==null&&h!==void 0&&h.is(m)||n(m),o.current=m},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Me("recoil_suppress_rerender_in_callback"))return n([]);const d=i();(c=o.current)!==null&&c!==void 0&&c.is(d)||n(d),o.current=d}return u.release},[r,i,t,e]),s}function S0(t){return Me("recoil_memory_managament_2020")&&v0(t),{TRANSITION_SUPPORT:II,SYNC_EXTERNAL_STORE:KB,MUTABLE_SOURCE:QB,LEGACY:YB}[aa().mode](t)}function xI(t){const e=wr(),n=S0(t);return _0(n,t,e)}function df(t){const e=wr();return _n(n=>{Fd(e.current,t,n)},[e,t])}function XB(t){const e=wr();return _n(()=>{Fd(e.current,t,CI)},[e,t])}function JB(t){return[xI(t),df(t)]}function ZB(t){return[S0(t),df(t)]}function ez(){const t=wr();return(e,n={})=>{FB(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>WB(t.current,new Pg(i),r))})}}function AI(t){return Me("recoil_memory_managament_2020")&&v0(t),II(t)}function NI(t){const e=wr(),n=AI(t);return _0(n,t,e)}function tz(t){return[NI(t),df(t)]}var nz={recoilComponentGetRecoilValueCount_FOR_TESTING:GB,useRecoilInterface:qB,useRecoilState:JB,useRecoilStateLoadable:ZB,useRecoilValue:xI,useRecoilValueLoadable:S0,useResetRecoilState:XB,useSetRecoilState:df,useSetUnvalidatedAtomValues:ez,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:AI,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:NI,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:tz};function rz(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var iz=rz;function sz(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var oz=sz;function az(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var lz=az;const{batchUpdates:uz}=of,{DEFAULT_VALUE:cz,getNode:$I,nodes:dz}=En,{useStoreRef:E0}=Kr,{AbstractRecoilValue:hz,setRecoilValueLoadable:fz}=vr,{SUSPENSE_TIMEOUT_MS:pz}=$s,{cloneSnapshot:Bd}=uf,{useCallback:hf,useEffect:PI,useRef:Q_,useState:mz}=rt,{isSSR:Y_}=g0;function ff(t){const e=E0();PI(()=>e.current.subscribeToTransactions(t).release,[t,e])}function X_(t){const e=t.atomValues.toMap(),n=Vd(iz(e,(r,i)=>{const o=$I(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return lz(t.nonvalidatedAtoms.toMap(),n)}function gz(t){ff(hf(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=X_(r),s=X_(n),o=Vd(dz,l=>{var u,c,d,h;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(d=(h=l.persistence_UNSTABLE)===null||h===void 0?void 0:h.backButton)!==null&&d!==void 0?d:!1}}}),a=oz(r.dirtyAtoms,l=>i.has(l)||s.has(l));t({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function yz(t){ff(hf(e=>{const n=Bd(e,"latest"),r=Bd(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function vz(){const t=E0(),[e,n]=mz(()=>Bd(t.current)),r=kI(e),i=Q_(),s=Q_();if(ff(hf(a=>n(Bd(a)),[])),PI(()=>{const a=e.retain();if(i.current&&!Y_){var l;window.clearTimeout(i.current),i.current=null,(l=s.current)===null||l===void 0||l.call(s),s.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!Y_){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=s.current)===null||o===void 0||o.call(s),s.current=null}s.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=s.current)===null||a===void 0||a.call(s),s.current=null},pz)}return e}function LI(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;uz(()=>{const o=new Set;for(const u of[i.atomValues.keys(),s.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&$I(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(u=>{fz(t,new hz(u),s.atomValues.has(u)?Ke(s.atomValues.get(u)):cz)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function wz(){const t=E0();return hf(e=>LI(t.current,e),[t])}var MI={useRecoilSnapshot:vz,gotoSnapshot:LI,useGotoRecoilSnapshot:wz,useRecoilTransactionObserver:yz,useTransactionObservation_DEPRECATED:gz,useTransactionSubscription_DEPRECATED:ff};const{peekNodeInfo:_z}=Vi,{useStoreRef:Sz}=Kr;function Ez(){const t=Sz();return({key:e})=>_z(t.current,t.current.getState().currentTree,e)}var Tz=Ez;const{reactMode:Rz}=Tu,{RecoilRoot:kz,useStoreRef:Cz}=Kr,{useMemo:bz}=rt;function Iz(){Rz().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=Cz().current;return bz(()=>{function e({children:n}){return v(kz,{store_INTERNAL:t,children:n})}return e},[t])}var xz=Iz;const{loadableWithValue:Az}=Eu,{initializeNode:Nz}=Vi,{DEFAULT_VALUE:$z,getNode:Pz}=En,{copyTreeState:Lz,getRecoilValueAsLoadable:Mz,invalidateDownstreams:Dz,writeLoadableToTreeState:Oz}=vr;function J_(t){return Pz(t.key).nodeType==="atom"}class Uz{constructor(e,n){he(this,"_store",void 0),he(this,"_treeState",void 0),he(this,"_changes",void 0),he(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!J_(r))throw ye("Reading selectors within atomicUpdate is not supported");const i=Mz(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:ye(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),he(this,"set",(r,i)=>{if(!J_(r))throw ye("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else Nz(this._store,r.key,"set"),this._changes.set(r.key,i)}),he(this,"reset",r=>{this.set(r,$z)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=Lz(this._treeState);for(const[n,r]of this._changes)Oz(e,n,Az(r));return Dz(this._store,e),e}}function Vz(t){return e=>{t.replaceState(n=>{const r=new Uz(t,n);return e(r),r.newTreeState_INTERNAL()})}}var Fz={atomicUpdater:Vz},Bz=Fz.atomicUpdater,DI=Object.freeze({__proto__:null,atomicUpdater:Bz});function zz(t,e){if(!t)throw new Error(e)}var jz=zz,Fa=jz;const{atomicUpdater:Wz}=DI,{batchUpdates:Hz}=of,{DEFAULT_VALUE:qz}=En,{useStoreRef:Gz}=Kr,{refreshRecoilValue:Kz,setRecoilValue:Z_}=vr,{cloneSnapshot:Qz}=uf,{gotoSnapshot:Yz}=MI,{useCallback:Xz}=rt;class OI{}const Jz=new OI;function UI(t,e,n,r){let i=Jz,s;if(Hz(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw ye(a);const l=Qb({...r!=null?r:{},set:(c,d)=>Z_(t,c,d),reset:c=>Z_(t,c,qz),refresh:c=>Kz(t,c),gotoSnapshot:c=>Yz(t,c),transact_UNSTABLE:c=>Wz(t)(c)},{snapshot:()=>{const c=Qz(t);return s=c.retain(),c}}),u=e(l);if(typeof u!="function")throw ye(a);i=u(...n)}),i instanceof OI&&Fa(!1),Ge(i))i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}function Zz(t,e){const n=Gz();return Xz((...r)=>UI(n.current,t,r),e!=null?[...e,n]:void 0)}var VI={recoilCallback:UI,useRecoilCallback:Zz};const{useStoreRef:e6}=Kr,{refreshRecoilValue:t6}=vr,{useCallback:n6}=rt;function r6(t){const e=e6();return n6(()=>{const n=e.current;t6(n,t)},[t,e])}var i6=r6;const{atomicUpdater:s6}=DI,{useStoreRef:o6}=Kr,{useMemo:a6}=rt;function l6(t,e){const n=o6();return a6(()=>(...r)=>{s6(n.current)(s=>{t(s)(...r)})},e!=null?[...e,n]:void 0)}var u6=l6;class c6{constructor(e){he(this,"value",void 0),this.value=e}}var d6={WrappedValue:c6},h6=d6.WrappedValue,FI=Object.freeze({__proto__:null,WrappedValue:h6});const{isFastRefreshEnabled:f6}=Tu;class eS extends Error{}class p6{constructor(e){var n,r,i;he(this,"_name",void 0),he(this,"_numLeafs",void 0),he(this,"_root",void 0),he(this,"_onHit",void 0),he(this,"_onSet",void 0),he(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let u,c;for(const[E,y]of e){var d,h,m;const g=this._root;if((g==null?void 0:g.type)==="leaf")throw this.invalidCacheError();const w=u;if(u=w?w.branches.get(c):g,u=(d=u)!==null&&d!==void 0?d:{type:"branch",nodeKey:E,parent:w,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==E)throw this.invalidCacheError();w==null||w.branches.set(c,u),r==null||(h=r.onNodeVisit)===null||h===void 0||h.call(r,u),c=this._mapNodeValue(y),this._root=(m=this._root)!==null&&m!==void 0?m:u}const f=u?(s=u)===null||s===void 0?void 0:s.branches.get(c):this._root;if(f!=null&&(f.type!=="leaf"||f.branchKey!==c))throw this.invalidCacheError();const p={type:"leaf",value:n,parent:u,branchKey:c};(o=u)===null||o===void 0||o.branches.set(c,p),this._root=(a=this._root)!==null&&a!==void 0?a:p,this._numLeafs++,this._onSet(p),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,p)};try{i()}catch(s){if(s instanceof eS)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=f6()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw l0(e+(this._name!=null?` - ${this._name}`:"")),new eS}}var m6={TreeCache:p6},g6=m6.TreeCache,BI=Object.freeze({__proto__:null,TreeCache:g6});class y6{constructor(e){var n;he(this,"_maxSize",void 0),he(this,"_size",void 0),he(this,"_head",void 0),he(this,"_tail",void 0),he(this,"_map",void 0),he(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(!!r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=Ke(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var v6={LRUCache:y6},w6=v6.LRUCache,zI=Object.freeze({__proto__:null,LRUCache:w6});const{LRUCache:_6}=zI,{TreeCache:S6}=BI;function E6({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new _6({maxSize:e}),i=new S6({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var tS=E6;function Qn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw ye("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Ge(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>Qn(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return Qn(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:Qn(s,e)]=o;return Qn(i,e,n)}return t instanceof Set?Qn(Array.from(t).sort((i,s)=>Qn(i,e).localeCompare(Qn(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Qn(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Qn(i,e)}:${Qn(t[i],e,i)}`).join(",")}}`}function T6(t,e={allowFunctions:!1}){return Qn(t,e)}var pf=T6;const{TreeCache:R6}=BI,hc={equality:"reference",eviction:"keep-all",maxSize:1/0};function k6({equality:t=hc.equality,eviction:e=hc.eviction,maxSize:n=hc.maxSize}=hc,r){const i=C6(t);return b6(e,n,i,r)}function C6(t){switch(t){case"reference":return e=>e;case"value":return e=>pf(e)}throw ye(`Unrecognized equality policy ${t}`)}function b6(t,e,n,r){switch(t){case"keep-all":return new R6({name:r,mapNodeValue:n});case"lru":return tS({name:r,maxSize:Ke(e),mapNodeValue:n});case"most-recent":return tS({name:r,maxSize:1,mapNodeValue:n})}throw ye(`Unrecognized eviction policy ${t}`)}var I6=k6;function x6(t){return()=>null}var A6={startPerfBlock:x6};const{isLoadable:N6,loadableWithError:fc,loadableWithPromise:$6,loadableWithValue:Hp}=Eu,{WrappedValue:jI}=FI,{getNodeLoadable:pc,peekNodeLoadable:P6,setNodeValue:L6}=Vi,{saveDepsToStore:M6}=Ru,{DEFAULT_VALUE:D6,getConfigDeletionHandler:O6,getNode:U6,registerNode:nS}=En,{isRecoilValue:V6}=Bo,{markRecoilValueModified:rS}=vr,{retainedByOptionWithDefault:F6}=$s,{recoilCallback:B6}=VI,{startPerfBlock:z6}=A6;class WI{}const Ra=new WI,ka=[],mc=new Map,j6=(()=>{let t=0;return()=>t++})();function HI(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=I6(i!=null?i:{equality:"reference",eviction:"keep-all"},n),l=F6(t.retainedBy_UNSTABLE),u=new Map;let c=0;function d(){return!Me("recoil_memory_managament_2020")||c>0}function h(R){return R.getState().knownSelectors.add(n),c++,()=>{c--}}function m(){return O6(n)!==void 0&&!d()}function f(R,O,D,te,z){Te(O,te,z),p(R,D)}function p(R,O){re(R,O)&&me(R),y(O,!0)}function E(R,O){re(R,O)&&(Ke(x(R)).stateVersions.clear(),y(O,!1))}function y(R,O){const D=mc.get(R);if(D!=null){for(const te of D)rS(te,Ke(e));O&&mc.delete(R)}}function g(R,O){let D=mc.get(O);D==null&&mc.set(O,D=new Set),D.add(R)}function w(R,O,D,te,z,ue){return O.then(ge=>{if(!d())throw me(R),Ra;const q=Hp(ge);return f(R,D,z,q,te),ge}).catch(ge=>{if(!d())throw me(R),Ra;if(Ge(ge))return S(R,ge,D,te,z,ue);const q=fc(ge);throw f(R,D,z,q,te),ge})}function S(R,O,D,te,z,ue){return O.then(ge=>{if(!d())throw me(R),Ra;ue.loadingDepKey!=null&&ue.loadingDepPromise===O?D.atomValues.set(ue.loadingDepKey,Hp(ge)):R.getState().knownSelectors.forEach(Ie=>{D.atomValues.delete(Ie)});const q=b(R,D);if(q&&q.state!=="loading"){if((re(R,z)||x(R)==null)&&p(R,z),q.state==="hasValue")return q.contents;throw q.contents}if(!re(R,z)){const Ie=Z(R,D);if(Ie!=null)return Ie.loadingLoadable.contents}const[De,it]=I(R,D,z);if(De.state!=="loading"&&f(R,D,z,De,it),De.state==="hasError")throw De.contents;return De.contents}).catch(ge=>{if(ge instanceof WI)throw Ra;if(!d())throw me(R),Ra;const q=fc(ge);throw f(R,D,z,q,te),ge})}function C(R,O,D,te){var z,ue,ge,q;if(re(R,te)||O.version===((z=R.getState())===null||z===void 0||(ue=z.currentTree)===null||ue===void 0?void 0:ue.version)||O.version===((ge=R.getState())===null||ge===void 0||(q=ge.nextTree)===null||q===void 0?void 0:q.version)){var De,it,Ie;M6(n,D,R,(De=(it=R.getState())===null||it===void 0||(Ie=it.nextTree)===null||Ie===void 0?void 0:Ie.version)!==null&&De!==void 0?De:R.getState().currentTree.version)}for(const Ve of D)o.add(Ve)}function I(R,O,D){const te=z6(n);let z=!0,ue=!0;const ge=()=>{te(),ue=!1};let q,De=!1,it;const Ie={loadingDepKey:null,loadingDepPromise:null},Ve=new Map;function Tn({key:on}){const Kt=pc(R,O,on);switch(Ve.set(on,Kt),z||(C(R,O,new Set(Ve.keys()),D),E(R,D)),Kt.state){case"hasValue":return Kt.contents;case"hasError":throw Kt.contents;case"loading":throw Ie.loadingDepKey=on,Ie.loadingDepPromise=Kt.contents,Kt.contents}throw ye("Invalid Loadable state")}const Tr=on=>(...Kt)=>{if(ue)throw ye("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Fa(!1),B6(R,on,Kt,{node:e})};try{q=r({get:Tn,getCallback:Tr}),q=V6(q)?Tn(q):q,N6(q)&&(q.state==="hasError"&&(De=!0),q=q.contents),Ge(q)?q=w(R,q,O,Ve,D,Ie).finally(ge):ge(),q=q instanceof jI?q.value:q}catch(on){q=on,Ge(q)?q=S(R,q,O,Ve,D,Ie).finally(ge):(De=!0,ge())}return De?it=fc(q):Ge(q)?it=$6(q):it=Hp(q),z=!1,pe(R,D,Ve),C(R,O,new Set(Ve.keys()),D),[it,Ve]}function b(R,O){let D=O.atomValues.get(n);if(D!=null)return D;const te=new Set;try{D=a.get(ue=>(typeof ue!="string"&&Fa(!1),pc(R,O,ue).contents),{onNodeVisit:ue=>{ue.type==="branch"&&ue.nodeKey!==n&&te.add(ue.nodeKey)}})}catch(ue){throw ye(`Problem with cache lookup for selector "${n}": ${ue.message}`)}if(D){var z;O.atomValues.set(n,D),C(R,O,te,(z=x(R))===null||z===void 0?void 0:z.executionID)}return D}function N(R,O){const D=b(R,O);if(D!=null)return me(R),D;const te=Z(R,O);if(te!=null){var z;return((z=te.loadingLoadable)===null||z===void 0?void 0:z.state)==="loading"&&g(R,te.executionID),te.loadingLoadable}const ue=j6(),[ge,q]=I(R,O,ue);return ge.state==="loading"?(ee(R,ue,ge,q,O),g(R,ue)):(me(R),Te(O,ge,q)),ge}function Z(R,O){const D=hI([u.has(R)?[Ke(u.get(R))]:[],tf(h0(u,([z])=>z!==R),([,z])=>z)]);function te(z){for(const[ue,ge]of z)if(!pc(R,O,ue).is(ge))return!0;return!1}for(const z of D){if(z.stateVersions.get(O.version)||!te(z.depValuesDiscoveredSoFarDuringAsyncWork))return z.stateVersions.set(O.version,!0),z;z.stateVersions.set(O.version,!1)}}function x(R){return u.get(R)}function ee(R,O,D,te,z){u.set(R,{depValuesDiscoveredSoFarDuringAsyncWork:te,executionID:O,loadingLoadable:D,stateVersions:new Map([[z.version,!0]])})}function pe(R,O,D){if(re(R,O)){const te=x(R);te!=null&&(te.depValuesDiscoveredSoFarDuringAsyncWork=D)}}function me(R){u.delete(R)}function re(R,O){var D;return O===((D=x(R))===null||D===void 0?void 0:D.executionID)}function Le(R){return Array.from(R.entries()).map(([O,D])=>[O,D.contents])}function Te(R,O,D){R.atomValues.set(n,O);try{a.set(Le(D),O)}catch(te){throw ye(`Problem with setting cache for selector "${n}": ${te.message}`)}}function be(R){if(ka.includes(n)){const O=`Recoil selector has circular dependencies: ${ka.slice(ka.indexOf(n)).join(" \u2192 ")}`;return fc(ye(O))}ka.push(n);try{return R()}finally{ka.pop()}}function M(R,O){const D=O.atomValues.get(n);return D!=null?D:a.get(te=>{var z;return typeof te!="string"&&Fa(!1),(z=P6(R,O,te))===null||z===void 0?void 0:z.contents})}function X(R,O){return be(()=>N(R,O))}function U(R){R.atomValues.delete(n)}function J(R,O){e==null&&Fa(!1);for(const te of o){var D;const z=U6(te);(D=z.clearCache)===null||D===void 0||D.call(z,R,O)}o.clear(),U(O),a.clear(),rS(R,e)}return s!=null?e=nS({key:n,nodeType:"selector",peek:M,get:X,set:(O,D,te)=>{let z=!1;const ue=new Map;function ge({key:Ie}){if(z)throw ye("Recoil: Async selector sets are not currently supported.");const Ve=pc(O,D,Ie);if(Ve.state==="hasValue")return Ve.contents;if(Ve.state==="loading"){const Tn=`Getting value of asynchronous atom or selector "${Ie}" in a pending state while setting selector "${n}" is not yet supported.`;throw ye(Tn)}else throw Ve.contents}function q(Ie,Ve){if(z)throw ye("Recoil: Async selector sets are not currently supported.");const Tn=typeof Ve=="function"?Ve(ge(Ie)):Ve;L6(O,D,Ie.key,Tn).forEach((on,Kt)=>ue.set(Kt,on))}function De(Ie){q(Ie,D6)}const it=s({set:q,get:ge,reset:De},te);if(it!==void 0)throw Ge(it)?ye("Recoil: Async selector sets are not currently supported."):ye("Recoil: selector set should be a void function.");return z=!0,ue},init:h,invalidate:U,clearCache:J,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=nS({key:n,nodeType:"selector",peek:M,get:X,init:h,invalidate:U,clearCache:J,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}HI.value=t=>new jI(t);var Wo=HI;const{isLoadable:W6,loadableWithError:qp,loadableWithPromise:Gp,loadableWithValue:Vs}=Eu,{WrappedValue:qI}=FI,{peekNodeInfo:H6}=Vi,{DEFAULT_VALUE:Ki,DefaultValue:ri,getConfigDeletionHandler:GI,registerNode:q6,setConfigDeletionHandler:G6}=En,{isRecoilValue:K6}=Bo,{getRecoilValueAsLoadable:Q6,markRecoilValueModified:Y6,setRecoilValue:iS,setRecoilValueLoadable:X6}=vr,{retainedByOptionWithDefault:J6}=$s,Ca=t=>t instanceof qI?t.value:t;function Z6(t){const{key:e,persistence_UNSTABLE:n}=t,r=J6(t.retainedBy_UNSTABLE);let i=0;function s(g){return Gp(g.then(w=>(o=Vs(w),w)).catch(w=>{throw o=qp(w),w}))}let o=Ge(t.default)?s(t.default):W6(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Vs(Ca(t.default));o.contents;let a;const l=new Map;function u(g){return g}function c(g,w){const S=w.then(C=>{var I,b;return((b=((I=g.getState().nextTree)!==null&&I!==void 0?I:g.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===S&&iS(g,y,C),C}).catch(C=>{var I,b;throw((b=((I=g.getState().nextTree)!==null&&I!==void 0?I:g.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===S&&X6(g,y,qp(C)),C});return S}function d(g,w,S){var C;i++;const I=()=>{var x;i--,(x=l.get(g))===null||x===void 0||x.forEach(ee=>ee()),l.delete(g)};if(g.getState().knownAtoms.add(e),o.state==="loading"){const x=()=>{var ee;((ee=g.getState().nextTree)!==null&&ee!==void 0?ee:g.getState().currentTree).atomValues.has(e)||Y6(g,y)};o.contents.finally(x)}const b=(C=t.effects)!==null&&C!==void 0?C:t.effects_UNSTABLE;if(b!=null){let re=function(U){if(ee&&U.key===e){const J=x;return J instanceof ri?h(g,w):Ge(J)?Gp(J.then(R=>R instanceof ri?o.toPromise():R)):Vs(J)}return Q6(g,U)},Le=function(U){return re(U).toPromise()},Te=function(U){var J;const R=H6(g,(J=g.getState().nextTree)!==null&&J!==void 0?J:g.getState().currentTree,U.key);return ee&&U.key===e&&!(x instanceof ri)?{...R,isSet:!0,loadable:re(U)}:R},x=Ki,ee=!0,pe=!1,me=null;const be=U=>J=>{if(ee){const R=re(y),O=R.state==="hasValue"?R.contents:Ki;x=typeof J=="function"?J(O):J,Ge(x)&&(x=x.then(D=>(me={effect:U,value:D},D)))}else{if(Ge(J))throw ye("Setting atoms to async values is not implemented.");typeof J!="function"&&(me={effect:U,value:Ca(J)}),iS(g,y,typeof J=="function"?R=>{const O=Ca(J(R));return me={effect:U,value:O},O}:Ca(J))}},M=U=>()=>be(U)(Ki),X=U=>J=>{var R;const{release:O}=g.subscribeToTransactions(D=>{var te;let{currentTree:z,previousTree:ue}=D.getState();ue||(ue=z);const ge=(te=z.atomValues.get(e))!==null&&te!==void 0?te:o;if(ge.state==="hasValue"){var q,De,it,Ie;const Ve=ge.contents,Tn=(q=ue.atomValues.get(e))!==null&&q!==void 0?q:o,Tr=Tn.state==="hasValue"?Tn.contents:Ki;((De=me)===null||De===void 0?void 0:De.effect)!==U||((it=me)===null||it===void 0?void 0:it.value)!==Ve?J(Ve,Tr,!z.atomValues.has(e)):((Ie=me)===null||Ie===void 0?void 0:Ie.effect)===U&&(me=null)}},e);l.set(g,[...(R=l.get(g))!==null&&R!==void 0?R:[],O])};for(const U of b)try{const J=U({node:y,storeID:g.storeID,parentStoreID_UNSTABLE:g.parentStoreID,trigger:S,setSelf:be(U),resetSelf:M(U),onSet:X(U),getPromise:Le,getLoadable:re,getInfo_UNSTABLE:Te});if(J!=null){var N;l.set(g,[...(N=l.get(g))!==null&&N!==void 0?N:[],J])}}catch(J){x=J,pe=!0}if(ee=!1,!(x instanceof ri)){var Z;const U=pe?qp(x):Ge(x)?Gp(c(g,x)):Vs(Ca(x));U.contents,w.atomValues.set(e,U),(Z=g.getState().nextTree)===null||Z===void 0||Z.atomValues.set(e,U)}}return I}function h(g,w){var S,C;return(S=(C=w.atomValues.get(e))!==null&&C!==void 0?C:a)!==null&&S!==void 0?S:o}function m(g,w){if(w.atomValues.has(e))return Ke(w.atomValues.get(e));if(w.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const S=w.nonvalidatedAtoms.get(e),C=n.validator(S,Ki);return a=C instanceof ri?o:Vs(C),a}else return o}function f(){a=void 0}function p(g,w,S){if(w.atomValues.has(e)){const C=Ke(w.atomValues.get(e));if(C.state==="hasValue"&&S===C.contents)return new Map}else if(!w.nonvalidatedAtoms.has(e)&&S instanceof ri)return new Map;return a=void 0,new Map().set(e,Vs(S))}function E(){return GI(e)!==void 0&&i<=0}const y=q6({key:e,nodeType:"atom",peek:h,get:m,set:p,init:d,invalidate:f,shouldDeleteConfigOnRelease:E,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return y}function T0(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return K6(n)?ej({...e,default:n}):Z6({...e,default:n})}function ej(t){const e=T0({...t,default:Ki,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof ri?r:Ke(t.persistence_UNSTABLE).validator(r,Ki)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Wo({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof ri?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return G6(n.key,GI(t.key)),n}T0.value=t=>new qI(t);var KI=T0;class tj{constructor(e){var n;he(this,"_map",void 0),he(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var nj={MapCache:tj},rj=nj.MapCache,ij=Object.freeze({__proto__:null,MapCache:rj});const{LRUCache:sS}=zI,{MapCache:sj}=ij,gc={equality:"reference",eviction:"none",maxSize:1/0};function oj({equality:t=gc.equality,eviction:e=gc.eviction,maxSize:n=gc.maxSize}=gc){const r=aj(t);return lj(e,n,r)}function aj(t){switch(t){case"reference":return e=>e;case"value":return e=>pf(e)}throw ye(`Unrecognized equality policy ${t}`)}function lj(t,e,n){switch(t){case"keep-all":return new sj({mapKey:n});case"lru":return new sS({mapKey:n,maxSize:Ke(e)});case"most-recent":return new sS({mapKey:n,maxSize:1})}throw ye(`Unrecognized eviction policy ${t}`)}var QI=oj;const{setConfigDeletionHandler:uj}=En;function cj(t){var e,n;const r=QI({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),d=KI({...u,key:`${t.key}__${(s=pf(i))!==null&&s!==void 0?s:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,d),uj(d.key,()=>{r.delete(i)}),d}}var dj=cj;const{setConfigDeletionHandler:hj}=En;let fj=0;function pj(t){var e,n;const r=QI({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(h){throw ye(`Problem with cache lookup for selector ${t.key}: ${h.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=pf(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${fj++}`,l=h=>t.get(i)(h),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let d;if(t.set!=null){const h=t.set;d=Wo({key:a,get:l,set:(f,p)=>h(i)(f,p),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else d=Wo({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,d),hj(d.key,()=>{r.delete(i)}),d}}var Fi=pj;const mj=Fi({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function gj(t){return mj(t)}var yj=gj;const vj=Fi({key:"__error",get:t=>()=>{throw ye(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function wj(t){return vj(t)}var _j=wj;function Sj(t){return t}var Ej=Sj;const{loadableWithError:YI,loadableWithPromise:XI,loadableWithValue:JI}=Eu;function mf(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function Tj(t){return t!=null&&!Ge(t)}function gf(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Lg(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function wo(t,e,n){const r=n.map((i,s)=>i==null?JI(e[s]):Ge(i)?XI(i):YI(i));return Lg(t,r)}function Rj(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const kj=Fi({key:"__waitForNone",get:t=>({get:e})=>{const n=gf(t),[r,i]=mf(e,n);return wo(t,r,i)},dangerouslyAllowMutability:!0}),Cj=Fi({key:"__waitForAny",get:t=>({get:e})=>{const n=gf(t),[r,i]=mf(e,n);return i.some(s=>!Ge(s))?wo(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())Ge(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(wo(t,r,i))}).catch(l=>{i[o]=l,s(wo(t,r,i))})})},dangerouslyAllowMutability:!0}),bj=Fi({key:"__waitForAll",get:t=>({get:e})=>{const n=gf(t),[r,i]=mf(e,n);if(i.every(o=>o==null))return Lg(t,r);const s=i.find(Tj);if(s!=null)throw s;return Promise.all(i).then(o=>Lg(t,Rj(r,o)))},dangerouslyAllowMutability:!0}),Ij=Fi({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=gf(t),[r,i]=mf(e,n);return i.every(s=>!Ge(s))?wo(t,r,i):Promise.all(i.map((s,o)=>Ge(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>wo(t,r,i))},dangerouslyAllowMutability:!0}),xj=Fi({key:"__noWait",get:t=>({get:e})=>{try{return Wo.value(JI(e(t)))}catch(n){return Wo.value(Ge(n)?XI(n):YI(n))}},dangerouslyAllowMutability:!0});var Aj={waitForNone:kj,waitForAny:Cj,waitForAll:bj,waitForAllSettled:Ij,noWait:xj};const{RecoilLoadable:Nj}=Eu,{DefaultValue:$j}=En,{RecoilRoot:Pj,useRecoilStoreID:Lj}=Kr,{isRecoilValue:Mj}=Bo,{retentionZone:Dj}=rf,{freshSnapshot:Oj}=uf,{useRecoilState:Uj,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Vj,useRecoilStateLoadable:Fj,useRecoilValue:Bj,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:zj,useRecoilValueLoadable:jj,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Wj,useResetRecoilState:Hj,useSetRecoilState:qj}=nz,{useGotoRecoilSnapshot:Gj,useRecoilSnapshot:Kj,useRecoilTransactionObserver:Qj}=MI,{useRecoilCallback:Yj}=VI,{noWait:Xj,waitForAll:Jj,waitForAllSettled:Zj,waitForAny:e8,waitForNone:t8}=Aj;var yf={DefaultValue:$j,isRecoilValue:Mj,RecoilLoadable:Nj,RecoilRoot:Pj,useRecoilStoreID:Lj,useRecoilBridgeAcrossReactRoots_UNSTABLE:xz,atom:KI,selector:Wo,atomFamily:dj,selectorFamily:Fi,constSelector:yj,errorSelector:_j,readOnlySelector:Ej,noWait:Xj,waitForNone:t8,waitForAny:e8,waitForAll:Jj,waitForAllSettled:Zj,useRecoilValue:Bj,useRecoilValueLoadable:jj,useRecoilState:Uj,useRecoilStateLoadable:Fj,useSetRecoilState:qj,useResetRecoilState:Hj,useGetRecoilValueInfo_UNSTABLE:Tz,useRecoilRefresher_UNSTABLE:i6,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Wj,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:zj,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Vj,useRecoilCallback:Yj,useRecoilTransaction_UNSTABLE:u6,useGotoRecoilSnapshot:Gj,useRecoilSnapshot:Kj,useRecoilTransactionObserver_UNSTABLE:Qj,snapshot_UNSTABLE:Oj,useRetain:v0,retentionZone:Dj},n8=yf.RecoilRoot,r8=yf.atom,i8=yf.useRecoilValue,s8=yf.useSetRecoilState;const ZI=r8({key:"authUser",default:null,effects:[({setSelf:t,trigger:e})=>{let n;const r=new Promise(s=>{n=s});t(r);const i=rM(Ni,s=>{if(s){const{uid:o,email:a,displayName:l,photoURL:u}=s,c={uid:o,email:a,displayName:l,photoURL:u};n(c),t(c)}else n(null),t(null)});return()=>{i()}}]});function Qr(){return i8(ZI)}function o8(){return s8(ZI)}function a8(){const[t,e]=_.exports.useState(!1),[n,r]=_.exports.useState();return{signOut:async()=>(e(!0),await iM(Ni).then(()=>{console.log("signed out!")}).catch(s=>{r(s instanceof Error?s:Error("unecpected error!"))}).finally(()=>{e(!1)})),loading:t,error:n}}var R0={},qt={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(qt);var Kp={};function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G.apply(this,arguments)}function Ba(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Mr(t,e,n={clone:!0}){const r=n.clone?G({},t):t;return Ba(t)&&Ba(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Ba(e[i])&&i in t&&Ba(t[i])?r[i]=Mr(t[i],e[i],n):r[i]=e[i])}),r}function Ho(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Je(t){if(typeof t!="string")throw new Error(Ho(7));return t.charAt(0).toUpperCase()+t.slice(1)}function l8(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function u8(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function c8(t,e){return()=>null}function d8(t,e){return _.exports.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function ex(t){return t&&t.ownerDocument||document}function h8(t){return ex(t).defaultView||window}function f8(t,e){return()=>null}function Mg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const p8=typeof window<"u"?_.exports.useLayoutEffect:_.exports.useEffect,tx=p8;let oS=0;function m8(t){const[e,n]=_.exports.useState(t),r=t||e;return _.exports.useEffect(()=>{e==null&&(oS+=1,n(`mui-${oS}`))},[e]),r}const aS=To["useId"];function g8(t){if(aS!==void 0){const e=aS();return t!=null?t:e}return m8(t)}function y8(t,e,n,r,i){return null}function v8({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=_.exports.useRef(t!==void 0),[s,o]=_.exports.useState(e),a=i?t:s,l=_.exports.useCallback(u=>{i||o(u)},[]);return[a,l]}function za(t){const e=_.exports.useRef(t);return tx(()=>{e.current=t}),_.exports.useCallback((...n)=>(0,e.current)(...n),[])}function Bc(t,e){return _.exports.useMemo(()=>t==null&&e==null?null:n=>{Mg(t,n),Mg(e,n)},[t,e])}let vf=!0,Dg=!1,lS;const w8={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function _8(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&w8[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function S8(t){t.metaKey||t.altKey||t.ctrlKey||(vf=!0)}function Qp(){vf=!1}function E8(){this.visibilityState==="hidden"&&Dg&&(vf=!0)}function T8(t){t.addEventListener("keydown",S8,!0),t.addEventListener("mousedown",Qp,!0),t.addEventListener("pointerdown",Qp,!0),t.addEventListener("touchstart",Qp,!0),t.addEventListener("visibilitychange",E8,!0)}function R8(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return vf||_8(e)}function nx(){const t=_.exports.useCallback(i=>{i!=null&&T8(i.ownerDocument)},[]),e=_.exports.useRef(!1);function n(){return e.current?(Dg=!0,window.clearTimeout(lS),lS=window.setTimeout(()=>{Dg=!1},100),e.current=!1,!0):!1}function r(i){return R8(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function k8(t,e){const n=G({},e);return Object.keys(t).forEach(r=>{n[r]===void 0&&(n[r]=t[r])}),n}function Yr(t,e,n){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>(o&&(s.push(e(o)),n&&n[o]&&s.push(n[o])),s),[]).join(" ")}),r}const uS=t=>t,C8=()=>{let t=uS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=uS}}},b8=C8(),rx=b8,I8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function _r(t,e,n="Mui"){const r=I8[e];return r?`${n}-${r}`:`${rx.generate(t)}-${e}`}function Sr(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=_r(t,i,n)}),r}function nt(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ix(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=ix(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Tt(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=ix(t))&&(r&&(r+=" "),r+=e);return r}function sx(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var x8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,A8=sx(function(t){return x8.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function N8(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function $8(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var P8=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=N8(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ot="-ms-",zd="-moz-",ke="-webkit-",ox="comm",k0="rule",C0="decl",L8="@import",ax="@keyframes",M8=Math.abs,wf=String.fromCharCode,D8=Object.assign;function O8(t,e){return(((e<<2^dn(t,0))<<2^dn(t,1))<<2^dn(t,2))<<2^dn(t,3)}function lx(t){return t.trim()}function U8(t,e){return(t=e.exec(t))?t[0]:t}function xe(t,e,n){return t.replace(e,n)}function Og(t,e){return t.indexOf(e)}function dn(t,e){return t.charCodeAt(e)|0}function Bl(t,e,n){return t.slice(e,n)}function sr(t){return t.length}function b0(t){return t.length}function yc(t,e){return e.push(t),t}function V8(t,e){return t.map(e).join("")}var _f=1,qo=1,ux=0,Sn=0,ut=0,la="";function Sf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:_f,column:qo,length:o,return:""}}function ba(t,e){return D8(Sf("",null,null,"",null,null,0),t,{length:-t.length},e)}function F8(){return ut}function B8(){return ut=Sn>0?dn(la,--Sn):0,qo--,ut===10&&(qo=1,_f--),ut}function An(){return ut=Sn<ux?dn(la,Sn++):0,qo++,ut===10&&(qo=1,_f++),ut}function mr(){return dn(la,Sn)}function zc(){return Sn}function Iu(t,e){return Bl(la,t,e)}function zl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cx(t){return _f=qo=1,ux=sr(la=t),Sn=0,[]}function dx(t){return la="",t}function jc(t){return lx(Iu(Sn-1,Ug(t===91?t+2:t===40?t+1:t)))}function z8(t){for(;(ut=mr())&&ut<33;)An();return zl(t)>2||zl(ut)>3?"":" "}function j8(t,e){for(;--e&&An()&&!(ut<48||ut>102||ut>57&&ut<65||ut>70&&ut<97););return Iu(t,zc()+(e<6&&mr()==32&&An()==32))}function Ug(t){for(;An();)switch(ut){case t:return Sn;case 34:case 39:t!==34&&t!==39&&Ug(ut);break;case 40:t===41&&Ug(t);break;case 92:An();break}return Sn}function W8(t,e){for(;An()&&t+ut!==47+10;)if(t+ut===42+42&&mr()===47)break;return"/*"+Iu(e,Sn-1)+"*"+wf(t===47?t:An())}function H8(t){for(;!zl(mr());)An();return Iu(t,Sn)}function q8(t){return dx(Wc("",null,null,null,[""],t=cx(t),0,[0],t))}function Wc(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,m=0,f=0,p=1,E=1,y=1,g=0,w="",S=i,C=s,I=r,b=w;E;)switch(f=g,g=An()){case 40:if(f!=108&&b.charCodeAt(d-1)==58){Og(b+=xe(jc(g),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:b+=jc(g);break;case 9:case 10:case 13:case 32:b+=z8(f);break;case 92:b+=j8(zc()-1,7);continue;case 47:switch(mr()){case 42:case 47:yc(G8(W8(An(),zc()),e,n),l);break;default:b+="/"}break;case 123*p:a[u++]=sr(b)*y;case 125*p:case 59:case 0:switch(g){case 0:case 125:E=0;case 59+c:m>0&&sr(b)-d&&yc(m>32?dS(b+";",r,n,d-1):dS(xe(b," ","")+";",r,n,d-2),l);break;case 59:b+=";";default:if(yc(I=cS(b,e,n,u,c,i,a,w,S=[],C=[],d),s),g===123)if(c===0)Wc(b,e,I,I,S,s,d,a,C);else switch(h){case 100:case 109:case 115:Wc(t,I,I,r&&yc(cS(t,I,I,0,0,i,a,w,i,S=[],d),C),i,C,d,a,r?S:C);break;default:Wc(b,I,I,I,[""],C,0,a,C)}}u=c=m=0,p=y=1,w=b="",d=o;break;case 58:d=1+sr(b),m=f;default:if(p<1){if(g==123)--p;else if(g==125&&p++==0&&B8()==125)continue}switch(b+=wf(g),g*p){case 38:y=c>0?1:(b+="\f",-1);break;case 44:a[u++]=(sr(b)-1)*y,y=1;break;case 64:mr()===45&&(b+=jc(An())),h=mr(),c=d=sr(w=b+=H8(zc())),g++;break;case 45:f===45&&sr(b)==2&&(p=0)}}return s}function cS(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],m=b0(h),f=0,p=0,E=0;f<r;++f)for(var y=0,g=Bl(t,d+1,d=M8(p=o[f])),w=t;y<m;++y)(w=lx(p>0?h[y]+" "+g:xe(g,/&\f/g,h[y])))&&(l[E++]=w);return Sf(t,e,n,i===0?k0:a,l,u,c)}function G8(t,e,n){return Sf(t,e,n,ox,wf(F8()),Bl(t,2,-2),0)}function dS(t,e,n,r){return Sf(t,e,n,C0,Bl(t,0,r),Bl(t,r+1,-1),r)}function hx(t,e){switch(O8(t,e)){case 5103:return ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+t+zd+t+Ot+t+t;case 6828:case 4268:return ke+t+Ot+t+t;case 6165:return ke+t+Ot+"flex-"+t+t;case 5187:return ke+t+xe(t,/(\w+).+(:[^]+)/,ke+"box-$1$2"+Ot+"flex-$1$2")+t;case 5443:return ke+t+Ot+"flex-item-"+xe(t,/flex-|-self/,"")+t;case 4675:return ke+t+Ot+"flex-line-pack"+xe(t,/align-content|flex-|-self/,"")+t;case 5548:return ke+t+Ot+xe(t,"shrink","negative")+t;case 5292:return ke+t+Ot+xe(t,"basis","preferred-size")+t;case 6060:return ke+"box-"+xe(t,"-grow","")+ke+t+Ot+xe(t,"grow","positive")+t;case 4554:return ke+xe(t,/([^-])(transform)/g,"$1"+ke+"$2")+t;case 6187:return xe(xe(xe(t,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),t,"")+t;case 5495:case 3959:return xe(t,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return xe(xe(t,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+Ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+t+t;case 4095:case 3583:case 4068:case 2532:return xe(t,/(.+)-inline(.+)/,ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(sr(t)-1-e>6)switch(dn(t,e+1)){case 109:if(dn(t,e+4)!==45)break;case 102:return xe(t,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+zd+(dn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Og(t,"stretch")?hx(xe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(dn(t,e+1)!==115)break;case 6444:switch(dn(t,sr(t)-3-(~Og(t,"!important")&&10))){case 107:return xe(t,":",":"+ke)+t;case 101:return xe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ke+(dn(t,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+Ot+"$2box$3")+t}break;case 5936:switch(dn(t,e+11)){case 114:return ke+t+Ot+xe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ke+t+Ot+xe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ke+t+Ot+xe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ke+t+Ot+t+t}return t}function _o(t,e){for(var n="",r=b0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function K8(t,e,n,r){switch(t.type){case L8:case C0:return t.return=t.return||t.value;case ox:return"";case ax:return t.return=t.value+"{"+_o(t.children,r)+"}";case k0:t.value=t.props.join(",")}return sr(n=_o(t.children,r))?t.return=t.value+"{"+n+"}":""}function Q8(t){var e=b0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Y8(t){return function(e){e.root||(e=e.return)&&t(e)}}function X8(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case C0:t.return=hx(t.value,t.length);break;case ax:return _o([ba(t,{value:xe(t.value,"@","@"+ke)})],r);case k0:if(t.length)return V8(t.props,function(i){switch(U8(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _o([ba(t,{props:[xe(i,/:(read-\w+)/,":"+zd+"$1")]})],r);case"::placeholder":return _o([ba(t,{props:[xe(i,/:(plac\w+)/,":"+ke+"input-$1")]}),ba(t,{props:[xe(i,/:(plac\w+)/,":"+zd+"$1")]}),ba(t,{props:[xe(i,/:(plac\w+)/,Ot+"input-$1")]})],r)}return""})}}var J8=function(e,n,r){for(var i=0,s=0;i=s,s=mr(),i===38&&s===12&&(n[r]=1),!zl(s);)An();return Iu(e,Sn)},Z8=function(e,n){var r=-1,i=44;do switch(zl(i)){case 0:i===38&&mr()===12&&(n[r]=1),e[r]+=J8(Sn-1,n,r);break;case 2:e[r]+=jc(i);break;case 4:if(i===44){e[++r]=mr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=wf(i)}while(i=An());return e},e9=function(e,n){return dx(Z8(cx(e),n))},hS=new WeakMap,t9=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!hS.get(r))&&!i){hS.set(e,!0);for(var s=[],o=e9(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},n9=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},r9=[X8],i9=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(p){var E=p.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=e.stylisPlugins||r9,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(p){for(var E=p.getAttribute("data-emotion").split(" "),y=1;y<E.length;y++)s[E[y]]=!0;a.push(p)});var l,u=[t9,n9];{var c,d=[K8,Y8(function(p){c.insert(p)})],h=Q8(u.concat(i,d)),m=function(E){return _o(q8(E),h)};l=function(E,y,g,w){c=g,m(E?E+"{"+y.styles+"}":y.styles),w&&(f.inserted[y.name]=!0)}}var f={key:n,sheet:new P8({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return f.sheet.hydrate(a),f},fx={exports:{}},Pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ct=typeof Symbol=="function"&&Symbol.for,I0=Ct?Symbol.for("react.element"):60103,x0=Ct?Symbol.for("react.portal"):60106,Ef=Ct?Symbol.for("react.fragment"):60107,Tf=Ct?Symbol.for("react.strict_mode"):60108,Rf=Ct?Symbol.for("react.profiler"):60114,kf=Ct?Symbol.for("react.provider"):60109,Cf=Ct?Symbol.for("react.context"):60110,A0=Ct?Symbol.for("react.async_mode"):60111,bf=Ct?Symbol.for("react.concurrent_mode"):60111,If=Ct?Symbol.for("react.forward_ref"):60112,xf=Ct?Symbol.for("react.suspense"):60113,s9=Ct?Symbol.for("react.suspense_list"):60120,Af=Ct?Symbol.for("react.memo"):60115,Nf=Ct?Symbol.for("react.lazy"):60116,o9=Ct?Symbol.for("react.block"):60121,a9=Ct?Symbol.for("react.fundamental"):60117,l9=Ct?Symbol.for("react.responder"):60118,u9=Ct?Symbol.for("react.scope"):60119;function Dn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case I0:switch(t=t.type,t){case A0:case bf:case Ef:case Rf:case Tf:case xf:return t;default:switch(t=t&&t.$$typeof,t){case Cf:case If:case Nf:case Af:case kf:return t;default:return e}}case x0:return e}}}function px(t){return Dn(t)===bf}Pe.AsyncMode=A0;Pe.ConcurrentMode=bf;Pe.ContextConsumer=Cf;Pe.ContextProvider=kf;Pe.Element=I0;Pe.ForwardRef=If;Pe.Fragment=Ef;Pe.Lazy=Nf;Pe.Memo=Af;Pe.Portal=x0;Pe.Profiler=Rf;Pe.StrictMode=Tf;Pe.Suspense=xf;Pe.isAsyncMode=function(t){return px(t)||Dn(t)===A0};Pe.isConcurrentMode=px;Pe.isContextConsumer=function(t){return Dn(t)===Cf};Pe.isContextProvider=function(t){return Dn(t)===kf};Pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===I0};Pe.isForwardRef=function(t){return Dn(t)===If};Pe.isFragment=function(t){return Dn(t)===Ef};Pe.isLazy=function(t){return Dn(t)===Nf};Pe.isMemo=function(t){return Dn(t)===Af};Pe.isPortal=function(t){return Dn(t)===x0};Pe.isProfiler=function(t){return Dn(t)===Rf};Pe.isStrictMode=function(t){return Dn(t)===Tf};Pe.isSuspense=function(t){return Dn(t)===xf};Pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ef||t===bf||t===Rf||t===Tf||t===xf||t===s9||typeof t=="object"&&t!==null&&(t.$$typeof===Nf||t.$$typeof===Af||t.$$typeof===kf||t.$$typeof===Cf||t.$$typeof===If||t.$$typeof===a9||t.$$typeof===l9||t.$$typeof===u9||t.$$typeof===o9)};Pe.typeOf=Dn;(function(t){t.exports=Pe})(fx);var mx=fx.exports,c9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},d9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gx={};gx[mx.ForwardRef]=c9;gx[mx.Memo]=d9;var h9=!0;function f9(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var yx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||h9===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},p9=function(e,n,r){yx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function m9(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var g9={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},y9=/[A-Z]|^ms/g,v9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vx=function(e){return e.charCodeAt(1)===45},fS=function(e){return e!=null&&typeof e!="boolean"},Yp=sx(function(t){return vx(t)?t:t.replace(y9,"-$&").toLowerCase()}),pS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(v9,function(r,i,s){return or={name:i,styles:s,next:or},i})}return g9[e]!==1&&!vx(e)&&typeof n=="number"&&n!==0?n+"px":n};function jl(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return or={name:n.name,styles:n.styles,next:or},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)or={name:r.name,styles:r.styles,next:or},r=r.next;var i=n.styles+";";return i}return w9(t,e,n)}case"function":{if(t!==void 0){var s=or,o=n(t);return or=s,jl(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function w9(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=jl(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":fS(o)&&(r+=Yp(s)+":"+pS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)fS(o[a])&&(r+=Yp(s)+":"+pS(s,o[a])+";");else{var l=jl(t,e,o);switch(s){case"animation":case"animationName":{r+=Yp(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var mS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,or,wx=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";or=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=jl(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=jl(r,n,e[a]),i&&(s+=o[a]);mS.lastIndex=0;for(var l="",u;(u=mS.exec(s))!==null;)l+="-"+u[1];var c=m9(s)+l;return{name:c,styles:s,next:or}},_9=function(e){return e()},S9=To["useInsertionEffect"]?To["useInsertionEffect"]:!1,E9=S9||_9,_x=_.exports.createContext(typeof HTMLElement<"u"?i9({key:"css"}):null);_x.Provider;var T9=function(e){return _.exports.forwardRef(function(n,r){var i=_.exports.useContext(_x);return e(n,i,r)})},R9=_.exports.createContext({});function Wl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return wx(e)}var Ps=function(){var e=Wl.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},k9=A8,C9=function(e){return e!=="theme"},gS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?k9:C9},yS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},b9=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return yx(n,r,i),E9(function(){return p9(n,r,i)}),null},I9=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=yS(e,n,r),l=a||gS(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,m=1;m<h;m++)d.push(c[m],c[0][m])}var f=T9(function(p,E,y){var g=u&&p.as||i,w="",S=[],C=p;if(p.theme==null){C={};for(var I in p)C[I]=p[I];C.theme=_.exports.useContext(R9)}typeof p.className=="string"?w=f9(E.registered,S,p.className):p.className!=null&&(w=p.className+" ");var b=wx(d.concat(S),E.registered,C);w+=E.key+"-"+b.name,o!==void 0&&(w+=" "+o);var N=u&&a===void 0?gS(g):l,Z={};for(var x in p)u&&x==="as"||N(x)&&(Z[x]=p[x]);return Z.className=w,Z.ref=y,_.exports.createElement(_.exports.Fragment,null,_.exports.createElement(b9,{cache:E,serialized:b,isStringTag:typeof g=="string"}),_.exports.createElement(g,Z))});return f.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=e.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=a,Object.defineProperty(f,"toString",{value:function(){return"."+o}}),f.withComponent=function(p,E){return t(p,G({},n,E,{shouldForwardProp:yS(f,E,!0)})).apply(void 0,d)},f}},x9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Vg=I9.bind();x9.forEach(function(t){Vg[t]=Vg(t)});const A9=Vg;/** @license MUI v5.10.7
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function N9(t,e){return A9(t,e)}const $9=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function al(t,e){return e?Mr(t,e,{clone:!1}):t}const N0={xs:0,sm:600,md:900,lg:1200,xl:1536},vS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${N0[t]}px)`};function Bi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||vS;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||vS;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||N0).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function P9(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function L9(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function $0(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function wS(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=$0(t,n)||r,e&&(i=e(i)),i}function W(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=$0(l,r)||{};return Bi(o,a,d=>{let h=wS(u,i,d);return d===h&&typeof d=="string"&&(h=wS(u,i,`${e}${d==="default"?"":Je(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function zi(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?al(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function M9(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const D9={m:"margin",p:"padding"},O9={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_S={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},U9=M9(t=>{if(t.length>2)if(_S[t])t=_S[t];else return[t];const[e,n]=t.split(""),r=D9[e],i=O9[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),V9=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],F9=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Sx=[...V9,...F9];function xu(t,e,n,r){var i;const s=(i=$0(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Ex(t){return xu(t,"spacing",8)}function Au(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function B9(t,e){return n=>t.reduce((r,i)=>(r[i]=Au(e,n),r),{})}function z9(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=U9(n),s=B9(i,r),o=t[n];return Bi(t,o,s)}function j9(t,e){const n=Ex(t.theme);return Object.keys(t).map(r=>z9(t,e,r,n)).reduce(al,{})}function $f(t){return j9(t,Sx)}$f.propTypes={};$f.filterProps=Sx;function Nu(t){return typeof t!="number"?t:`${t}px solid`}const W9=W({prop:"border",themeKey:"borders",transform:Nu}),H9=W({prop:"borderTop",themeKey:"borders",transform:Nu}),q9=W({prop:"borderRight",themeKey:"borders",transform:Nu}),G9=W({prop:"borderBottom",themeKey:"borders",transform:Nu}),K9=W({prop:"borderLeft",themeKey:"borders",transform:Nu}),Q9=W({prop:"borderColor",themeKey:"palette"}),Y9=W({prop:"borderTopColor",themeKey:"palette"}),X9=W({prop:"borderRightColor",themeKey:"palette"}),J9=W({prop:"borderBottomColor",themeKey:"palette"}),Z9=W({prop:"borderLeftColor",themeKey:"palette"}),P0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=xu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Au(e,r)});return Bi(t,t.borderRadius,n)}return null};P0.propTypes={};P0.filterProps=["borderRadius"];const eW=zi(W9,H9,q9,G9,K9,Q9,Y9,X9,J9,Z9,P0),Tx=eW,tW=W({prop:"displayPrint",cssProperty:!1,transform:t=>({"@media print":{display:t}})}),nW=W({prop:"display"}),rW=W({prop:"overflow"}),iW=W({prop:"textOverflow"}),sW=W({prop:"visibility"}),oW=W({prop:"whiteSpace"}),Rx=zi(tW,nW,rW,iW,sW,oW),aW=W({prop:"flexBasis"}),lW=W({prop:"flexDirection"}),uW=W({prop:"flexWrap"}),cW=W({prop:"justifyContent"}),dW=W({prop:"alignItems"}),hW=W({prop:"alignContent"}),fW=W({prop:"order"}),pW=W({prop:"flex"}),mW=W({prop:"flexGrow"}),gW=W({prop:"flexShrink"}),yW=W({prop:"alignSelf"}),vW=W({prop:"justifyItems"}),wW=W({prop:"justifySelf"}),_W=zi(aW,lW,uW,cW,dW,hW,fW,pW,mW,gW,yW,vW,wW),kx=_W,L0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=xu(t.theme,"spacing",8),n=r=>({gap:Au(e,r)});return Bi(t,t.gap,n)}return null};L0.propTypes={};L0.filterProps=["gap"];const M0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=xu(t.theme,"spacing",8),n=r=>({columnGap:Au(e,r)});return Bi(t,t.columnGap,n)}return null};M0.propTypes={};M0.filterProps=["columnGap"];const D0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=xu(t.theme,"spacing",8),n=r=>({rowGap:Au(e,r)});return Bi(t,t.rowGap,n)}return null};D0.propTypes={};D0.filterProps=["rowGap"];const SW=W({prop:"gridColumn"}),EW=W({prop:"gridRow"}),TW=W({prop:"gridAutoFlow"}),RW=W({prop:"gridAutoColumns"}),kW=W({prop:"gridAutoRows"}),CW=W({prop:"gridTemplateColumns"}),bW=W({prop:"gridTemplateRows"}),IW=W({prop:"gridTemplateAreas"}),xW=W({prop:"gridArea"}),AW=zi(L0,M0,D0,SW,EW,TW,RW,kW,CW,bW,IW,xW),Cx=AW,NW=W({prop:"color",themeKey:"palette"}),$W=W({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),PW=W({prop:"backgroundColor",themeKey:"palette"}),LW=zi(NW,$W,PW),bx=LW,MW=W({prop:"position"}),DW=W({prop:"zIndex",themeKey:"zIndex"}),OW=W({prop:"top"}),UW=W({prop:"right"}),VW=W({prop:"bottom"}),FW=W({prop:"left"}),Ix=zi(MW,DW,OW,UW,VW,FW),BW=W({prop:"boxShadow",themeKey:"shadows"}),xx=BW;function ji(t){return t<=1&&t!==0?`${t*100}%`:t}const zW=W({prop:"width",transform:ji}),Ax=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||N0[n]||ji(n)}};return Bi(t,t.maxWidth,e)}return null};Ax.filterProps=["maxWidth"];const jW=W({prop:"minWidth",transform:ji}),WW=W({prop:"height",transform:ji}),HW=W({prop:"maxHeight",transform:ji}),qW=W({prop:"minHeight",transform:ji});W({prop:"size",cssProperty:"width",transform:ji});W({prop:"size",cssProperty:"height",transform:ji});const GW=W({prop:"boxSizing"}),KW=zi(zW,Ax,jW,WW,HW,qW,GW),Nx=KW,QW=W({prop:"fontFamily",themeKey:"typography"}),YW=W({prop:"fontSize",themeKey:"typography"}),XW=W({prop:"fontStyle",themeKey:"typography"}),JW=W({prop:"fontWeight",themeKey:"typography"}),ZW=W({prop:"letterSpacing"}),eH=W({prop:"textTransform"}),tH=W({prop:"lineHeight"}),nH=W({prop:"textAlign"}),rH=W({prop:"typography",cssProperty:!1,themeKey:"typography"}),iH=zi(rH,QW,YW,XW,JW,ZW,tH,nH,eH),$x=iH,SS={borders:Tx.filterProps,display:Rx.filterProps,flexbox:kx.filterProps,grid:Cx.filterProps,positions:Ix.filterProps,palette:bx.filterProps,shadows:xx.filterProps,sizing:Nx.filterProps,spacing:$f.filterProps,typography:$x.filterProps},Px={borders:Tx,display:Rx,flexbox:kx,grid:Cx,positions:Ix,palette:bx,shadows:xx,sizing:Nx,spacing:$f,typography:$x},sH=Object.keys(SS).reduce((t,e)=>(SS[e].forEach(n=>{t[n]=Px[e]}),t),{});function oH(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function aH(t,e){return typeof t=="function"?t(e):t}function lH(t=Px){const e=Object.keys(t).reduce((i,s)=>(t[s].filterProps.forEach(o=>{i[o]=t[s]}),i),{});function n(i,s,o){const a={[i]:s,theme:o},l=e[i];return l?l(a):{[i]:s}}function r(i){const{sx:s,theme:o={}}=i||{};if(!s)return null;function a(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=P9(o.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(m=>{const f=aH(u[m],o);if(f!=null)if(typeof f=="object")if(e[m])h=al(h,n(m,f,o));else{const p=Bi({theme:o},f,E=>({[m]:E}));oH(p,f)?h[m]=r({sx:f,theme:o}):h=al(h,p)}else h=al(h,n(m,f,o))}),L9(d,h)}return Array.isArray(s)?s.map(a):a(s)}return r}const Lx=lH();Lx.filterProps=["sx"];const uH=Lx,cH=["sx"],dH=t=>{const e={systemProps:{},otherProps:{}};return Object.keys(t).forEach(n=>{sH[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function hH(t){const{sx:e}=t,n=nt(t,cH),{systemProps:r,otherProps:i}=dH(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ba(a)?G({},r,a):r}:s=G({},r,e),G({},i,{sx:s})}const fH=["values","unit","step"],pH=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>G({},n,{[r.key]:r.val}),{})};function mH(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=nt(t,fH),s=pH(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,m){const f=o.indexOf(m);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(f!==-1&&typeof e[o[f]]=="number"?e[o[f]]:m)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const m=o.indexOf(h);return m===0?a(o[1]):m===o.length-1?l(o[m]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return G({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const gH={borderRadius:4},yH=gH;function vH(t=8){if(t.mui)return t;const e=Ex({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const wH=["breakpoints","palette","spacing","shape"];function O0(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=nt(t,wH),a=mH(n),l=vH(i);let u=Mr({breakpoints:a,direction:"ltr",components:{},palette:G({mode:"light"},r),spacing:l,shape:G({},yH,s)},o);return u=e.reduce((c,d)=>Mr(c,d),u),u}const _H=_.exports.createContext(null),SH=_H;function EH(){return _.exports.useContext(SH)}function TH(t){return Object.keys(t).length===0}function RH(t=null){const e=EH();return!e||TH(e)?t:e}const kH=O0();function CH(t=kH){return RH(t)}const bH=["variant"];function ES(t){return t.length===0}function Mx(t){const{variant:e}=t,n=nt(t,bH);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=ES(r)?t[i]:Je(t[i]):r+=`${ES(r)?i:Je(i)}${Je(t[i].toString())}`}),r}const IH=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],xH=["theme"],AH=["theme"];function Ia(t){return Object.keys(t).length===0}function NH(t){return typeof t=="string"&&t.charCodeAt(0)>96}const $H=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,PH=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=Mx(i.props);r[s]=i.style}),r},LH=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(d=>{o[d]!==u.props[d]&&t[d]!==u.props[d]&&(c=!1)}),c&&a.push(e[Mx(u.props)])}),a};function Hc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const MH=O0();function DH(t={}){const{defaultTheme:e=MH,rootShouldForwardProp:n=Hc,slotShouldForwardProp:r=Hc,styleFunctionSx:i=uH}=t,s=o=>{const a=Ia(o.theme)?e:o.theme;return i(G({},o,{theme:a}))};return s.__mui_systemSx=!0,(o,a={})=>{$9(o,S=>S.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h}=a,m=nt(a,IH),f=c!==void 0?c:u&&u!=="Root"||!1,p=d||!1;let E,y=Hc;u==="Root"?y=n:u?y=r:NH(o)&&(y=void 0);const g=N9(o,G({shouldForwardProp:y,label:E},m)),w=(S,...C)=>{const I=C?C.map(x=>typeof x=="function"&&x.__emotion_real!==x?ee=>{let{theme:pe}=ee,me=nt(ee,xH);return x(G({theme:Ia(pe)?e:pe},me))}:x):[];let b=S;l&&h&&I.push(x=>{const ee=Ia(x.theme)?e:x.theme,pe=$H(l,ee);if(pe){const me={};return Object.entries(pe).forEach(([re,Le])=>{me[re]=typeof Le=="function"?Le(G({},x,{theme:ee})):Le}),h(x,me)}return null}),l&&!f&&I.push(x=>{const ee=Ia(x.theme)?e:x.theme;return LH(x,PH(l,ee),ee,l)}),p||I.push(s);const N=I.length-C.length;if(Array.isArray(S)&&N>0){const x=new Array(N).fill("");b=[...S,...x],b.raw=[...S.raw,...x]}else typeof S=="function"&&S.__emotion_real!==S&&(b=x=>{let{theme:ee}=x,pe=nt(x,AH);return S(G({theme:Ia(ee)?e:ee},pe))});return g(b,...I)};return g.withConfig&&(w.withConfig=g.withConfig),w}}function OH(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:k8(e.components[n].defaultProps,r)}function UH({props:t,name:e,defaultTheme:n}){const r=CH(n);return OH({theme:r,name:e,props:t})}function U0(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function VH(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Rs(t){if(t.type)return t;if(t.charAt(0)==="#")return Rs(VH(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Ho(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Ho(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Pf(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function FH(t){t=Rs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Pf({type:a,values:l})}function TS(t){t=Rs(t);let e=t.type==="hsl"||t.type==="hsla"?Rs(FH(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function BH(t,e){const n=TS(t),r=TS(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Hl(t,e){return t=Rs(t),e=U0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Pf(t)}function Fg(t,e){if(t=Rs(t),e=U0(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Pf(t)}function Bg(t,e){if(t=Rs(t),e=U0(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Pf(t)}function zH(t,e){return G({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const jH={black:"#000",white:"#fff"},ql=jH,WH={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},HH=WH,qH={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Fs=qH,GH={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Bs=GH,KH={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},xa=KH,QH={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},zs=QH,YH={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},js=YH,XH={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ws=XH,JH=["mode","contrastThreshold","tonalOffset"],RS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ql.white,default:ql.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Xp={text:{primary:ql.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ql.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function kS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Bg(t.main,i):e==="dark"&&(t.dark=Fg(t.main,s)))}function ZH(t="light"){return t==="dark"?{main:zs[200],light:zs[50],dark:zs[400]}:{main:zs[700],light:zs[400],dark:zs[800]}}function e7(t="light"){return t==="dark"?{main:Fs[200],light:Fs[50],dark:Fs[400]}:{main:Fs[500],light:Fs[300],dark:Fs[700]}}function t7(t="light"){return t==="dark"?{main:Bs[500],light:Bs[300],dark:Bs[700]}:{main:Bs[700],light:Bs[400],dark:Bs[800]}}function n7(t="light"){return t==="dark"?{main:js[400],light:js[300],dark:js[700]}:{main:js[700],light:js[500],dark:js[900]}}function r7(t="light"){return t==="dark"?{main:Ws[400],light:Ws[300],dark:Ws[700]}:{main:Ws[800],light:Ws[500],dark:Ws[900]}}function i7(t="light"){return t==="dark"?{main:xa[400],light:xa[300],dark:xa[700]}:{main:"#ed6c02",light:xa[500],dark:xa[900]}}function s7(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=nt(t,JH),s=t.primary||ZH(e),o=t.secondary||e7(e),a=t.error||t7(e),l=t.info||n7(e),u=t.success||r7(e),c=t.warning||i7(e);function d(p){return BH(p,Xp.text.primary)>=n?Xp.text.primary:RS.text.primary}const h=({color:p,name:E,mainShade:y=500,lightShade:g=300,darkShade:w=700})=>{if(p=G({},p),!p.main&&p[y]&&(p.main=p[y]),!p.hasOwnProperty("main"))throw new Error(Ho(11,E?` (${E})`:"",y));if(typeof p.main!="string")throw new Error(Ho(12,E?` (${E})`:"",JSON.stringify(p.main)));return kS(p,"light",g,r),kS(p,"dark",w,r),p.contrastText||(p.contrastText=d(p.main)),p},m={dark:Xp,light:RS};return Mr(G({common:G({},ql),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:HH,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},m[e]),i)}const o7=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function a7(t){return Math.round(t*1e5)/1e5}const CS={textTransform:"uppercase"},bS='"Roboto", "Helvetica", "Arial", sans-serif';function l7(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=bS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=nt(n,o7),m=i/14,f=d||(y=>`${y/u*m}rem`),p=(y,g,w,S,C)=>G({fontFamily:r,fontWeight:y,fontSize:f(g),lineHeight:w},r===bS?{letterSpacing:`${a7(S/g)}em`}:{},C,c),E={h1:p(s,96,1.167,-1.5),h2:p(s,60,1.2,-.5),h3:p(o,48,1.167,0),h4:p(o,34,1.235,.25),h5:p(o,24,1.334,0),h6:p(a,20,1.6,.15),subtitle1:p(o,16,1.75,.15),subtitle2:p(a,14,1.57,.1),body1:p(o,16,1.5,.15),body2:p(o,14,1.43,.15),button:p(a,14,1.75,.4,CS),caption:p(o,12,1.66,.4),overline:p(o,12,2.66,1,CS)};return Mr(G({htmlFontSize:u,pxToRem:f,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),h,{clone:!1})}const u7=.2,c7=.14,d7=.12;function je(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${u7})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${c7})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${d7})`].join(",")}const h7=["none",je(0,2,1,-1,0,1,1,0,0,1,3,0),je(0,3,1,-2,0,2,2,0,0,1,5,0),je(0,3,3,-2,0,3,4,0,0,1,8,0),je(0,2,4,-1,0,4,5,0,0,1,10,0),je(0,3,5,-1,0,5,8,0,0,1,14,0),je(0,3,5,-1,0,6,10,0,0,1,18,0),je(0,4,5,-2,0,7,10,1,0,2,16,1),je(0,5,5,-3,0,8,10,1,0,3,14,2),je(0,5,6,-3,0,9,12,1,0,3,16,2),je(0,6,6,-3,0,10,14,1,0,4,18,3),je(0,6,7,-4,0,11,15,1,0,4,20,3),je(0,7,8,-4,0,12,17,2,0,5,22,4),je(0,7,8,-4,0,13,19,2,0,5,24,4),je(0,7,9,-4,0,14,21,2,0,5,26,4),je(0,8,9,-5,0,15,22,2,0,6,28,5),je(0,8,10,-5,0,16,24,2,0,6,30,5),je(0,8,11,-5,0,17,26,2,0,6,32,5),je(0,9,11,-5,0,18,28,2,0,7,34,6),je(0,9,12,-6,0,19,29,2,0,7,36,6),je(0,10,13,-6,0,20,31,3,0,8,38,7),je(0,10,13,-6,0,21,33,3,0,8,40,7),je(0,10,14,-6,0,22,35,3,0,8,42,7),je(0,11,14,-7,0,23,36,3,0,9,44,8),je(0,11,15,-7,0,24,38,3,0,9,46,8)],f7=h7,p7=["duration","easing","delay"],m7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},g7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function IS(t){return`${Math.round(t)}ms`}function y7(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function v7(t){const e=G({},m7,t.easing),n=G({},g7,t.duration);return G({getAutoHeightDuration:y7,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return nt(s,p7),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:IS(o)} ${a} ${typeof l=="string"?l:IS(l)}`).join(",")}},t,{easing:e,duration:n})}const w7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_7=w7,S7=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function E7(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=nt(t,S7);if(t.vars)throw new Error(Ho(18));const a=s7(r),l=O0(t);let u=Mr(l,{mixins:zH(l.breakpoints,n),palette:a,shadows:f7.slice(),typography:l7(a,s),transitions:v7(i),zIndex:G({},_7)});return u=Mr(u,o),u=e.reduce((c,d)=>Mr(c,d),u),u}const T7=E7(),Dx=T7;function Er({props:t,name:e}){return UH({props:t,name:e,defaultTheme:Dx})}const R7=t=>Hc(t)&&t!=="classes",k7=DH({defaultTheme:Dx,rootShouldForwardProp:R7}),Gt=k7;function C7(t){return _r("MuiSvgIcon",t)}Sr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const b7=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],I7=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Je(e)}`,`fontSize${Je(n)}`]};return Yr(i,C7,r)},x7=Gt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Je(n.color)}`],e[`fontSize${Je(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,m,f,p,E,y,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=t.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(t.vars||t).palette)==null||(f=m[e.color])==null?void 0:f.main)!=null?h:{action:(p=(t.vars||t).palette)==null||(E=p.action)==null?void 0:E.active,disabled:(y=(t.vars||t).palette)==null||(g=y.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),Ox=_.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,m=nt(r,b7),f=G({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h}),p={};c||(p.viewBox=h);const E=I7(f);return V(x7,G({as:a,className:Tt(E.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},p,m,{ownerState:f,children:[i,d?v("title",{children:d}):null]}))});Ox.muiName="SvgIcon";const xS=Ox;function ua(t,e){const n=(r,i)=>v(xS,G({"data-testid":`${e}Icon`,ref:i},r,{children:t}));return n.muiName=xS.muiName,_.exports.memo(_.exports.forwardRef(n))}const A7={configure:t=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join(`
`)),rx.configure(t)}},N7=Object.freeze(Object.defineProperty({__proto__:null,unstable_ClassNameGenerator:A7,capitalize:Je,createChainedFunction:l8,createSvgIcon:ua,debounce:u8,deprecatedPropType:c8,isMuiElement:d8,ownerDocument:ex,ownerWindow:h8,requirePropFactory:f8,setRef:Mg,unstable_useEnhancedEffect:tx,unstable_useId:g8,unsupportedProp:y8,useControlled:v8,useEventCallback:za,useForkRef:Bc,useIsFocusVisible:nx},Symbol.toStringTag,{value:"Module"})),$7=iE(N7);var AS;function rn(){return AS||(AS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=$7}(Kp)),Kp}const sn=iE(Z2);var P7=qt.exports;Object.defineProperty(R0,"__esModule",{value:!0});var Ux=R0.default=void 0,L7=P7(rn()),M7=sn,D7=(0,L7.default)((0,M7.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");Ux=R0.default=D7;const O7="_header_94q4c_1",U7="_notLogin_94q4c_12",V7="_login_94q4c_15",F7="_logo_94q4c_29",B7="_profile_94q4c_40",z7="_avatar_94q4c_54",Hs={header:O7,notLogin:U7,login:V7,logo:F7,profile:B7,avatar:z7},$u=()=>{const{toStart:t,toHome:e,toProfile:n}=ht(),r=Qr(),{signOut:i,loading:s,error:o}=a8(),{uid:a}=Ht();return V("header",{className:`${Hs.header} ${r?Hs.login:Hs.notLogin}`,children:[v("img",{src:_R,alt:"logo",width:"200px",height:"67px",onClick:()=>r?e(r.uid):t(),style:{cursor:"pointer"},className:Hs.logo}),r&&V("div",{className:Hs.profile,children:[v("p",{children:r.displayName}),v("img",{src:r.photoURL,alt:"",className:Hs.avatar,onClick:()=>n(a)}),v(Qe,{type:"button",variant:"outlined",color:"primary",onClick:i,startIcon:v(Ux,{}),header:!0,children:"Sign Out"})]})]})},j7="_form_94maj_1",W7="_title_94maj_12",NS={form:j7,title:W7},Ls=({children:t,title:e,secondTitle:n,onSubmit:r,startIcon:i})=>V("form",{className:NS.form,onSubmit:r,children:[V("h2",{className:NS.title,children:[i,e,n&&V(vt,{children:[v("br",{}),n]})]}),t]}),H7="_input_u16d7_1",q7={input:H7},Dr=_.exports.forwardRef(({type:t="text",placeholder:e,label:n,required:r=!0,defaultValue:i},s)=>V("label",{className:q7.input,children:[n,v("input",{type:t,placeholder:e,required:r,ref:s,defaultValue:i})]})),G7="_buttonGroup_1vtp4_1",K7={buttonGroup:G7};function Q7(){const[t,e]=_.exports.useState(!1),[n,r]=_.exports.useState(),{toHome:i,toRedirect:s}=ht();return{signIn:async(a,l)=>(e(!0),await nM(Ni,Qy).then(async()=>await eM(Ni,a,l).then(u=>{console.log("signed in!"),i(u.user.uid,{title:"Success",status:"success",text:"Login succeeded."})}).catch(u=>{r(u instanceof Error?u:Error("unecpected error!")),s({title:"Error",status:"error",text:"Login failed.",strong:n==null?void 0:n.message})}).finally(()=>{e(!1)}))),loading:t,error:n}}function Jp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function Zp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}var Vx=typeof window<"u",Y7=function(t){return(t+1)%1e6};function X7(){var t=_.exports.useReducer(Y7,0),e=t[1];return e}function J7(t,e){e===void 0&&(e=0);var n=_.exports.useRef(!1),r=_.exports.useRef(),i=_.exports.useRef(t),s=_.exports.useCallback(function(){return n.current},[]),o=_.exports.useCallback(function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout(function(){n.current=!0,i.current()},e)},[e]),a=_.exports.useCallback(function(){n.current=null,r.current&&clearTimeout(r.current)},[]);return _.exports.useEffect(function(){i.current=t},[t]),_.exports.useEffect(function(){return o(),a},[e]),[s,a,o]}var $S=function(t){var e=window.history,n=e[t];e[t]=function(r){var i=n.apply(this,arguments),s=new Event(t.toLowerCase());return s.state=r,window.dispatchEvent(s),i}};Vx&&($S("pushState"),$S("replaceState"));var Z7=function(){return{trigger:"load",length:1}},vc=function(t){var e=window.history,n=e.state,r=e.length,i=window.location,s=i.hash,o=i.host,a=i.hostname,l=i.href,u=i.origin,c=i.pathname,d=i.port,h=i.protocol,m=i.search;return{trigger:t,state:n,length:r,hash:s,host:o,hostname:a,href:l,origin:u,pathname:c,port:d,protocol:h,search:m}},eq=function(){var t=_.exports.useState(vc("load")),e=t[0],n=t[1];return _.exports.useEffect(function(){var r=function(){return n(vc("popstate"))},i=function(){return n(vc("pushstate"))},s=function(){return n(vc("replacestate"))};return Jp(window,"popstate",r),Jp(window,"pushstate",i),Jp(window,"replacestate",s),function(){Zp(window,"popstate",r),Zp(window,"pushstate",i),Zp(window,"replacestate",s)}},[]),e},tq=typeof Event=="function";const nq=Vx&&tq?eq:Z7;function rq(t){t===void 0&&(t=0);var e=X7();return J7(e,t)}const Lf=t=>{const e=fh(),[n,r]=_.exports.useState(!1),[i,s,o]=rq(t);return _.exports.useEffect(()=>{e.state?r(!0):r(!1)},[e]),{messageState:e.state,flashState:n&&!i(),reset:o}};function iq(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function sq(t){return parseFloat(t)}function oq(t){return _r("MuiPaper",t)}Sr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const aq=["className","component","elevation","square","variant"],PS=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},lq=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Yr(s,oq,i)},uq=Gt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return G({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&G({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Hl("#fff",PS(e.elevation))}, ${Hl("#fff",PS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),cq=_.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=nt(r,aq),c=G({},r,{component:s,elevation:o,square:a,variant:l}),d=lq(c);return v(uq,G({as:s,ownerState:c,className:Tt(d.root,i),ref:n},u))}),dq=cq;function zg(t,e){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zg(t,e)}function hq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,zg(t,e)}const LS=rt.createContext(null);function fq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V0(t,e){var n=function(s){return e&&_.exports.isValidElement(s)?e(s):s},r=Object.create(null);return t&&_.exports.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function pq(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function ts(t,e,n){return n[e]!=null?n[e]:t.props[e]}function mq(t,e){return V0(t.children,function(n){return _.exports.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:ts(n,"appear",t),enter:ts(n,"enter",t),exit:ts(n,"exit",t)})})}function gq(t,e,n){var r=V0(t.children),i=pq(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(!!_.exports.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=_.exports.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=_.exports.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:ts(o,"exit",t),enter:ts(o,"enter",t)}):!l&&a&&!c?i[s]=_.exports.cloneElement(o,{in:!1}):l&&a&&_.exports.isValidElement(u)&&(i[s]=_.exports.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:ts(o,"exit",t),enter:ts(o,"enter",t)}))}}),i}var yq=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},vq={component:"div",childFactory:function(e){return e}},F0=function(t){hq(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(fq(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?mq(i,a):gq(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=V0(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=G({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=nt(i,["component","childFactory"]),l=this.state.contextValue,u=yq(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?v(LS.Provider,{value:l,children:u}):v(LS.Provider,{value:l,children:v(s,{...a,children:u})})},e}(rt.Component);F0.propTypes={};F0.defaultProps=vq;const wq=F0;function _q(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=_.exports.useState(!1),h=Tt(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},f=Tt(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),_.exports.useEffect(()=>{if(!a&&l!=null){const p=setTimeout(l,u);return()=>{clearTimeout(p)}}},[l,a,u]),v("span",{className:h,style:m,children:v("span",{className:f})})}const Sq=Sr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Un=Sq,Eq=["center","classes","className"];let Mf=t=>t,MS,DS,OS,US;const jg=550,Tq=80,Rq=Ps(MS||(MS=Mf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),kq=Ps(DS||(DS=Mf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Cq=Ps(OS||(OS=Mf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),bq=Gt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Iq=Gt(_q,{name:"MuiTouchRipple",slot:"Ripple"})(US||(US=Mf`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Un.rippleVisible,Rq,jg,({theme:t})=>t.transitions.easing.easeInOut,Un.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Un.child,Un.childLeaving,kq,jg,({theme:t})=>t.transitions.easing.easeInOut,Un.childPulsate,Cq,({theme:t})=>t.transitions.easing.easeInOut),xq=_.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=nt(r,Eq),[l,u]=_.exports.useState([]),c=_.exports.useRef(0),d=_.exports.useRef(null);_.exports.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=_.exports.useRef(!1),m=_.exports.useRef(null),f=_.exports.useRef(null),p=_.exports.useRef(null);_.exports.useEffect(()=>()=>{clearTimeout(m.current)},[]);const E=_.exports.useCallback(S=>{const{pulsate:C,rippleX:I,rippleY:b,rippleSize:N,cb:Z}=S;u(x=>[...x,v(Iq,{classes:{ripple:Tt(s.ripple,Un.ripple),rippleVisible:Tt(s.rippleVisible,Un.rippleVisible),ripplePulsate:Tt(s.ripplePulsate,Un.ripplePulsate),child:Tt(s.child,Un.child),childLeaving:Tt(s.childLeaving,Un.childLeaving),childPulsate:Tt(s.childPulsate,Un.childPulsate)},timeout:jg,pulsate:C,rippleX:I,rippleY:b,rippleSize:N},c.current)]),c.current+=1,d.current=Z},[s]),y=_.exports.useCallback((S={},C={},I)=>{const{pulsate:b=!1,center:N=i||C.pulsate,fakeElement:Z=!1}=C;if((S==null?void 0:S.type)==="mousedown"&&h.current){h.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(h.current=!0);const x=Z?null:p.current,ee=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let pe,me,re;if(N||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)pe=Math.round(ee.width/2),me=Math.round(ee.height/2);else{const{clientX:Le,clientY:Te}=S.touches&&S.touches.length>0?S.touches[0]:S;pe=Math.round(Le-ee.left),me=Math.round(Te-ee.top)}if(N)re=Math.sqrt((2*ee.width**2+ee.height**2)/3),re%2===0&&(re+=1);else{const Le=Math.max(Math.abs((x?x.clientWidth:0)-pe),pe)*2+2,Te=Math.max(Math.abs((x?x.clientHeight:0)-me),me)*2+2;re=Math.sqrt(Le**2+Te**2)}S!=null&&S.touches?f.current===null&&(f.current=()=>{E({pulsate:b,rippleX:pe,rippleY:me,rippleSize:re,cb:I})},m.current=setTimeout(()=>{f.current&&(f.current(),f.current=null)},Tq)):E({pulsate:b,rippleX:pe,rippleY:me,rippleSize:re,cb:I})},[i,E]),g=_.exports.useCallback(()=>{y({},{pulsate:!0})},[y]),w=_.exports.useCallback((S,C)=>{if(clearTimeout(m.current),(S==null?void 0:S.type)==="touchend"&&f.current){f.current(),f.current=null,m.current=setTimeout(()=>{w(S,C)});return}f.current=null,u(I=>I.length>0?I.slice(1):I),d.current=C},[]);return _.exports.useImperativeHandle(n,()=>({pulsate:g,start:y,stop:w}),[g,y,w]),v(bq,G({className:Tt(Un.root,s.root,o),ref:p},a,{children:v(wq,{component:null,exit:!0,children:l})}))}),Aq=xq;function Nq(t){return _r("MuiButtonBase",t)}const $q=Sr("MuiButtonBase",["root","disabled","focusVisible"]),Pq=$q,Lq=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Mq=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Yr({root:["root",e&&"disabled",n&&"focusVisible"]},Nq,i);return n&&r&&(o.root+=` ${r}`),o},Dq=Gt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Pq.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Oq=_.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:m="a",onBlur:f,onClick:p,onContextMenu:E,onDragLeave:y,onFocus:g,onFocusVisible:w,onKeyDown:S,onKeyUp:C,onMouseDown:I,onMouseLeave:b,onMouseUp:N,onTouchEnd:Z,onTouchMove:x,onTouchStart:ee,tabIndex:pe=0,TouchRippleProps:me,touchRippleRef:re,type:Le}=r,Te=nt(r,Lq),be=_.exports.useRef(null),M=_.exports.useRef(null),X=Bc(M,re),{isFocusVisibleRef:U,onFocus:J,onBlur:R,ref:O}=nx(),[D,te]=_.exports.useState(!1);u&&D&&te(!1),_.exports.useImperativeHandle(i,()=>({focusVisible:()=>{te(!0),be.current.focus()}}),[]);const[z,ue]=_.exports.useState(!1);_.exports.useEffect(()=>{ue(!0)},[]);const ge=z&&!c&&!u;_.exports.useEffect(()=>{D&&h&&!c&&z&&M.current.pulsate()},[c,h,D,z]);function q(de,Du,Ou=d){return za(Uu=>(Du&&Du(Uu),!Ou&&M.current&&M.current[de](Uu),!0))}const De=q("start",I),it=q("stop",E),Ie=q("stop",y),Ve=q("stop",N),Tn=q("stop",de=>{D&&de.preventDefault(),b&&b(de)}),Tr=q("start",ee),on=q("stop",Z),Kt=q("stop",x),Pu=q("stop",de=>{R(de),U.current===!1&&te(!1),f&&f(de)},!1),Bf=za(de=>{be.current||(be.current=de.currentTarget),J(de),U.current===!0&&(te(!0),w&&w(de)),g&&g(de)}),Wi=()=>{const de=be.current;return l&&l!=="button"&&!(de.tagName==="A"&&de.href)},Ms=_.exports.useRef(!1),Lu=za(de=>{h&&!Ms.current&&D&&M.current&&de.key===" "&&(Ms.current=!0,M.current.stop(de,()=>{M.current.start(de)})),de.target===de.currentTarget&&Wi()&&de.key===" "&&de.preventDefault(),S&&S(de),de.target===de.currentTarget&&Wi()&&de.key==="Enter"&&!u&&(de.preventDefault(),p&&p(de))}),zf=za(de=>{h&&de.key===" "&&M.current&&D&&!de.defaultPrevented&&(Ms.current=!1,M.current.stop(de,()=>{M.current.pulsate(de)})),C&&C(de),p&&de.target===de.currentTarget&&Wi()&&de.key===" "&&!de.defaultPrevented&&p(de)});let Xr=l;Xr==="button"&&(Te.href||Te.to)&&(Xr=m);const Rr={};Xr==="button"?(Rr.type=Le===void 0?"button":Le,Rr.disabled=u):(!Te.href&&!Te.to&&(Rr.role="button"),u&&(Rr["aria-disabled"]=u));const jf=Bc(O,be),Wf=Bc(n,jf),Mu=G({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:pe,focusVisible:D}),Hf=Mq(Mu);return V(Dq,G({as:Xr,className:Tt(Hf.root,a),ownerState:Mu,onBlur:Pu,onClick:p,onContextMenu:it,onFocus:Bf,onKeyDown:Lu,onKeyUp:zf,onMouseDown:De,onMouseLeave:Tn,onMouseUp:Ve,onDragLeave:Ie,onTouchEnd:on,onTouchMove:Kt,onTouchStart:Tr,ref:Wf,tabIndex:u?-1:pe,type:Le},Rr,Te,{children:[o,ge?v(Aq,G({ref:X,center:s},me)):null]}))}),Uq=Oq;function Vq(t){return _r("MuiAlert",t)}const Fq=Sr("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),VS=Fq;function Bq(t){return _r("MuiIconButton",t)}const zq=Sr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),jq=zq,Wq=["edge","children","className","color","disabled","disableFocusRipple","size"],Hq=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${Je(r)}`,i&&`edge${Je(i)}`,`size${Je(s)}`]};return Yr(o,Bq,e)},qq=Gt(Uq,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Je(n.color)}`],n.edge&&e[`edge${Je(n.edge)}`],e[`size${Je(n.size)}`]]}})(({theme:t,ownerState:e})=>G({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Hl(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>G({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&G({color:(t.vars||t).palette[e.color].main},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Hl(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${jq.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})),Gq=_.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=nt(r,Wq),h=G({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),m=Hq(h);return v(qq,G({className:Tt(m.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:s}))}),Kq=Gq,Qq=ua(v("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Yq=ua(v("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Xq=ua(v("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Jq=ua(v("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Zq=ua(v("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var FS;const eG=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],tG=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`${e}${Je(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Yr(s,Vq,i)},nG=Gt(dq,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Je(n.color||n.severity)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?Fg:Bg,r=t.palette.mode==="light"?Bg:Fg,i=e.color||e.severity;return G({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${VS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette.mode==="dark"?t.palette[i].main:t.palette[i].light}},i&&e.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${VS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette.mode==="dark"?t.palette[i].main:t.palette[i].light}},i&&e.variant==="filled"&&G({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${i}FilledColor`],backgroundColor:t.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main,color:t.palette.getContrastText(t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main)}))}),rG=Gt("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),iG=Gt("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),BS=Gt("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),zS={success:v(Qq,{fontSize:"inherit"}),warning:v(Yq,{fontSize:"inherit"}),error:v(Xq,{fontSize:"inherit"}),info:v(Jq,{fontSize:"inherit"})},sG=_.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:l,icon:u,iconMapping:c=zS,onClose:d,role:h="alert",severity:m="success",variant:f="standard"}=r,p=nt(r,eG),E=G({},r,{color:l,severity:m,variant:f}),y=tG(E);return V(nG,G({role:h,elevation:0,ownerState:E,className:Tt(y.root,o),ref:n},p,{children:[u!==!1?v(rG,{ownerState:E,className:y.icon,children:u||c[m]||zS[m]}):null,v(iG,{ownerState:E,className:y.message,children:s}),i!=null?v(BS,{ownerState:E,className:y.action,children:i}):null,i==null&&d?v(BS,{ownerState:E,className:y.action,children:v(Kq,{size:"small","aria-label":a,title:a,color:"inherit",onClick:d,children:FS||(FS=v(Zq,{fontSize:"small"}))})}):null]}))}),oG=sG;function aG(t){return _r("MuiTypography",t)}Sr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const lG=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],uG=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Je(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Yr(a,aG,o)},cG=Gt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Je(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>G({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),jS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},dG={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},hG=t=>dG[t]||t,fG=_.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiTypography"}),i=hG(r.color),s=hH(G({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:m=jS}=s,f=nt(s,lG),p=G({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:m}),E=l||(d?"p":m[h]||jS[h])||"span",y=uG(p);return v(cG,G({as:E,ref:n,ownerState:p,className:Tt(y.root,a)},f))}),pG=fG;function mG(t){return _r("MuiAlertTitle",t)}Sr("MuiAlertTitle",["root"]);const gG=["className"],yG=t=>{const{classes:e}=t;return Yr({root:["root"]},mG,e)},vG=Gt(pG,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({fontWeight:t.typography.fontWeightMedium,marginTop:-2})),wG=_.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiAlertTitle"}),{className:i}=r,s=nt(r,gG),o=r,a=yG(o);return v(vG,G({gutterBottom:!0,component:"div",ownerState:o,ref:n,className:Tt(a.root,i)},s))}),_G=wG;function SG(t){return _r("MuiCircularProgress",t)}Sr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const EG=["className","color","disableShrink","size","style","thickness","value","variant"];let Df=t=>t,WS,HS,qS,GS;const ei=44,TG=Ps(WS||(WS=Df`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),RG=Ps(HS||(HS=Df`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),kG=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${Je(r)}`],svg:["svg"],circle:["circle",`circle${Je(n)}`,i&&"circleDisableShrink"]};return Yr(s,SG,e)},CG=Gt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Je(n.color)}`]]}})(({ownerState:t,theme:e})=>G({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Wl(qS||(qS=Df`
      animation: ${0} 1.4s linear infinite;
    `),TG)),bG=Gt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),IG=Gt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Je(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>G({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Wl(GS||(GS=Df`
      animation: ${0} 1.4s ease-in-out infinite;
    `),RG)),xG=_.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=nt(r,EG),m=G({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),f=kG(m),p={},E={},y={};if(d==="determinate"){const g=2*Math.PI*((ei-u)/2);p.strokeDasharray=g.toFixed(3),y["aria-valuenow"]=Math.round(c),p.strokeDashoffset=`${((100-c)/100*g).toFixed(3)}px`,E.transform="rotate(-90deg)"}return v(CG,G({className:Tt(f.root,i),style:G({width:a,height:a},E,l),ownerState:m,ref:n,role:"progressbar"},y,h,{children:v(bG,{className:f.svg,ownerState:m,viewBox:`${ei/2} ${ei/2} ${ei} ${ei}`,children:v(IG,{className:f.circle,style:p,ownerState:m,cx:ei,cy:ei,r:(ei-u)/2,fill:"none",strokeWidth:u})})}))}),AG=xG;function NG(t){return _r("MuiSkeleton",t)}Sr("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const $G=["animation","className","component","height","style","variant","width"];let jd=t=>t,KS,QS,YS,XS;const PG=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:s,height:o}=t;return Yr({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},NG,e)},LG=Ps(KS||(KS=jd`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),MG=Ps(QS||(QS=jd`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),DG=Gt("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=iq(t.shape.borderRadius)||"px",r=sq(t.shape.borderRadius);return G({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:Hl(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&Wl(YS||(YS=jd`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),LG),({ownerState:t,theme:e})=>t.animation==="wave"&&Wl(XS||(XS=jd`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),MG,(e.vars||e).palette.action.hover)),OG=_.exports.forwardRef(function(e,n){const r=Er({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:u="text",width:c}=r,d=nt(r,$G),h=G({},r,{animation:i,component:o,variant:u,hasChildren:Boolean(d.children)}),m=PG(h);return v(DG,G({as:o,ref:n,className:Tt(m.root,s),ownerState:h},d,{style:G({width:c,height:a},l)}))}),Fx=OG,Of=({status:t,title:e,text:n,strong:r})=>V(oG,{severity:t,sx:{position:"absolute",top:"127px",left:"50%",transform:"translateX(-50%)",width:"874px",boxSizing:"border-box",textAlign:"left","@media screen and (max-width: 940px)":{width:"420px"},"@media screen and (max-width:600px)":{width:"300px"}},children:[v(_G,{children:e}),n,r&&v("strong",{children:r})]});var B0={},UG=qt.exports;Object.defineProperty(B0,"__esModule",{value:!0});var z0=B0.default=void 0,VG=UG(rn()),FG=sn,BG=(0,VG.default)((0,FG.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"}),"Login");z0=B0.default=BG;var j0={},zG=qt.exports;Object.defineProperty(j0,"__esModule",{value:!0});var Bx=j0.default=void 0,jG=zG(rn()),WG=sn,HG=(0,jG.default)((0,WG.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");Bx=j0.default=HG;const qG=()=>{const{toRegist:t,toReset:e,toHome:n}=ht();Qr();const{signIn:r,loading:i,error:s}=Q7(),o=_.exports.useRef(null),a=_.exports.useRef(null),{messageState:l,flashState:u,reset:c}=Lf(1e4),d=h=>{var p,E;h.preventDefault();const m=(p=o.current)==null?void 0:p.value,f=(E=a.current)==null?void 0:E.value;m&&f&&r(m,f).finally(c)};return V(vt,{children:[u&&v(Of,{...l}),v($u,{}),V(Ls,{title:"Sign In",onSubmit:d,startIcon:v(Bx,{fontSize:"large"}),children:[v(Dr,{label:"Email",type:"email",placeholder:"Your Email",required:!0,ref:o}),v(Dr,{label:"Password",type:"password",placeholder:"Password",required:!0,ref:a}),v(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,height:"52px",margin:"30px 0 0",startIcon:v(z0,{}),children:"Sign In"}),V("div",{className:K7.buttonGroup,children:[v(Qe,{type:"button",color:"transparent",onClick:e,children:"Forgot Password"}),v(Qe,{type:"button",color:"transparent",onClick:t,children:"Create a New Account"})]})]})]})},GG="_buttonGroup_faa41_1",KG={buttonGroup:GG};function QG(){const[t,e]=_.exports.useState(!1),[n,r]=_.exports.useState(),{toProfile:i}=ht(),s=(a,l)=>{const u=wn(Ne,"users",a);_u(u,{...l})};return{signUp:async(a,l)=>(e(!0),await ZL(Ni,a,l).then(u=>{console.log("signed up!");const{user:{uid:c,email:d}}=u;return s(c,{uid:c,email:d}),u}).then(u=>i(u.user.uid)).catch(u=>{r(u instanceof Error?u:Error("unecpected error!"))}).finally(()=>{e(!1)})),loading:t,error:n}}var W0={},YG=qt.exports;Object.defineProperty(W0,"__esModule",{value:!0});var zx=W0.default=void 0,XG=YG(rn()),JG=sn,ZG=(0,XG.default)((0,JG.jsx)("path",{fillRule:"evenodd",d:"m9 17 3-2.94c-.39-.04-.68-.06-1-.06-2.67 0-8 1.34-8 4v2h9l-3-3zm2-5c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m4.47 8.5L12 17l1.4-1.41 2.07 2.08 5.13-5.17 1.4 1.41z"}),"HowToReg");zx=W0.default=ZG;var H0={},eK=qt.exports;Object.defineProperty(H0,"__esModule",{value:!0});var jx=H0.default=void 0,tK=eK(rn()),nK=sn,rK=(0,tK.default)((0,nK.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");jx=H0.default=rK;const iK=()=>{const{toLogin:t}=ht(),{signUp:e,loading:n,error:r}=QG(),i=_.exports.useRef(null),s=_.exports.useRef(null),o=_.exports.useRef(null),a=(u,c)=>u===c;return V(vt,{children:[v($u,{}),V(Ls,{title:"Sign Up",onSubmit:u=>{var m,f,p;u.preventDefault();const c=(m=i.current)==null?void 0:m.value,d=(f=s.current)==null?void 0:f.value,h=(p=o.current)==null?void 0:p.value;c&&d&&h&&a(d,h)&&e(c,d)},startIcon:v(zx,{fontSize:"large"}),children:[v(Dr,{label:"Email",type:"email",placeholder:"Your Email",required:!0,ref:i}),v(Dr,{label:"Password",type:"password",placeholder:"Password",required:!0,ref:s}),v(Dr,{label:"Password Confirmation",type:"password",placeholder:"Password Confirmation",required:!0,ref:o}),v(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,height:"52px",margin:"30px 0 0",startIcon:v(jx,{}),children:"Sign Up"}),v("div",{className:KG.buttonGroup,children:v(Qe,{type:"button",color:"transparent",onClick:t,startIcon:v(z0,{}),children:"Sign In"})})]})]})};function sK(){const[t,e]=_.exports.useState(!1),[n,r]=_.exports.useState(),{toComplete:i,toRedirect:s}=ht();return{passwordReset:async a=>(e(!0),await JL(Ni,a).then(()=>{i({title:"Success",status:"success",text:"Send Email succeeded",email:a})}).catch(l=>{r(l instanceof Error?l:Error("unecpected error!")),s({title:"Error",status:"error",text:"Send Email failed.",strong:n==null?void 0:n.message})}).finally(()=>{e(!1)})),loading:t,error:n}}var q0={},oK=qt.exports;Object.defineProperty(q0,"__esModule",{value:!0});var Wx=q0.default=void 0,aK=oK(rn()),lK=sn,uK=(0,aK.default)((0,lK.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Email");Wx=q0.default=uK;var G0={},cK=qt.exports;Object.defineProperty(G0,"__esModule",{value:!0});var Hx=G0.default=void 0,dK=cK(rn()),hK=sn,fK=(0,dK.default)((0,hK.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1zm-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1v1z"}),"LockReset");Hx=G0.default=fK;const pK=()=>{const{toLogin:t,toComplete:e}=ht(),{passwordReset:n}=sK(),r=_.exports.useRef(null);return V(vt,{children:[v($u,{}),V(Ls,{title:"Enter your Email address",secondTitle:"to reset your password.",onSubmit:async s=>{var o;if(s.preventDefault(),(o=r.current)!=null&&o.value){const a=r.current.value;await n(a)}},startIcon:v(Wx,{fontSize:"large"}),children:[v(Dr,{label:"Email",type:"email",placeholder:"Your Email",ref:r}),v(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,height:"52px",margin:"30px 0 0",startIcon:v(Hx,{}),children:"Reset Password"}),v(Qe,{type:"button",color:"transparent",onClick:t,children:"Cancel"})]})]})},mK="_card_1tpro_1",gK={card:mK},Wd=({children:t,onClick:e,startIcon:n})=>V("div",{className:gK.card,onClick:e,children:[n,t]}),yK="_cardContainer_1djap_1",vK={cardContainer:yK};var K0={},wK=qt.exports;Object.defineProperty(K0,"__esModule",{value:!0});var qx=K0.default=void 0,_K=wK(rn()),SK=sn,EK=(0,_K.default)((0,SK.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"Group");qx=K0.default=EK;var Q0={},TK=qt.exports;Object.defineProperty(Q0,"__esModule",{value:!0});var Gx=Q0.default=void 0,RK=TK(rn()),kK=sn,CK=(0,RK.default)((0,kK.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"}),"Groups");Gx=Q0.default=CK;const bK=()=>{const t=Qr(),{toLogin:e,toPrivate:n,toGroup:r,toProfile:i}=ht(),{messageState:s,flashState:o}=Lf(5e3);return _.exports.useEffect(()=>{t?(!(t!=null&&t.photoURL)||!t.displayName)&&i(t.uid):e()},[t==null?void 0:t.uid]),V(vt,{children:[o&&v(Of,{...s}),V("div",{className:vK.cardContainer,children:[v(Wd,{onClick:()=>n(t==null?void 0:t.uid),startIcon:v(qx,{fontSize:"large"}),children:"Private Chat"}),v(Wd,{onClick:()=>r(t==null?void 0:t.uid),startIcon:v(Gx,{fontSize:"large"}),children:"Group Chat"})]})]})},IK="_container_tqwpj_1",xK="_userList_tqwpj_26",AK="_group_tqwpj_34",NK="_invite_tqwpj_37",$K="_listTitle_tqwpj_47",PK="_user_tqwpj_26",LK="_active_tqwpj_84",MK="_passive_tqwpj_89",DK="_buttonGroup_tqwpj_93",OK="_label_tqwpj_112",UK="_loading_tqwpj_116",ln={container:IK,userList:xK,group:AK,invite:NK,listTitle:$K,user:PK,active:LK,passive:MK,buttonGroup:DK,label:OK,loading:UK},VK="_textCenter_xy00x_1",FK="_text_xy00x_1",BK="_avatar_xy00x_15",So={textCenter:VK,text:FK,avatar:BK},zK="_overlay_wxi05_1",jK="_modalBody_wxi05_14",WK="_modalButton_wxi05_30",HK="_row_wxi05_37",qK="_title_wxi05_48",GK="_userList_wxi05_57",KK="_group_wxi05_65",QK="_invite_wxi05_68",YK="_user_wxi05_57",XK="_passive_wxi05_105",JK="_label_wxi05_109",ZK="_contentTitle_wxi05_113",eQ="_contentBox_wxi05_118",pt={overlay:zK,modalBody:jK,modalButton:WK,row:HK,title:qK,userList:GK,group:KK,invite:QK,user:YK,passive:XK,label:JK,contentTitle:ZK,contentBox:eQ},Uf=({title:t,children:e,open:n,onSubmit:r})=>v(vt,{children:n&&v("div",{id:"overlay",className:pt.overlay,children:V("form",{id:"modalBody",className:pt.modalBody,onSubmit:r,children:[v("h2",{className:pt.title,children:t}),e]})})}),$i=async t=>{const e=wn(Ne,"users",t),n=await Xv(e);if(n.exists())return n.data()},Vf=async(t,e,n,r)=>{const i=Ft(Ne,"groups",e,"messages");await $i(t).then(async s=>{s&&await Vo(i,{from:t,displayName:s.displayName,createdAt:Qh(),info:!0,status:n,to:r!=null?r:""})})},tQ=({open:t,modalToggle:e})=>{Qr();const{uid:n,groupid:r}=Ht(),{toJoin:i}=ht(),[s,o]=_.exports.useState({}),a=async(u,c)=>{const d=Ft(Ne,"groups",c,"invitations");await Zv(d).then(async h=>{if(h.docs.map(f=>f.id).includes(u)){const f=wn(Ne,"groups",c,"invitations",u);await e0(f)}})},l=async(u,c)=>{const d=wn(Ne,"groups",u,"members",c);await $i(c).then(async h=>{await _u(d,h).then(async()=>{await Vf(c,u,"joined")}).then(async()=>{await a(c,u)})}).finally(()=>e("join"))};return _.exports.useEffect(()=>{if(r){const u=wn(Ne,"groups",r);Xv(u).then(c=>{c.exists()&&o({...c.data()})})}},[]),V(Uf,{title:"Join this group?",open:t,children:[s&&V(vt,{children:[v("img",{src:s.photoURL,alt:"",className:So.avatar}),V("div",{children:[v("p",{className:pt.contentTitle,children:"Group name"}),v("div",{className:pt.contentBox,children:s.groupName})]}),V("div",{children:[v("p",{className:pt.contentTitle,children:"Description"}),v("div",{className:pt.contentBox,children:s.description})]})]}),V("div",{className:`${pt.modalButton} ${pt.row}`,children:[v(Qe,{type:"button",color:"primary",variant:"contained",onClick:()=>l(r,n),fullWidth:!0,children:"Yes"}),v(Qe,{type:"button",color:"transparent",variant:"outlined",onClick:()=>i(n),fullWidth:!0,children:"No"})]})]})},nQ=({open:t,modalToggle:e})=>{Qr();const{uid:n,groupid:r}=Ht(),{toHome:i}=ht(),s=_.exports.useCallback(async(o,a)=>{const l={title:"Success",status:"success",text:"Exit group."};await e0(wn(Ne,"groups",o,"members",a)).then(()=>i(a,l)).then(async()=>{await Vf(a,o,"existed")})},[]);return v(Uf,{title:"Exit this group?",open:t,children:V("div",{className:`${pt.modalButton} ${pt.row}`,children:[v(Qe,{type:"button",color:"primary",variant:"contained",onClick:()=>s(r,n),fullWidth:!0,children:"Yes"}),v(Qe,{type:"button",color:"transparent",variant:"outlined",onClick:()=>e("exit"),fullWidth:!0,children:"No"})]})})},rQ=_.exports.memo(({open:t,modalToggle:e,inviteUsers:n,inviteIds:r,setInviteIds:i})=>{const{uid:s,groupid:o}=Ht(),[a,l]=_.exports.useState(!1),[u,c]=_.exports.useState([]),d=async f=>{f.preventDefault(),r.length!==0&&(l(!0),r.forEach(async p=>{const E=wn(Ne,"groups",o,"invitations",p);await $i(p).then(async y=>{await _u(E,y).then(m)})}),u.forEach(async p=>{await Vf(s,o,"invited",p)})),l(!1)},h=f=>{const p=f.target.value;u.includes(p)?c([...u.filter(E=>E!==p)]):c([...u,p]),i&&(r.includes(p)?i([...r.filter(E=>E!==p)]):i([...r,p]))},m=_.exports.useCallback(()=>{i&&(e("invite"),i([]),c([]))},[t]);return V(Uf,{title:"Select the member to invite",open:t,onSubmit:d,children:[v("ul",{className:`${pt.userList} ${pt.invite}`,children:n.length?n.map(f=>v("label",{className:pt.label,children:V("li",{className:`${pt.user} ${pt.passive} `,onClick:()=>{},children:[v("input",{type:"checkbox",name:"",id:"",value:f.id,onChange:h}),v("img",{src:f.data().photoURL,alt:"",className:So.avatar}),v("p",{children:f.data().displayName})]})},f.id)):v("div",{children:"...loading"})}),V("div",{className:`${pt.modalButton}`,children:[v(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,disabled:a,children:"Invite New Members"}),v(Qe,{type:"button",color:"transparent",variant:"filled",fullWidth:!0,onClick:m,children:"Cancel"})]})]})});var Y0={},iQ=qt.exports;Object.defineProperty(Y0,"__esModule",{value:!0});var Ff=Y0.default=void 0,sQ=iQ(rn()),oQ=sn,aQ=(0,sQ.default)((0,oQ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");Ff=Y0.default=aQ;const lQ="_container_1p1lq_1",uQ="_avatar_1p1lq_8",wc={container:lQ,avatar:uQ},Hd=({size:t=60,state:e,setState:n,header:r=!1,chat:i=!1,storageRef:s})=>{const{uid:o}=Ht(),{toProfile:a}=ht(),l=Qr(),[u,c]=_.exports.useState(null),d=f=>{n&&f.target.files!==null&&(c(""),n(f.target.files[0]))};_.exports.useEffect(()=>{s&&c(s)},[]),_.exports.useEffect(()=>{l!=null&&l.photoURL&&c(l.photoURL)},[l]);const h={width:t,height:t,borderRadius:"50%",objectFit:"cover"};return V("div",{children:[v("label",{htmlFor:"avatar",children:v(()=>v("div",{className:wc.container,children:i?s?v("img",{src:s,alt:"",style:h,className:wc.avatar}):v(Fx,{variant:"circular",width:t,height:t}):e!=null?v("img",{src:URL.createObjectURL(e),alt:"",style:h,className:wc.avatar}):u!==null?v("img",{src:u,alt:"",style:h,className:wc.avatar,onClick:()=>r&&a(o)}):v(Ff,{sx:{width:t,height:t}})}),{})}),!r&&!i&&v("input",{type:"file",accept:"image/*",style:{display:"none"},id:"avatar",onChange:d})]})},cQ=_.exports.memo(({open:t,modalToggle:e,cancelId:n,setCancelId:r})=>{const{uid:i,groupid:s}=Ht(),[o,a]=_.exports.useState(),l=async()=>{if(n&&r){const c=wn(Ne,"groups",s,"invitations",n);await e0(c).then(u).then(async()=>await Vf(i,s,"canceled",n))}},u=()=>{r&&(e("cancel"),r(""),a(void 0))};return _.exports.useEffect(()=>{n&&($i(n).then(c=>{a(c)}),console.log(o))},[n]),V(Uf,{title:"Cancel this invitation?",open:t,children:[o&&V("div",{children:[v(Hd,{size:40,storageRef:o.photoURL,chat:!0}),v("p",{children:o.displayName})]}),V("div",{className:`${pt.modalButton} ${pt.row}`,children:[v(Qe,{type:"button",color:"primary",variant:"contained",onClick:l,children:"Yes"}),v(Qe,{type:"button",color:"transparent",variant:"outlined",onClick:u,children:"No"})]})]})}),Kx=_.exports.memo(({group:t=!1})=>{const e=Qr(),{uid:n,partnerid:r,groupid:i}=Ht(),{toPrivateRoom:s}=ht(),[o,a]=_.exports.useState([]),[l,u]=_.exports.useState([]),[c,d]=_.exports.useState(""),[h,m]=_.exports.useState([]),[f,p]=_.exports.useState([]),[E,y]=_.exports.useState([]),[g,w]=_.exports.useState([]),[S,C]=_.exports.useState(!1),[I,b]=_.exports.useState(!1),[N,Z]=_.exports.useState(!1),[x,ee]=_.exports.useState(!1),pe=_.exports.useCallback(re=>{re==="invite"?C(!S):re==="exit"?b(!I):re==="join"?Z(!N):re==="cancel"&&ee(!x)},[N,I,S,x]),me=_.exports.useCallback(re=>re.id!==(e==null?void 0:e.uid),[f]);return _.exports.useEffect(()=>{const re=Ft(Ne,"users"),Le=pi(re,Te=>{m([...Te.docs.map(be=>be)])});if(t&&i){const Te=Ft(Ne,"groups",i,"members"),be=pi(Te,M=>{M.docs.every(me)&&!N?Z(!0):Z(!1),p([...M.docs.map(X=>X)]),a([...M.docs.map(X=>X.id)])});return()=>{be(),Le()}}else{const Te=pi(re,be=>{p([...be.docs.filter(M=>M.id!==(e==null?void 0:e.uid))]),a([...be.docs.map(M=>M.id)])});return()=>{Te(),Le()}}},[]),_.exports.useEffect(()=>{const Le=h.filter(Te=>o.includes(Te.id)===!1).filter(Te=>l.includes(Te.id)===!1);y([...Le])},[f,h,g]),_.exports.useEffect(()=>{if(i){const re=Ft(Ne,"groups",i,"invitations"),Le=pi(re,Te=>{w([...Te.docs.map(be=>be)]),u([...Te.docs.map(be=>be.id)])});return()=>{Le()}}},[]),V(vt,{children:[v(tQ,{open:N,modalToggle:pe}),v(rQ,{open:S,modalToggle:pe,inviteUsers:E,inviteIds:l,setInviteIds:u}),v(nQ,{open:I,modalToggle:pe}),v(cQ,{open:x,modalToggle:pe,cancelId:c,setCancelId:d}),v("div",{className:ln.container,children:V("ul",{className:`${ln.userList} ${i&&ln.group}`,children:[v("li",{className:ln.listTitle,children:t?"Members":"Users"}),f.length?f.map(re=>V("li",{className:`${ln.user} ${r===re.id?ln.active:ln.passive} ${t&&ln.active}`,onClick:()=>{!t&&s(e==null?void 0:e.uid,re.id)},children:[v("img",{src:re.data().photoURL,alt:"",className:So.avatar}),v("p",{children:re.data().displayName})]},re.id)):v("div",{className:ln.loading,children:"...loading"}),t&&V(vt,{children:[V("ul",{className:ln.userList,children:[v("li",{className:ln.listTitle,children:"Invitation"}),g.length?g.map(re=>V("li",{className:`${ln.user}`,onClick:()=>{pe("cancel"),d(re.id)},children:[v("img",{src:re.data().photoURL,alt:"",className:ln.image}),v("p",{children:re.data().displayName})]},re.id)):v("div",{className:`${So.textCenter} ${So.text}`,children:"Nobody invited"})]}),V("div",{className:ln.buttonGroup,children:[v(Qe,{type:"button",color:"success",variant:"outlined",fullWidth:!0,onClick:()=>pe("invite"),children:"Invite"}),v(Qe,{type:"button",color:"error",variant:"outlined",fullWidth:!0,onClick:()=>pe("exit"),children:"Exit"})]})]})]})})]})}),dQ="_chatRoom_1f43h_1",hQ="_notFound_1f43h_22",em={chatRoom:dQ,notFound:hQ},JS=t=>{const[e,n]=t.toDate().toLocaleTimeString().split(":");return Number(e)<10?`0${e}:${n}`:`${e}:${n}`},fQ="_message_1yxz8_1",pQ="_bubble_1yxz8_13",mQ="_own_1yxz8_19",gQ="_text_1yxz8_41",yQ="_partner_1yxz8_46",vQ="_profile_1yxz8_76",wQ="_time_1yxz8_85",un={message:fQ,bubble:pQ,own:mQ,text:gQ,partner:yQ,profile:vQ,time:wQ},_Q=_.exports.memo(({status:t,from:e,to:n})=>{const[r,i]=_.exports.useState(""),[s,o]=_.exports.useState("");return _.exports.useEffect(()=>{n&&$i(n).then(a=>{a&&i(a.displayName)}),$i(e).then(a=>{a&&o(a.displayName)})},[]),t==="joined"||t==="existed"?v("div",{className:un.info,children:v("p",{children:`${s} is ${t}!`})}):t==="invited"?v("div",{className:un.info,children:v("p",{children:`${r} is ${t} ${s}!`})}):v("div",{className:un.info,children:v("p",{children:`${s} ${t} invitation for ${r}!`})})}),Eo=({from:t,to:e,createdAt:n,id:r,message:i,info:s,status:o,displayName:a})=>{const{uid:l,partnerid:u,groupid:c}=Ht(),[d,h]=_.exports.useState({displayName:"",photoURL:""});return _.exports.useEffect(()=>{$i(t).then(m=>{h(m?{displayName:m.displayName,photoURL:m.photoURL}:{displayName:"Unknown",photoURL:null})})},[]),v(vt,{children:s?v(_Q,{status:o,to:e,from:t}):t===l?v("ul",{className:`${un.message} ${un.own}`,children:V("li",{className:un.text,children:[v("p",{className:un.bubble,children:i}),n!==null&&v("p",{className:un.time,children:JS(n)})]})}):V("ul",{className:`${un.message} ${un.partner}`,children:[V("li",{className:un.profile,children:[d.photoURL?v(Hd,{size:40,storageRef:d.photoURL,chat:!0}):v(Ff,{sx:{width:"40px",height:"40px"}}),v("p",{children:d.displayName!==void 0?d.displayName:"Unknown"})]}),V("li",{className:un.text,children:[v("p",{className:un.bubble,children:i}),n!==null?v("p",{className:un.time,children:JS(n)}):v(Fx,{variant:"text",width:40,height:24})]})]})})},SQ="_date_a43pv_1",EQ={date:SQ},qd=({year:t,month:e,day:n})=>v("div",{className:EQ.date,children:`${t}/${e}/${n}`}),ZS=async(t,e,n)=>{const r=wn(Ne,"users",e,"rooms",t);await _u(r,{roomid:n})},TQ=async(t,e,n,r)=>(await Vo(Ft(Ne,"rooms"),{owner:e,partner:n}).then(async i=>(await ZS(e,n,i.id),await ZS(n,e,i.id),t=i.id,i.id)).then(async i=>{const s=Ft(Ne,"rooms",`${i}`,"messages");await Vo(s,{message:r,from:e,createdAt:Qh()})}),{exist:!1,roomid:t}),RQ=async(t,e,n)=>{const r=Ft(Ne,"users",`${t}`,"rooms"),s=(await Zv(r)).docs.filter(a=>a.id===e);let o="";return s[0]!==void 0?(o=s[0].data().roomid,{exist:!0,roomid:o}):(console.log("not exist"),TQ(o,t,e,n))},Gd=t=>{const[e,n,r]=t.createdAt.toDate().toLocaleString().split(" ")[0].split("/");return{year:e,month:n,day:r}};var X0={},kQ=qt.exports;Object.defineProperty(X0,"__esModule",{value:!0});var Qx=X0.default=void 0,CQ=kQ(rn()),eE=sn,bQ=(0,CQ.default)([(0,eE.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5z"},"0"),(0,eE.jsx)("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")],"SearchOff");Qx=X0.default=bQ;var J0={},IQ=qt.exports;Object.defineProperty(J0,"__esModule",{value:!0});var Yx=J0.default=void 0,xQ=IQ(rn()),AQ=sn,NQ=(0,xQ.default)((0,AQ.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");Yx=J0.default=NQ;const $Q="_container_1b9mp_1",PQ="_input_1b9mp_24",LQ="_button_1b9mp_39",tm={container:$Q,input:PQ,button:LQ},Xx=({onSubmit:t,setState:e,state:n,loading:r})=>V("form",{className:tm.container,onSubmit:t,children:[v("input",{type:"text",className:tm.input,value:n,onChange:i=>e(i.target.value)}),n&&v("button",{className:tm.button,disabled:r,type:"submit",children:v(Yx,{sx:{height:"25px",color:"white",opacity:`${r?.3:1}`}})})]}),Jx=(t=!1)=>{const[e,n]=_.exports.useState([]),[r,i]=_.exports.useState(""),[s,o]=_.exports.useState(!1),[a,l]=_.exports.useState(!1),[u,c]=_.exports.useState(!1),[d,h]=_.exports.useState(!0),m=[$_("createdAt","asc")],{uid:f,partnerid:p,groupid:E}=Ht(),{pathname:y}=fh();if(t){const g=Op(Ft(Ne,"groups",E,"messages"),...m);_.exports.useEffect(()=>{const w=pi(g,S=>{n([...S.docs.map(C=>({id:C.id,...C.data()}))])});return()=>{w()}},[])}else{const g=async(w,S)=>{let C="";const I=wn(Ne,"users",`${w}`,"rooms",`${S}`);return await Xv(I).then(b=>{C=b.data().roomid}),C};_.exports.useEffect(()=>{if(r){const w=Op(Ft(Ne,"rooms",r,"messages"),...m),S=pi(w,C=>{n([...C.docs.map(I=>({id:I.id,...I.data()}))])});return()=>{S()}}},[r]),_.exports.useEffect(()=>{if(p){l(!0);const w=Ft(Ne,"users",f,"rooms"),S=pi(w,C=>{const I=C.docs.filter(b=>b.id===p);if(I.length&&f){const b=I[0].id;g(f,b).then(N=>{i(N);const Z=Op(Ft(Ne,"rooms",`${N}`,"messages"),$_("createdAt","asc"));Zv(Z).then(x=>{n([...x.docs.map(ee=>({id:ee.id,...ee.data()}))])})}),l(!1)}else console.log("not exist"),l(!1)});return()=>{S()}}},[y]),_.exports.useEffect(()=>{p?(c(!0),n([]),i("")):c(!1),d||i("")},[y])}return{chatMessages:e,chatRoom:r,setChatRoom:i,setLoading:o,loading:s,dataLoading:a,setDataLoading:l,setRoomExist:h,roomExist:d}},tE=()=>{const{uid:t,partnerid:e}=Ht(),[n,r]=_.exports.useState(""),{chatMessages:i,chatRoom:s,setChatRoom:o,loading:a,setLoading:l,dataLoading:u,setRoomExist:c,roomExist:d}=Jx(),h=async m=>{if(m.preventDefault(),t&&e){l(!0);const{exist:f,roomid:p}=await RQ(t,e,n);if(o(p),c(f),f){console.log("room is exist");const E=Ft(Ne,"rooms",`${p}`,"messages");await Vo(E,{message:n,from:t,createdAt:Qh()})}else console.log("room is created");l(!1),r("")}};return V(vt,{children:[v(Kx,{}),v("div",{className:em.chatRoom,children:u?V("div",{className:em.load,children:[v(AG,{}),v("p",{children:"loading..."})]}):i.length!==0?i.map((m,f)=>{if(m.createdAt!==null){const p=Gd(m);if(f===0)return V(_.exports.Fragment,{children:[v(qd,{...p}),v(Eo,{...m})]},m.id);{const E=Gd(i[f-1]);return E.month===p.month&&E.day===p.day?v(Eo,{...m},m.id):V(_.exports.Fragment,{children:[v(qd,{...p}),v(Eo,{...m})]},m.id)}}}):s===""&&d&&V("div",{className:em.notFound,children:[v(Qx,{fontSize:"large"}),V("p",{children:["No history found. ",v("br",{}),"You have not started a conversation with this person yet."]})]})}),t&&e&&v(Xx,{onSubmit:h,loading:a,state:n,setState:r})]})},MQ="_cardContainer_o2d8r_1",DQ={cardContainer:MQ},OQ=()=>{const{toJoin:t,toCreate:e}=ht(),{uid:n}=Ht();return v(vt,{children:V("div",{className:DQ.cardContainer,children:[v(Wd,{onClick:()=>t(n),children:"Join a already exists group"}),v(Wd,{onClick:()=>e(n),children:"Create a new group"})]})})};var Z0={},UQ=qt.exports;Object.defineProperty(Z0,"__esModule",{value:!0});var Zx=Z0.default=void 0,VQ=UQ(rn()),FQ=sn,BQ=(0,VQ.default)((0,FQ.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"}),"QuestionAnswer");Zx=Z0.default=BQ;var e1={},zQ=qt.exports;Object.defineProperty(e1,"__esModule",{value:!0});var eA=e1.default=void 0,jQ=zQ(rn()),WQ=sn,HQ=(0,jQ.default)((0,WQ.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");eA=e1.default=HQ;const qQ=()=>{const{toHome:t}=ht(),e=Qr(),n=o8();Ht();const[r,i]=_.exports.useState(null),s=_.exports.useRef(null),o=async(l,u,c)=>{const d=wn(Ne,"users",l);await db(d,{displayName:u,photoURL:c}).then(()=>console.log("Updated user info"))};return v(vt,{children:V(Ls,{title:"Setting Profile",onSubmit:async l=>{var h;l.preventDefault();const u=(h=s.current)==null?void 0:h.value,{uid:c,email:d}=e;if(r&&u&&c&&d){const m=$b(Pb,`avaters/${c}_${r.name}`);await Ab(m,r).then(()=>console.log("Uploaded a file")),await Nb(m).then(async f=>{await $w(Ni.currentUser,{displayName:u,photoURL:f}).then(()=>{n({displayName:u,photoURL:f,email:d,uid:c})}).then(async()=>await o(c,u,f)).then(()=>console.log("Updated profile")).then(()=>t(c,{title:"Success",status:"success",text:"Setting profile succeeded."}))})}else!r&&u&&c&&d&&(e==null?void 0:e.photoURL)?await $w(Ni.currentUser,{displayName:u}).then(()=>{n({displayName:u,photoURL:e.photoURL,email:d,uid:c})}).then(async()=>await o(c,u,e.photoURL)).then(()=>console.log("Updated profile")).then(()=>t(c,{title:"Success",status:"success",text:"Setting profile succeeded."})):alert("User name and Profile image is a required contents to start chatting")},startIcon:v(eA,{fontSize:"large"}),children:[e!=null&&e.photoURL?v(Hd,{size:80,state:r,setState:i,header:!1}):v(Hd,{size:80,state:r,setState:i,header:!1}),e!=null&&e.displayName?v(Dr,{label:"Name",placeholder:"Your Name",required:!0,ref:s,defaultValue:e.displayName}):v(Dr,{label:"Name",placeholder:"Your Name",required:!0,ref:s}),v(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,height:"52px",margin:"30px 0 0",startIcon:v(Zx,{}),children:"Start Chat"})]})})},GQ=()=>{const t=Qr(),{toLogin:e,toProfile:n}=ht();return _.exports.useEffect(()=>{t?(!(t!=null&&t.photoURL)||!t.displayName)&&n(t.uid):e()},[t==null?void 0:t.uid]),V(vt,{children:[v($u,{}),v(R$,{})]})},KQ="_email_11pat_1",QQ={email:KQ};var t1={},YQ=qt.exports;Object.defineProperty(t1,"__esModule",{value:!0});var tA=t1.default=void 0,XQ=YQ(rn()),JQ=sn,ZQ=(0,XQ.default)((0,JQ.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");tA=t1.default=ZQ;const eY=()=>{const{toLogin:t}=ht(),e=nq(),{messageState:n,flashState:r}=Lf(5e3);return V(vt,{children:[v($u,{}),r&&v(Of,{...n}),V(Ls,{title:"Send Email to reset your password.",secondTitle:"Please confirm your Email.",startIcon:v(tA,{fontSize:"large"}),children:[v("div",{className:QQ.email,children:v("p",{children:e.state.usr.email})}),v(Qe,{type:"button",color:"primary",variant:"contained",fullWidth:!0,height:"52px",margin:"30px 0 0",onClick:t,children:"Back to Sign In"})]})]})},tY="_groupList_qm0ub_1",nY="_group_qm0ub_1",nE={groupList:tY,group:nY},rY=()=>{const[t,e]=_.exports.useState([]),[n,r]=_.exports.useState(!1),{toGroupRoom:i}=ht(),{uid:s}=Ht();return _.exports.useEffect(()=>{r(!0);const o=Ft(Ne,"groups"),a=pi(o,l=>{e(l.docs.map(u=>({id:u.id,...u.data()}))),r(!1)});return()=>{a()}},[]),v(Ls,{title:"Group List",children:v("ul",{className:nE.groupList,children:t.length?t.map(({id:o,groupName:a,photoURL:l})=>V("li",{className:nE.group,onClick:()=>i(s,o),children:[v("img",{src:l,alt:a,className:So.avatar}),v("p",{children:a})]},o)):n?v("li",{children:"...loading"}):v("li",{children:"Not Found"})})})},iY="_input_1xlil_1",sY={input:iY},oY=({label:t,rows:e=6,cols:n=60,placeholder:r,required:i,defaultValue:s,value:o,onChange:a})=>V("label",{className:sY.input,children:[t,v("textarea",{rows:e,cols:n,value:o,placeholder:r,required:i,defaultValue:s,onChange:a})]}),aY=()=>{const[t,e]=_.exports.useState(!1),{toGroupRoom:n,toRedirect:r}=ht(),{uid:i}=Ht(),s=async(a,l)=>{const u=$b(Pb,`avaters/${a}_${l.name}`);return await Ab(u,l).then(()=>console.log("Uploaded a file")),await Nb(u)};return async(a,l)=>{e(!0);const u=Ft(Ne,"groups");await Vo(u,a).then(async({id:c})=>{const d=wn(Ne,"groups",c,"members",i);return await $i(i).then(async h=>{await _u(d,h)}),c}).then(async c=>(await s(c,l).then(async d=>{const h=wn(Ne,"groups",c);await db(h,{photoURL:d})}),c)).then(c=>(n(i,c,{title:"Success",status:"success",text:"Create group succeeded."}),c)).catch(c=>{r({title:"Error",status:"error",text:"Create group failed."})}).finally(()=>{e(!0)})}},lY={},uY=()=>{const[t,e]=_.exports.useState(""),n=_.exports.useRef(null),{uid:r}=Ht(),i=aY(),{messageState:s,flashState:o,reset:a}=Lf(3e3),{toHome:l}=ht(),[u,c]=_.exports.useState(null),d=p=>{e(p.target.value)},h=async p=>{var y;p.preventDefault();const E=(y=n.current)==null?void 0:y.value;u&&E&&t&&await i({groupName:E,description:t,owner:r},u)},m=p=>{p.target.files!==null&&c(p.target.files[0])},f=()=>u?v("img",{src:URL.createObjectURL(u),alt:"",className:lY.avatar}):v(Ff,{sx:{width:"60px",height:"60px"}});return V(vt,{children:[o&&v(Of,{...s}),V(Ls,{title:"Create a new group",onSubmit:async p=>h(p),children:[V("div",{children:[v("label",{htmlFor:"avatar",children:v(f,{})}),v("input",{type:"file",accept:"image/*",style:{display:"none"},id:"avatar",onChange:m})]}),v(Dr,{label:"Group name",placeholder:"Group name",required:!0,ref:n}),v(oY,{value:t,onChange:d,label:"Description",placeholder:"Description about this group"}),v(Qe,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,margin:"20px 0 0",children:"Next"}),v(Qe,{type:"button",color:"transparent",variant:"filled",onClick:()=>l(r),children:"Cancel"})]})]})},cY="_chatRoom_1sdxn_1",dY={chatRoom:cY},hY=()=>{const[t,e]=_.exports.useState(!1),[n,r]=_.exports.useState(""),{uid:i,groupid:s}=Ht(),{chatMessages:o}=Jx(!0),a=async l=>{if(l.preventDefault(),n){const u=Ft(Ne,"groups",s,"messages");await Vo(u,{message:n,from:i,createdAt:Qh()}).then(()=>r(""))}};return V(vt,{children:[v(Kx,{group:!0}),v("div",{className:dY.chatRoom,children:o.length?o.map((l,u)=>{if(l.createdAt!==null){const c=Gd(l);if(u===0)return V(_.exports.Fragment,{children:[v(qd,{...c}),v(Eo,{...l})]},l.id);{const d=Gd(o[u-1]);return d.month===c.month&&d.day===c.day?v(Eo,{...l},l.id):V(_.exports.Fragment,{children:[v(qd,{...c}),v(Eo,{...l})]},l.id)}}}):t?v("div",{children:"...loading"}):v("div",{children:"No history."})}),v(Xx,{onSubmit:a,loading:t,state:n,setState:r})]})},fY=()=>V(C$,{children:[v(Yt,{path:"/",element:v(B$,{})}),v(Yt,{path:"/login",element:v(qG,{})}),v(Yt,{path:"/regist",element:v(iK,{})}),v(Yt,{path:"/reset",element:v(pK,{})}),v(Yt,{path:"/reset/complete",element:v(eY,{})}),V(Yt,{path:"/:uid",element:v(GQ,{}),children:[v(Yt,{path:"profile",element:v(qQ,{})}),v(Yt,{path:"home",element:v(bK,{})}),v(Yt,{path:"group",element:v(OQ,{})}),v(Yt,{path:"group/join",element:v(rY,{})}),v(Yt,{path:"group/create",element:v(uY,{})}),v(Yt,{path:"group/:groupid",element:v(hY,{})}),v(Yt,{path:"private",element:v(tE,{})}),v(Yt,{path:"private/:partnerid",element:v(tE,{})})]})]});function pY(){return v(n8,{children:v(_.exports.Suspense,{fallback:v("div",{children:"...loading"}),children:v(b$,{children:v(fY,{})})})})}nm.createRoot(document.getElementById("root")).render(v(rt.StrictMode,{children:v(pY,{})}));
